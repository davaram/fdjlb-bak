(function(e){function t(t){var r=t[0];var a=t[1];var c=t[2];var u,l,f=0,s=[];for(;f<r.length;f++){l=r[f];if(Object.prototype.hasOwnProperty.call(i,l)&&i[l])s.push(i[l][0]);i[l]=0}for(u in a)if(Object.prototype.hasOwnProperty.call(a,u))e[u]=a[u];if(d)d(t);while(s.length)s.shift()();o.push.apply(o,c||[]);return n()}function n(){var e;for(var t=0;t<o.length;t++){var n=o[t];var r=true;for(var a=1;a<n.length;a++){var c=n[a];if(0!==i[c])r=false}if(r){o.splice(t--,1);e=u(u.s=n[0])}}return e}var r={};var a={10:0};var i={10:0};var o=[];function c(e){return u.p+"common/"+({3:"loginsdk_module",17:"ttwid_m"}[e]||e)+"."+{3:"db248e48",17:"f6bf03e4",19:"ec713060",20:"94c31613"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:false,exports:{}};e[t].call(n.exports,n,n.exports,u);n.l=true;return n.exports}u.e=function e(t){var n=[];if(!s||!s.prototype.then){function r(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}var o=setTimeout;function l(){}function f(e,t){return function(){e.apply(t,arguments)}}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0;this._handled=false;this._value=void 0;this._deferreds=[];h(e,this)}function d(e,t){while(3===e._state)e=e._value;if(0===e._state){e._deferreds.push(t);return}e._handled=true;s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n){(1===e._state?v:m)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(a){m(t.promise,a);return}v(t.promise,r)}))}function v(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof s){e._state=3;e._value=t;p(e);return}else if("function"===typeof n){h(f(n,t),e);return}}e._state=1;e._value=t;p(e)}catch(r){m(e,r)}}function m(e,t){e._state=2;e._value=t;p(e)}function p(e){if(2===e._state&&0===e._deferreds.length)s._immediateFn((function(){if(!e._handled)s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)d(e,e._deferreds[t]);e._deferreds=null}function b(e,t,n){this.onFulfilled="function"===typeof e?e:null;this.onRejected="function"===typeof t?t:null;this.promise=n}function h(e,t){var n=false;try{e((function(e){if(n)return;n=true;v(t,e)}),(function(e){if(n)return;n=true;m(t,e)}))}catch(r){if(n)return;n=true;m(t,r)}}s.prototype["catch"]=function(e){return this.then(null,e)};s.prototype.then=function(e,t){var n=new this.constructor(l);d(this,new b(e,t,n));return n};s.prototype["finally"]=r;s.all=function(e){return new s((function(t,n){if(!e||"undefined"===typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var a=r.length;function i(e,o){try{if(o&&("object"===typeof o||"function"===typeof o)){var c=o.then;if("function"===typeof c){c.call(o,(function(t){i(e,t)}),n);return}}r[e]=o;if(0===--a)t(r)}catch(u){n(u)}}for(var o=0;o<r.length;o++)i(o,r[o])}))};s.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===s)return e;return new s((function(t){t(e)}))};s.reject=function(e){return new s((function(t,n){n(e)}))};s.race=function(e){return new s((function(t,n){for(var r=0,a=e.length;r<a;r++)e[r].then(t,n)}))};s._immediateFn="function"===typeof setImmediate&&function(e){setImmediate(e)}||function(e){o(e,0)};s._unhandledRejectionFn=function e(t){if("undefined"!==typeof console&&console)void 0}}var g={19:1};if(a[t])n.push(a[t]);else if(0!==a[t]&&g[t])n.push(a[t]=new s((function(e,n){var r="common/"+({3:"loginsdk_module",17:"ttwid_m"}[t]||t)+"."+{3:"31d6cfe0",17:"31d6cfe0",19:"5280a77e",20:"31d6cfe0"}[t]+".css";var i=u.p+r;var o=document.getElementsByTagName("link");for(var c=0;c<o.length;c++){var l=o[c];var f=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(f===r||f===i))return e()}var s=document.getElementsByTagName("style");for(var c=0;c<s.length;c++){var l=s[c];var f=l.getAttribute("data-href");if(f===r||f===i)return e()}var d=document.createElement("link");d.rel="stylesheet";d.type="text/css";d.onload=e;d.onerror=function(e){var r=e&&e.target&&e.target.src||i;var o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED";o.request=r;delete a[t];d.parentNode.removeChild(d);n(o)};d.href=i;var v=document.getElementsByTagName("head")[0];v.appendChild(d)})).then((function(){a[t]=0})));var _=i[t];if(0!==_)if(_)n.push(_[2]);else{var y=new s((function(e,n){_=i[t]=[e,n]}));n.push(_[2]=y);var w=document.createElement("script");var k;w.charset="utf-8";w.timeout=120;if(u.nc)w.setAttribute("nonce",u.nc);w.src=c(t);var E=new Error;k=function(e){w.onerror=w.onload=null;clearTimeout(j);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type);var a=e&&e.target&&e.target.src;E.message="Loading chunk "+t+" failed.\n("+r+": "+a+")";E.name="ChunkLoadError";E.type=r;E.request=a;n[1](E)}i[t]=void 0}};var j=setTimeout((function(){k({type:"timeout",target:w})}),12e4);w.onerror=w.onload=k;document.head.appendChild(w)}return s.all(n)};u.m=e;u.c=r;u.d=function(e,t,n){if(!u.o(e,t))Object.defineProperty(e,t,{enumerable:true,get:n})};u.r=function(e){if("undefined"!==typeof Symbol&&Symbol.toStringTag)Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:true})};u.t=function(e,t){if(1&t)e=u(e);if(8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);u.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n};u.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};u.d(t,"a",t);return t};u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};u.p="//lf3-cdn2-tos.bytescm.com/toutiao/toutiao_web_pc/";u.oe=function(e){void 0;throw e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[];var f=l.push.bind(l);l.push=t;l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var d=f;o.push([5,2,1,0]);return n()})({"028f84ba6d27e52aa246":function(e,t,n){},"05ba5bc0c7218abdc1d1":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function i(e,t,n){if(t)a(e.prototype,t);if(n)a(e,n);return e}var o=function(){function e(){r(this,e);this.tasks=[]}i(e,[{key:"push",value:function e(t){this.tasks.push(t)}},{key:"exec",value:function e(){while(this.tasks.length){var t=this.tasks.shift();t&&t.apply(void 0,arguments)}}}]);return e}()},"076bf3210b3d303da0b6":function(e,t,n){"use strict";var r=n("d2cc329ce222e2406492");var a=n("352fe4c99a6fff2f363c");var i=n("f9c528707353f5b6df95");var o=n("fa2a44115ff2bd1a0d71");var c=n("514e048378a284fc2dcd");var u=n("4fa4ba9dede71d4f591e");var l=n("a2b92cfef2eaa695ad2f");var f=n("93d7a148460d9069f5a3");var s=n("056606c89293aa5bef85");var d=n("69084d01d3449fc1bc27");var v=n.n(d);var m=n("174811872339f1d02c40");var p=n.n(m);var b=n("a79cb04363dcc4858702");var h=n.n(b);var g=n("626346d0a60969063da7");var _=n.n(g);var y=n("cb1df0af3c49a4eae849");var w=n("acb455effcf8850d4323");var k=n("e2097d7c28f72f984fd6");var E=function e(t,n){var r=t.visible,a=t.pos,i=t.children;return v.a.createElement(k["a"],{className:"ttp-city-selector-portal",visible:r,closeTimeout:100},v.a.createElement("div",{className:"ttp-city-selector-dropdown-wrapper",ref:n,style:{left:a.x,top:a.y}},v.a.createElement("div",{className:"ttp-city-selector-dropdown"},i)))};var j=v.a.forwardRef(E);var O=n("3fdae7134aece5b1a8e9");var x=n("a37ac43bf3b2879b42e3");function C(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function I(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}var S=n("98ad94a9d064c7351e07");var T=n("05ba5bc0c7218abdc1d1");function N(e,t){return P(e)||D(e,t)||R(e,t)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}function A(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function P(e){if(Array.isArray(e))return e}var U=new T["a"];var M={name:"\u5317\u4eac",code:"110000",channelId:3202164529};var F=256;var V=function e(t){var n=t.cityInfo,r=t.dropdownWidth,a=t.offsetY,i=void 0===a?2:a,o=t.cacheCookieKey,c=void 0===o?O["b"]:o,u=t.cacheCookieExpires,l=void 0===u?O["a"]:u,f=t.logParams,s=t.theme,m=void 0===s?"light":s,b=t.onChange;var g=Object(x["a"])(),y=N(g,2),w=y[0],k=y[1];var E=Object(d["useState"])((function(){return n||M})),T=N(E,2),L=T[0],R=T[1];var A=Object(d["useRef"])(null);var D=Object(d["useRef"])(null);var P=Object(d["useRef"])(false);var V=Object(d["useRef"])(null);var H=Object(d["useState"])(false),B=N(H,2),W=B[0],z=B[1];var q=Object(d["useState"])({x:0,y:0}),G=N(q,2),Q=G[0],K=G[1];function Y(){k();z(true)}function Z(){z(false)}function J(){var e=n||L;var t=Object(x["b"])(e.name,w);Object(S["a"])("location_switch_cancel",Object.assign({location1_now:t,location2_now:e.name},f));Z()}function X(){var e;var t=D.current;if(!t)return;var n=t.getBoundingClientRect();var a=n.width||t.clientWidth;if(n.top<-a||n.top>window.innerHeight){J();return}var o=(null===(e=A.current)||void 0===e?void 0:e.clientHeight)||0;var c=C();var u=I();var l=n.left+a/2-(r||F)/2+u;var f=n.top+o+i+c;K({x:l,y:f})}function $(e){e.stopPropagation();if(W){J();return}X();Y();if(!w){U.push((function(e){var t=n||L;var r=Object(x["b"])(t.name,e);Object(S["a"])("location_switch_click",Object.assign({location1_now:r,location2_now:t.name},f))}));return}var t=n||L;var r=Object(x["b"])(t.name,w);Object(S["a"])("location_switch_click",Object.assign({location1_now:r,location2_now:t.name},f))}var ee=Object(d["useCallback"])((function(){if(P.current)return;P.current=true;h()((function(){X();P.current=false}))}),[w,n,L]);Object(d["useEffect"])((function(){function e(e){if(!W)return;var t=e.target;var n=(null===Node||void 0===Node?void 0:Node.DOCUMENT_POSITION_CONTAINED_BY)||16;if(V.current&&t)if(!(V.current.compareDocumentPosition(t)&n))J()}window.addEventListener("click",e);if(W){window.addEventListener("scroll",ee);window.addEventListener("resize",ee)}return function(){window.removeEventListener("click",e);window.removeEventListener("scroll",ee);window.removeEventListener("resize",ee)}}),[W,w,ee]);Object(d["useEffect"])((function(){if(w)U.exec(w)}),[w]);Object(d["useEffect"])((function(){if(n&&!_.a.get(c))_.a.set(c,n.name,{expires:l})}),[]);function te(e,t){var r=w[e][t];if(!n)R(r);Z();null===b||void 0===b?void 0:b(r)}var ne=n||L;return v.a.createElement("div",{className:p()("ttp-city-selector-wrapper",{dark:"dark"===m,black:"black"===m}),ref:A},v.a.createElement("div",{className:"ttp-city-selector"},v.a.createElement("span",{className:"ttp-city-selector-current-name"},ne.name),v.a.createElement("button",{type:"button","aria-label":"\u5207\u6362\u57ce\u5e02","aria-pressed":W,className:"ttp-city-selector-city-picker",ref:D,onClick:$})),v.a.createElement(j,{ref:V,visible:W,pos:Q},v.a.createElement(O["c"],{cities:w,city:ne.name,cacheCookieKey:c,cacheCookieExpires:l,logParams:f,onCancel:Z,onSubmit:te})))};var H=t["a"]=V},"08172d9560ad9ddbd809":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n.d(t,"b",(function(){return i}));n.d(t,"c",(function(){return o}));var r=n("167789bd516d2baf7295");function a(){if(!r["b"])return false;return"serviceWorker"in navigator}function i(){var e,t;return null===(e=(t=window).matchMedia)||void 0===e?void 0:e.call(t,"(display-mode: standalone), (display-mode: minimal-ui)")}function o(){var e,t;if(!r["b"])return false;return(null===(e=navigator)||void 0===e?void 0:e.standalone)||(null===(t=i())||void 0===t?void 0:t.matches)||false}},"0cf12f4e582259e8d6e3":function(e,t,n){},"0e07c12661fbe9d3d4af":function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("f379d8630b54b982148d");var o=n("93fd3eb7060d3a0ca436");var c=n("174811872339f1d02c40");var u=n.n(c);var l=n("85bedbb2b0d842c78b07");var f=n.n(l);var s=n("be6323750fae7868d676");var d=n("6740510cbb0e5ccf88eb");var v=n("b65c96faf0c123cf88e4");var m=n("38c58096afa111fcdfd2");var p=n("42d4f6648edde20f9953");var b=function e(t){var n=t.originGroup,c=t.originThread,l=t.originUgcVideo,f=t.originCommonContent,b=t.commentType,h=void 0===b?0:b,g=t.logInfo;var _=Object(d["a"])({commentType:h,originGroup:n,originThread:c,originUgcVideo:l,originCommonContent:f});var y=Object(r["useMemo"])((function(){if(!(null===_||void 0===_?void 0:_.content))if(0===(null===_||void 0===_?void 0:_.showOrigin)&&_.showTips)return _.showTips;return Object(o["a"])(Object(s["d"])((null===_||void 0===_?void 0:_.content)||""))}),[null===_||void 0===_?void 0:_.content,null===_||void 0===_?void 0:_.showOrigin,null===_||void 0===_?void 0:_.showTips]);if(!_)return null;var w=0!==_.coverUrls.length;return a.a.createElement("div",{className:"origin-card-wrapper"},a.a.createElement("div",{className:u()("card-l",{"with-pic":w})},_.userInfo&&a.a.createElement("div",{className:"user-info"},a.a.createElement("a",{href:"/c/user/token/".concat(_.userInfo.uid,"/?source=").concat(null===g||void 0===g?void 0:g.page_name),target:"_blank",rel:"noopener nofollow",title:_.userInfo.name},a.a.createElement(i["a"],{url:_.userInfo.avatarUrl}),a.a.createElement("span",{className:"name"},_.userInfo.name)),a.a.createElement(p["a"],{size:13,authType:_.userInfo.authType}),a.a.createElement("span",{className:"auth-info"},_.userInfo.authInfo)),a.a.createElement("p",{className:"origin-content"},_.content?a.a.createElement(m["a"],{href:_.articleUrl,target:"_blank",rel:"noopener",logInfo:g,dangerouslySetInnerHTML:{__html:y}},null):y)),w&&a.a.createElement("div",{className:"card-r"},a.a.createElement(v["a"],{cover:_.coverUrls[0],articleUrl:_.articleUrl}),!!_.hasVideo&&!_.videoDuration&&a.a.createElement("i",null),!!_.videoDuration&&a.a.createElement("span",{className:"video-duration"},Object(s["h"])(_.videoDuration))))};t["a"]=b},"0faef3a5864b370ab140":function(e,t,n){},"10130cfc2ba27a09b7e5":function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));n.d(t,"c",(function(){return R}));n.d(t,"g",(function(){return P}));n.d(t,"e",(function(){return U}));n.d(t,"b",(function(){return M}));n.d(t,"d",(function(){return F}));n.d(t,"f",(function(){return V}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("a73521edb73407fb3649");var b=n.n(p);var h=n("9f4f4b9798be7ce1394c");var g=n.n(h);var _=n("b15d7f08aae7868a2784");var y=n.n(_);var w=n("5877b71c460e33b640ac");var k=n.n(w);var E=n("a441a1cddaa9c253f395");var j=n.n(E);var O=n("626346d0a60969063da7");var x=n.n(O);var C=n("be6323750fae7868d676");function I(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)I(Object(n),true).forEach((function(t){g()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else I(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var T={follow:{key:"follow",category:"news_follow",channelId:60021127260,name:"\u5173\u6ce8"},all:{key:"all",category:"__all__",channelId:0,name:"\u63a8\u8350"},hot:{key:"hot",category:"news_hot",channelId:3189398996,name:"\u70ed\u70b9"},xigua:{key:"xigua",category:"xigua",channelId:-1,name:"\u897f\u74dc\u89c6\u9891",url:"https://www.ixigua.com/"},local:{key:"local",category:"news_local",channelId:3202164529,name:"\u5317\u4eac"},finance:{key:"finance",category:"news_finance",channelId:3189399007,name:"\u8d22\u7ecf"},tech:{key:"tech",category:"news_tech",channelId:3189398999,name:"\u79d1\u6280"},entertainment:{key:"entertainment",category:"news_entertainment",channelId:3189398972,name:"\u5a31\u4e50"},sports:{key:"sports",category:"news_sports",channelId:3189398957,name:"\u4f53\u80b2"},dcd:{key:"dcd",category:"dcd",channelId:-1,name:"\u61c2\u8f66\u5e1d",url:"https://www.dongchedi.com/?zt=tt_pc_home_channel"},live:{key:"live",category:"live",channelId:94349530259,name:"\u76f4\u64ad",url:"https://live.ixigua.com"},gallery:{key:"gallery",category:"\u7ec4\u56fe",channelId:5443492141,name:"\u56fe\u7247"},word:{key:"word",category:"news_world",channelId:3189398968,name:"\u56fd\u9645"},digital:{key:"digital",category:"digital",channelId:3189398981,name:"\u6570\u7801"},military:{key:"military",category:"news_military",channelId:3189398960,name:"\u519b\u4e8b"},game:{key:"game",category:"news_game",channelId:3189398995,name:"\u6e38\u620f"},history:{key:"history",category:"news_history",channelId:3189398965,name:"\u5386\u53f2"},food:{key:"food",category:"news_food",channelId:3189399002,name:"\u7f8e\u98df"},essay:{key:"essay",category:"news_essay",channelId:3189399001,name:"\u7f8e\u6587"},regimen:{key:"regimen",category:"news_regimen",channelId:3189398959,name:"\u517b\u751f"},travel:{key:"travel",category:"news_travel",channelId:3189398983,name:"\u65c5\u6e38"},discovery:{key:"discovery",category:"news_discovery",channelId:3189398978,name:"\u63a2\u7d22"},fashion:{key:"fashion",category:"news_fashion",channelId:3189398984,name:"\u65f6\u5c1a"},baby:{key:"baby",category:"news_baby",channelId:3189399004,name:"\u80b2\u513f"}};var N=function(){function e(t){k()(this,e);this.channelMap=JSON.parse(y()(t))}j()(e,[{key:"updateChannel",value:function e(t,n){this.channelMap[t]=S(S({},this.channelMap[t]),n);return this.channelMap}},{key:"get",value:function e(){return this.channelMap}}]);return e}();var L=new N(T);function R(e){return b()(L.get()).filter((function(t){return t.channelId===e}))[0]}var A="__feed_out_channel_key";function D(e){x.a.set(A,e,{expires:365})}function P(e,t){var n=e;if(t){var r=n.more.some((function(e){if(e===t)return true;return false}));if(r)return{default:n.default.map((function(e,r){if(r===n.default.length-1)return t;return e})),more:n.more.map((function(e){if(e===t)return n.default[n.default.length-1];return e}))}}return n}function U(e,t,n){var r=L.get();var a=P(e,n);if(t)r=L.updateChannel(r.local.key,{name:t.name,channelId:t.channelId});var i={default:a.default.map((function(e,t){return S(S({},r[e]),{},{rank:t+1,inMore:0})})),more:a.more.map((function(e,t){return S(S({},r[e]),{},{rank:t+1,inMore:1})}))};return i}function M(e,t,n){var r={default:t.default.map((function(e){return e.key})),more:t.more.map((function(e){return e.key}))};var a=P(r,e);var i=U(a,n);D(e);return i}function F(){var e=L.get();var t=Object(C["n"])();var n=e[t.channel||e.all.key]||e.all;return n}function V(e,t){var n=e.default.map((function(e){return e.key})).indexOf(t)+1;var r=e.more.map((function(e){return e.key})).indexOf(t)+1;return n||r||0}},"1114286b3a839994fd62":function(e,t,n){"use strict";n.d(t,"e",(function(){return C}));n.d(t,"b",(function(){return I}));n.d(t,"d",(function(){return T}));n.d(t,"c",(function(){return N}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);var h=n("69084d01d3449fc1bc27");var g=n.n(h);var _=n("174811872339f1d02c40");var y=n.n(_);var w=n("20c6f2e62cf94b7db59c");var k=n("be6323750fae7868d676");var E=n("6cf195ddfada1b0033e1");function j(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)j(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else j(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var x="__enter_from_follow_channel";function C(){window.sessionStorage.setItem(x,"1")}function I(){var e=window.sessionStorage.getItem(x);return!!e&&"follow"===Object(k["n"])("from_scene")}var S=["all","video","short_video"];function T(){var e=Object(k["n"])("from_scene");return S.includes(e)}function N(){return"hotboard"===Object(k["n"])("from_scene")}var L=function e(t){var n=t.showFollow,r=t.showWorks,a=t.tabs,i=t.activeTabKey,o=t.logParams,c=t.onTabChange;function u(e){var t=Object(w["a"])();Object(E["a"])("content_section_show",O(O({},o),{},{category_name:(null===t||void 0===t?void 0:t.category_name)||"",enter_from:(null===t||void 0===t?void 0:t.enter_from)||"",list_entrance:(null===t||void 0===t?void 0:t.category_name)||"",section:e}))}Object(h["useEffect"])((function(){if(n)u("video_detail_follow");else if(r)u("video_detail_profile");else u("video_detail_related")}),[n,r]);return g.a.createElement("div",{className:y()("video-detail-tabs",{more:a.length>1})},g.a.createElement("ul",null,a.map((function(e){return g.a.createElement("li",{className:y()({active:e.key===i}),tabIndex:0,role:"tab","aria-label":e.name,key:e.key,onClick:function t(){return c(e.key)}},e.name)}))))};t["a"]=L},"131d74e95e8c5fcb4771":function(e,t,n){e.exports=n.p+"svgs/wenda_icon.0d6d1616.svg"},"167789bd516d2baf7295":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n.d(t,"e",(function(){return c}));n.d(t,"c",(function(){return u}));n.d(t,"a",(function(){return l}));n.d(t,"f",(function(){return f}));n.d(t,"d",(function(){return s}));var r=n("1f902c9a4df6a1f30c1f");var a=n.n(r);var i="undefined"!==typeof window;var o=i&&/macintosh|mac os x/.test(window.navigator.userAgent.toLowerCase());var c=i&&(/localhost/.test(location.origin)||/dev.eden.net/.test(location.origin));var u=function e(){if(!i)return false;var t=window.navigator.userAgent;var n=t.indexOf("MSIE ");if(n>-1)return!!a()(t.substring(n+5,t.indexOf(".",n)),10);var r=t.indexOf("Trident/");if(r>-1){var o=t.indexOf("rv:");return!!a()(t.substring(o+3,t.indexOf(".",o)),10)}return false};var l=i&&/boe-gateway.byted.org/.test(location.host);function f(){if(!i)return false;var e=window.navigator.userAgent;if(/Dalvik/.test(e))return true;return/mobile/i.test(e)}var s=i&&(/iPad/.test(window.navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)},"1996c46f3c8a49327c94":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("edc2b76b5d9ea09775b6");var a=function e(t,n){if(!t){r["a"].show({title:"OTHER"});return false}n&&n();return true}},"19e1e56018f7274819f9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAwCAMAAACPHmKLAAAAM1BMVEVHcEzxQEHwQEHwQUHvQEDwQUHwQELvQEDwQUHvQEDwQEHwQEHvQEDwQELwQEHwQELwQULQdpGMAAAAEHRSTlMAn2DvEL+AIN86kFAhcM+vUcBIKwAAAVJJREFUSMfVVduChCAIVVTwsmn//7W76kybilbzNrwFnLgfhfgi0UQPnMFHtf+JMj7oa3+Xivch0q39yeyDpFV+284KTgt4BzBbICLn8FDwYcgWq8JTtYRVaTmIrjbfdYd8hTBNKxkopjOu/MoMepwGFz8FsvVFsACQMplo64Q6o8y6PiVoZzmG8H06coGQbBFNjNasJ5MF6REBgnP9KgemsrV4tuErMat1e2do46mXueHh4s7yRvx/csPoB599dDMNuoGgzxHiBsI1WQnbfE0Rp8pdtHDR3HwN8fHI5BNAKbwbWSaPAIDoJUx4STNE8hJgD1cOuzg7njcLuMW5ATeM1FVR2dxGk+RQRyUT4kpbsQ/yDGcfMNzBol0Y7efE+2qwxZNRo5oDzq8BZvKgsB0KvVo3RrbVqyZHf3NxOR1GJXfjdQ7e1HlGD/r+ehNp8U3yC/YPH/jMrgU4AAAAAElFTkSuQmCC"},"1b69c40e39893f89b5f5":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={all:{key:"all",category:"profile_all",show_name:"\u5168\u90e8",log_name:"all"},article:{key:"article",category:"pc_profile_article",show_name:"\u6587\u7ae0",log_name:"article"},video:{key:"video",category:"pc_profile_video",show_name:"\u89c6\u9891",log_name:"video"},wenda:{key:"wenda",category:"profile_wenda",show_name:"\u95ee\u7b54",log_name:"qa"},wtt:{key:"wtt",category:"pc_profile_ugc",show_name:"\u5fae\u5934\u6761",log_name:"wtt"},collection:{key:"collection",category:"profile_collection",show_name:"\u5408\u96c6",log_name:"collection"},fav:{key:"fav",category:"my_favorites",show_name:"\u6536\u85cf",log_name:"favorite"},search:{key:"search",category:"",show_name:"",log_name:"search"}}},"1b6e0af22b27be14137b":function(e,t,n){},"1d4bf58ebc5c26c7536d":function(e,t,n){},"1d7fcef557f69e9ba680":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));n.d(t,"b",(function(){return E}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);var h=n("acff6c447f863638e55f");var g=n("be6323750fae7868d676");function _(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)_(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else _(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function w(e){var t,n;if(e.label)return e.label;if((null===(t=e.video_detail_info)||void 0===t?void 0:t.video_watch_count)>=1e7)return"\u5343\u4e07\u64ad\u653e";if(e.comment_count>=1e4)return"".concat(Object(g["j"])(e.comment_count,false,false),"\u8bc4\u8bba");if(e.share_count>=1e4)return"".concat(Object(g["j"])(e.share_count,false,false),"\u5206\u4eab");if(e.digg_count>=1e4)return"".concat(Object(g["j"])(e.digg_count,false,false),"\u70b9\u8d5e");if((null===(n=e.video_detail_info)||void 0===n?void 0:n.video_watch_count)>=1e6)return"\u767e\u4e07\u64ad\u653e";return""}function k(e){return e.filter((function(e){return 211===e.cell_type})).map((function(e){var t,n,r,a,i;return{behotTime:e.behot_time,itemId:e.item_id,groupId:e.group_id,gid:e.gid,groupSource:e.group_source,title:e.title,rank:Number(e.rank)+1,imgUrl:(null===(t=e.middle_image)||void 0===t?void 0:t.url)||(null===(n=e.video_detail_info)||void 0===n?void 0:null===(r=n.detail_video_large_image)||void 0===r?void 0:r.url),sourceUrl:Object(h["b"])(h["a"].SELF_VIDEO,e.group_id),duration:Object(g["h"])(e.video_duration),name:e.media_name||e.source,profileUrl:"/c/user/token/".concat(null===(a=e.user_info)||void 0===a?void 0:a.sec_user_id,"/"),watchCount:Object(g["j"])(null===(i=e.video_detail_info)||void 0===i?void 0:i.video_watch_count,false,false),tag:w(e),userInfo:e.user_info,logInfo:y(y({},e.log_pb),{},{item_id:e.item_id,show_rank:Number(e.rank)+1,section:"hot_video"})}}))}function E(e,t){return y(y({},e.logInfo),{},{category_name:t.category_name,enter_from:t.enter_from})}},"1e57c421e41f48e4643f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"b",(function(){return o}));var r=n("167789bd516d2baf7295");var a=n("be6323750fae7868d676");function i(){if(!r["b"])return;var e=document.createElement("script");e.src="//lf3-cdn-tos.bytescm.com/goofy/toutiao/toutiao_web_pc/wza/aria.js?appid=df8e29823e2f4c0822e3693ee653bfc5&__v=4";document.body.appendChild(e)}function o(){if(!r["b"])return false;var e=Object(a["t"])(window.localStorage.getItem("aria")||"{}");return!!(null===e||void 0===e?void 0:e.status)}},"1f905cf4bd7dbd1c2573":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAPFBMVEVHcEzvQEDwQUHwQEHwQULwQULvQEDwQUHvQEDwQELxQULwQUHxQEHwQUL////6urr3lpb95+fyUVL0bm8V8ewmAAAADXRSTlMAIJBZvIA85RBwnc9n3O4v5QAAAZhJREFUWMPNmNtyhDAIhk2MIRmHGN33f9d6aKvWFYhhZ/pfO99wEAI0zb2Cj9YB4CzonY2+eaIQ3Yo4ybWmmII3cm0BpgMkBJ3RwGwoAcezmBXFBT5YFMoGimMAxQJT69Yv6TZ/EQsV33M6LFanYs+NTS0+kq/JF5W78JAzk87/k8XHsgoBuoYJakAH5zqsUlebsYtJlQbtJkEt6NukFqu1VYojvphyzgKQW0NNfTGmlIaJJwXGs5wWjZPIN8qzIW2kl8Q35EEpZT5vXgRiSZ5ujDuIC3mkG8gBxITckrE+geiQu6YXg8hAAV1of0AECcjsX0AEqRA0/jsQ4VpRsAelrBHp7/V+SLUSUStaYRsZ2DZCziHixoaarTZqNP9lwA3UsyZ9jgz3QGLOLx6zPZDPxtmrZzXz415oymNNrUn7iKw1+lWaBMf9Sms8VhvY9VYItaXmcZjazy1+equo3nI8D7hl67r//AFB76Shd2RZsyc4+wTRBclwh6ggP2q196exGMrObOYNC4opP4GP1vXb+RCW8yFF+QLsLs/tCfTGZwAAAABJRU5ErkJggg=="},"20c6f2e62cf94b7db59c":function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));n.d(t,"a",(function(){return v}));var r=n("f9c528707353f5b6df95");var a=n.n(r);var i=n("fa2a44115ff2bd1a0d71");var o=n.n(i);var c=n("80163d0657a0dbb02e68");var u=n("bd8ea4fd9e1bc4efca14");function l(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true});else e[t]=n;return e}var f="log_from";function s(){return"".concat(Math.random().toString(16).substr(2),"_").concat(Date.now())}function d(e,t){if(!t)return e;var n=s();var r=Object(u["c"])(e,l({},f,n));window.sessionStorage.setItem(n,JSON.stringify(t));return r}function v(){if(!c["b"])return null;var e=Object(u["b"])(f);var t=window.sessionStorage.getItem(e);if(t){var n=Object(u["d"])(t);return n}return null}},"21ba294a771470c868d7":function(e,t,n){},"2422758950d9f66b7423":function(e,t,n){"use strict";n.d(t,"h",(function(){return s}));n.d(t,"i",(function(){return d}));n.d(t,"j",(function(){return v}));n.d(t,"a",(function(){return m}));n.d(t,"e",(function(){return p}));n.d(t,"b",(function(){return b}));n.d(t,"g",(function(){return g}));n.d(t,"f",(function(){return _}));n.d(t,"d",(function(){return y}));n.d(t,"c",(function(){return w}));var r=n("b3d627bf45117b33693e");var a=n.n(r);var i=n("305576e46300a8ac2ace");var o=n.n(i);var c=n("131d74e95e8c5fcb4771");var u=n.n(c);var l=n("54d78c4ccd85f964eb38");var f=n.n(l);var s=24;var d="toutiao_web";var v={0:"//p3.toutiaoimg.com/origin/pgc-image/b13dded4c4e948e293e217f95e8565b4",1:"//p3.toutiaoimg.com/origin/pgc-image/49b94e2643784e93bee691e8752e5176",2:"//p3.toutiaoimg.com/origin/pgc-image/94241aec5d0e4ffcb5d8c3eda3b2abf6"};var m={article:"article",ugc:"ugc",comment:"comment",gallery:"gallery"};var p={article:"tuwen_detail",gallery:"tuwen_detail",ugc:"weitoutiao_detail",comment:"weitoutiao_detail"};var b={article:"text",gallery:"text",ugc:"wtt",comment:"wtt",video:"video",short_video:"shortvideo"};var h={news_hot:"\u70ed\u70b9",video:"\u89c6\u9891",news_image:"\u56fe\u96c6",essay_joke:"\u6bb5\u5b50",news_entertainment:"\u5a31\u4e50",news_tech:"\u79d1\u6280",news_sports:"\u4f53\u80b2",news_car:"\u6c7d\u8f66",news_finance:"\u8d22\u7ecf",funny:"\u641e\u7b11",news_military:"\u519b\u4e8b",news_world:"\u56fd\u9645",news_fashion:"\u65f6\u5c1a",news_travel:"\u65c5\u6e38",news_discovery:"\u63a2\u7d22",news_baby:"\u80b2\u513f",news_regimen:"\u517b\u751f",news_essay:"\u7f8e\u6587",news_game:"\u6e38\u620f",news_history:"\u5386\u53f2",news_food:"\u7f8e\u98df",medicine:"\u533b\u836f",news_health:"\u5065\u5eb7",news_home:"\u5bb6\u5c45"};var g={DEFAULT:200,ARTICLE:206,WTT:201,WENDA_QUESTION:202,WENDA_ANSWER:203,VIDEO:207,SHORT_VIDEO:208};var _=[{icon:a.a,text:"\u5199\u6587\u7ae0",url:"https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc",position:"text"},{icon:o.a,text:"\u53d1\u5fae\u5934\u6761",url:"https://mp.toutiao.com/profile_v4/weitoutiao/publish?from=toutiao_pc",position:"wtt"},{icon:u.a,text:"\u5199\u56de\u7b54",url:"https://mp.toutiao.com/profile_v4/wenda/home/recommended?from=toutiao_pc",position:"qa"},{icon:f.a,text:"\u53d1\u89c6\u9891",url:"https://mp.toutiao.com/profile_v4/xigua/upload-video?from=toutiao_pc",position:"video"}];var y={USER:"0",MEDIA:"1",WEMEDIA:"2",GOV:"3",ADVERTISER:"4",ENTERPRISE:"5",ORGANIZATION:"6",NEWS_MEDIA:"7",CO_MEDIA:"8"};var w={ARTICLE:22,WTT:2,COMMENT:1,WENDA_QUESTION:1026,WENDA_ANSWER:1025,VIDEO:23,SHORT_VIDEO:6}},"252c081bebbc869ac3ed":function(e,t,n){"use strict";n.d(t,"b",(function(){return x}));n.d(t,"a",(function(){return I}));n.d(t,"e",(function(){return S}));n.d(t,"c",(function(){return T}));n.d(t,"d",(function(){return N}));n.d(t,"f",(function(){return L}));var r=n("f9c528707353f5b6df95");var a=n("352fe4c99a6fff2f363c");var i=n("4fa4ba9dede71d4f591e");var o=n("a2b92cfef2eaa695ad2f");var c=n("93d7a148460d9069f5a3");var u=n("514e048378a284fc2dcd");var l=n("5f3cfa39f909ef854538");var f=n("fa2a44115ff2bd1a0d71");var s=n("d2cc329ce222e2406492");var d=n("367bc5cee72011036707");var v=n("056606c89293aa5bef85");var m=n("195c70dfe6078b3eff76");function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;var n="".concat(e);return Array(Math.abs(n.length-(t+1))).join("0")+e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM\u6708dd\u65e5 hh:mm:ss";var n=new Date(e);var r=n.getFullYear();var a=n.getMonth()+1;var i=n.getDate();var o=n.getHours();var c=n.getMinutes();var u=n.getSeconds();return t.replace(/Y|y|MM?|dd?|hh?|mm?|ss?/g,(function(e){return{M:"".concat(a),MM:p(a),Y:"".concat(r),d:"".concat(i),dd:p(i),h:"".concat(o),hh:p(o),m:"".concat(c),mm:p(c),s:"".concat(u),ss:p(u),y:"".concat(r%100)}[e]}))}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t=Date.now()/1e3;var n=t-e;var r=60*(new Date).getTimezoneOffset();var a=~~((t-r)/86400);var i=~~((e-r)/86400);var o=1e3*e;if(n<60)return"\u521a\u521a";else if(n<3600)return Math.floor(n/60)+"\u5206\u949f\u524d";else if(n<3600*24)return Math.floor(n/60/60)+"\u5c0f\u65f6\u524d";else if(a-i===1)return"\u6628\u5929"+b(o,"hh:mm");else if(a-i===2)return"\u524d\u5929"+b(o,"hh:mm");else if(a-i<=9)return a-i+"\u5929\u524d";else{var c=new Date(1e3*t).getFullYear();var u=new Date(1e3*e).getFullYear();if(c===u)return b(o,"MM\u6708dd\u65e5");else return b(o,"Y\u5e74MM\u6708dd\u65e5")}}var g=n("ea597a565c1eb87a3414");var _=n("bd8ea4fd9e1bc4efca14");function y(e){return j(e)||E(e)||k(e)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}function E(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function j(e){if(Array.isArray(e))return O(e)}function O(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){return(e||[]).map((function(e){var t=e.text;if(e.reply_to_comment)t="".concat(e.text,"//@").concat(e.reply_to_comment.user_name,"\uff1a").concat(e.reply_to_comment.text);return{id:e.id_str,user:{uid:e.user.user_id,secUid:e.user.sec_user_id,name:e.user.name,avatar:e.user.avatar_url,authInfo:e.user.user_auth_info&&Object(_["d"])(e.user.user_auth_info),hasAuthorBadge:!!(e.user.author_badge&&e.user.author_badge.length)},time:h(e.create_time),text:Object(g["a"])(t),userLike:!!e.user_digg,likeCount:e.digg_count||0,replyCount:0,replyList:null}}))}function C(e){return(e||[]).map((function(e){var t=e;return{id:t.id_str,user:{uid:t.user_id,secUid:t.sec_user_id,name:t.user_name,avatar:t.user_profile_image_url,authInfo:t.user_auth_info&&Object(_["d"])(t.user_auth_info),hasAuthorBadge:!!(t.author_badge&&t.author_badge.length)},time:h(t.create_time),text:Object(g["a"])(t.text),userLike:!!t.user_digg,likeCount:t.digg_count||0,replyCount:0,replyList:null}}))}function I(e){return(e||[]).map((function(e){var t=e.comment;var n=t.reply_count||0;var r=t.reply_list||[];return{id:t.id_str,user:{uid:t.user_id,secUid:t.sec_user_id,name:t.user_name,avatar:t.user_profile_image_url,authInfo:t.user_auth_info&&Object(_["d"])(t.user_auth_info),hasAuthorBadge:!!(t.author_badge&&t.author_badge.length)},time:h(t.create_time),text:Object(g["a"])(t.text),userLike:!!t.user_digg,likeCount:t.digg_count||0,replyCount:n,replyList:{hasMore:n>r.length,offset:0,list:r.length?C(r):[]}}}))}function S(e,t){var n=new Set;e.forEach((function(e){return n.add(e.id)}));return t.filter((function(e){if(!n.has(e.id))return true;return false}))}function T(e,t,n){var r=n.map((function(n){var r;if(n.id===e){var a=(null===(r=n.replyList)||void 0===r?void 0:r.list)||[];var i=S(a,t.list);return Object.assign(Object.assign({},n),{replyList:{list:a.concat(i)||[],hasMore:t.hasMore,offset:t.offset}})}return n}));return r}function N(e,t,n,r,a){var i=x([e])[0];if(!n||a)return[i].concat(t);return t.map((function(e){var t,a,o,c;if(!r){if(e.id===n.id)return Object.assign(Object.assign({},e),{replyCount:e.replyCount+1,replyList:{list:[i].concat((null===(t=e.replyList)||void 0===t?void 0:t.list)||[]),hasMore:(null===(a=e.replyList)||void 0===a?void 0:a.hasMore)||false,offset:(null===(o=e.replyList)||void 0===o?void 0:o.offset)||0}});return e}if(r.id===e.id&&(null===(c=e.replyList)||void 0===c?void 0:c.list)){var u=0;e.replyList.list.some((function(e,t){if(e.id===n.id){u=t;return true}return false}));var l=y(e.replyList.list);l.splice(u+1,0,i);e.replyList.list=l;e.replyCount+=1;return e}return e}))}function L(e,t,n,r){if(r)return n.map((function(n){if(n.id===r&&n.replyList)n.replyList.list=n.replyList.list.map((function(n){if(n.id===e)return Object.assign(Object.assign({},n),{userLike:t,likeCount:t?n.likeCount+1:n.likeCount-1});return n}));return n}));return n.map((function(n){if(n.id===e)return Object.assign(Object.assign({},n),{userLike:t,likeCount:t?n.likeCount+1:n.likeCount-1});return n}))}},"2560966d267a85e8aabc":function(e,t,n){},"283705023d97b64a3c68":function(e,t,n){},"2851b3b5ef18f4eb994b":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n.d(t,"b",(function(){return w}));n.d(t,"c",(function(){return k}));n.d(t,"d",(function(){return E}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);function h(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)h(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else h(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var _={CATEGORY1:"1",CATEGORY2:"2",CATEGORY3:"3",CATEGORY4:"4",SOURCE:"5",KEYWORD:"6",GROUP_SOURCE:"21"};var y={UN_INTEREST:"no_interest",REPORT_TITLE:"report_title",REPORT_REPEAT:"report_repeat",REPORT_COVER:"report_cover",REPORT_QUALITY:"report_quality",BLOCK:"block",SHIELD:"shield"};var w=[{id:"316",name:"\u6807\u9898\u5938\u5f20",dislikeType:y.REPORT_TITLE},{id:"303",name:"\u65e7\u95fb\u91cd\u590d",dislikeType:y.REPORT_REPEAT},{id:"317",name:"\u5c01\u9762\u53cd\u611f",dislikeType:y.REPORT_COVER},{id:"318",name:"\u5185\u5bb9\u8d28\u91cf\u5dee",dislikeType:y.REPORT_QUALITY}];function k(e){var t={dislikeType:y.UN_INTEREST};var n=null;var r=[];null===e||void 0===e?void 0:e.forEach((function(e){var t;var a=null===(t=e.id.match(/(\S*):/))||void 0===t?void 0:t[1];switch(a){case _.SOURCE:n=g(g({},e),{},{name:e.name.replace("\u62c9\u9ed1\u4f5c\u8005:",""),dislikeType:y.BLOCK});break;case _.CATEGORY1:case _.CATEGORY2:case _.CATEGORY3:case _.CATEGORY4:case _.KEYWORD:case _.GROUP_SOURCE:var i=e.name.replace("\u4e0d\u60f3\u770b:","");r.push(g(g({},e),{},{name:i,dislikeType:"".concat(y.SHIELD,"_").concat(i)}));break;default:break}}));return{unInterestData:t,blockData:n,shieldData:r}}function E(e){return Array.prototype.slice.call((null===e||void 0===e?void 0:e.childNodes)||[]).map((function(e){var t=e.childNodes[0];if((null===t||void 0===t?void 0:t.className.indexOf("dislike-type-wrapper"))>-1)return t.childNodes[0];return t})).filter(Boolean)}},"2a9af8857f6d9a7fa24d":function(e,t,n){},"2b423d1c7d09be214755":function(e,t,n){},"2cfd2ca28fcaddaf4ef6":function(e,t,n){},"2fb346eb9d0bf63cb593":function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("bd59e351304c36b262a0");var o=n.n(i);var c=n("be6323750fae7868d676");var u=function e(t){var n=t.children,i=t.inViewHandler;var o=Object(r["useRef"])(null);Object(r["useEffect"])((function(){var e=true;var t=Object(c["u"])((function(){if(e&&Object(c["q"])(o.current)){e=false;i();window.removeEventListener("scroll",t)}}),200);t();window.addEventListener("scroll",t);return function(){return window.removeEventListener("scroll",t)}}),[]);return a.a.createElement("div",{ref:o,className:"show-monitor"},n)};t["a"]=u},"302c2db6d5e6ba63abcd":function(e,t,n){},"302e7cd491a3c75c7a06":function(e,t,n){},"305576e46300a8ac2ace":function(e,t,n){e.exports=n.p+"svgs/wtt_icon.0c5bb1de.svg"},"3563c6d1faece9f4f9e5":function(e,t,n){},"36091a6286193bdd62ec":function(e,t,n){"use strict";n.d(t,"b",(function(){return v}));n.d(t,"a",(function(){return m}));var r=n("b15d7f08aae7868a2784");var a=n.n(r);var i=n("9f4f4b9798be7ce1394c");var o=n.n(i);var c=n("2dae468170cb074c18ce");var u=n.n(c);var l=n("be6323750fae7868d676");var f=n("167789bd516d2baf7295");var s="log_from";function d(){return"".concat(Math.random().toString(16).substr(2),"_").concat(u()())}function v(e,t){if(!t)return e;var n=d();var r=Object(l["s"])(e,o()({},s,n));window.sessionStorage.setItem(n,a()(t));return r}function m(){if(!f["b"])return null;var e=Object(l["n"])(s);var t=window.sessionStorage.getItem(e);if(t){var n=Object(l["t"])(t);return n}return null}},"36230fd2d12a2b08e61a":function(e,t,n){},"38c58096afa111fcdfd2":function(e,t,n){"use strict";var r=n("a3a1ced60541f1b5c9f6");var a=n.n(r);var i=n("0d95bde6a93458823cd2");var o=n.n(i);var c=n("69084d01d3449fc1bc27");var u=n.n(c);var l=n("36091a6286193bdd62ec");var f=n("be6323750fae7868d676");var s=function e(t){var n=t.href,r=t.target,i=t.rel,c=t.logInfo,s=t.onClick,d=t.children,v=t.jumpQuery,m=o()(t,["href","target","rel","logInfo","onClick","children","jumpQuery"]);function p(e){null===s||void 0===s?void 0:s(e);if(n&&(c||v)){e.preventDefault();var t=Object(f["s"])(n,v);t=Object(l["b"])(t,c);window.open(t)}}return u.a.createElement("a",a()({href:n,target:r,rel:i,onClick:p},m),d)};t["a"]=s},"3913995df42cd6165f91":function(e,t,n){"use strict";var r=n("4367ed43a6bb5319d01d");var a=n.n(r);var i=n("ac1c7ccad675d280253b");var o=n.n(i);var c=n("b400c18478ff55657723");var u=n.n(c);var l=n("69084d01d3449fc1bc27");var f=n.n(l);var s=n("20c6f2e62cf94b7db59c");var d=n("4801e98867402f33e3f9");var v=n("be6323750fae7868d676");var m=n("a73521edb73407fb3649");var p=n.n(m);var b=n("4f62953806061e33549d");var h=n.n(b);var g=n("a2a762effdaf408569d9");var _=n.n(g);var y=n("503842039fadac61275a");var w=n.n(y);var k=n("a99d8596674b8a971a00");function E(e){return h()("//vas-lf-x.snssdk.com/video/urls/v/1/toutiao/mp4/".concat(e))}function j(e){return _()(e)}function O(e){return x.apply(this,arguments)}function x(){x=o()(a.a.mark((function e(t){var n,r,i,o;return a.a.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:n=E(t);a.prev=1;a.next=4;return Object(k["a"])({url:n,adapter:w.a});case 4:r=a.sent;i=r.data;if(!(0===i.code)){a.next=10;break}o=i.data.video_list;if(!o){a.next=10;break}return a.abrupt("return",p()(o).map((function(e){var t={src:"",definition:""};var n=e.main_url||e.backup_url_1;if(n){t.src=_()(n).replace(/^http:/,"");t.definition=e.definition}return t})).filter((function(e){return!!e.src})));case 10:a.next=15;break;case 12:a.prev=12;a.t0=a["catch"](1);void 0;case 15:return a.abrupt("return",null);case 16:case"end":return a.stop()}}),e,null,[[1,12]])})));return x.apply(this,arguments)}var C=n("54b2d6dda1f17486c719");var I=null;var S=function e(t,r){var i=t.data,c=t.disableVideo,d=t.detailUrl,m=t.logInfo,p=t.onClickToDetail,b=t.onPlay,h=t.onEnded,g=t.onHalfEnded,_=t.onReplay;var y=Object(l["useState"])(false),w=u()(y,2),k=w[0],E=w[1];var j=Object(l["useRef"])(null);var x=Object(l["useRef"])(null);var S=Object(l["useRef"])(false);function T(e){return N.apply(this,arguments)}function N(){N=o()(a.a.mark((function e(t){var n;return a.a.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.prev=0;t.next=3;return O(i.videoId);case 3:n=t.sent;if(!n){t.next=6;break}return t.abrupt("return",n[n.length-1].src||"");case 6:t.next=11;break;case 8:t.prev=8;t.t0=t["catch"](0);void 0;case 11:return t.abrupt("return","");case 12:case"end":return t.stop()}}),e,null,[[0,8]])})));return N.apply(this,arguments)}function L(e){return R.apply(this,arguments)}function R(){R=o()(a.a.mark((function e(t){var n;return a.a.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:if(!S.current){t.next=2;break}return t.abrupt("return");case 2:S.current=true;t.next=5;return T(i.videoId);case 5:n=t.sent;if(x.current&&n)x.current.config.url=n;S.current=false;case 8:case"end":return t.stop()}}),e)})));return R.apply(this,arguments)}function A(){return D.apply(this,arguments)}function D(){D=o()(a.a.mark((function e(){var t;return a.a.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(I){n.next=2;break}return n.abrupt("return");case 2:n.next=4;return T(i.videoId);case 4:t=n.sent;I.then((function(e){var n,r,a,o;x.current=new e.default({el:j.current,url:t,width:"100%",height:"100%",autoplay:true,volume:.3,poster:i.cover,ignores:["loading"]});null===(n=x.current)||void 0===n?void 0:n.on("play",(function(){null===b||void 0===b?void 0:b();C["a"].emit.playVideo(i.videoId)}));null===(r=x.current)||void 0===r?void 0:r.on("ended",(function(e){null===h||void 0===h?void 0:h(null===e||void 0===e?void 0:e.logParams)}));null===(a=x.current)||void 0===a?void 0:a.on("replayBtnClick",(function(){null===_||void 0===_?void 0:_()}));null===(o=x.current)||void 0===o?void 0:o.on("error",L)}));case 6:case"end":return n.stop()}}),e)})));return D.apply(this,arguments)}function P(){if(c){null===p||void 0===p?void 0:p();var e=Object(s["b"])(d,m);window.open(e);return}E(true);A()}var U=Object(l["useCallback"])((function(e){if(e!==i.videoId){var t;var n=x.current&&!x.current.paused;null===(t=x.current)||void 0===t?void 0:t.pause();if(n){var r;null===g||void 0===g?void 0:g(null===(r=x.current)||void 0===r?void 0:r.logParams)}}}),[i.videoId]);Object(l["useImperativeHandle"])(r,(function(){return{play:function e(){var t;null===(t=x.current)||void 0===t?void 0:t.play()},pause:function e(){var t;null===(t=x.current)||void 0===t?void 0:t.pause()}}}));Object(l["useEffect"])((function(){if(c)return;I=Promise.all([n.e(1),n.e(19)]).then(n.bind(null,"2b7b5a200444abd1a11b"))}),[c]);Object(l["useEffect"])((function(){C["a"].on.playVideo(U);return function(){C["a"].off.playVideo(U)}}),[U]);Object(l["useEffect"])((function(){return function(){if(x.current&&!x.current.paused){var e;null===h||void 0===h?void 0:h(null===(e=x.current)||void 0===e?void 0:e.logParams)}}}),[h]);return f.a.createElement("div",{className:"feed-card-video-player-wrapper"},!k&&f.a.createElement("div",{className:"video-placeholder",onClick:P},f.a.createElement("div",{className:"cover",style:{backgroundImage:"url(".concat(i.cover,")")}}),f.a.createElement("i",null),f.a.createElement("span",{className:"duration"},Object(v["h"])(i.duration,true))),f.a.createElement("div",{ref:j}))};var T=t["a"]=f.a.forwardRef(S)},"3ec5a4f3c530463c912e":function(e,t,n){},"3fdae7134aece5b1a8e9":function(e,t,n){"use strict";n.d(t,"b",(function(){return F}));n.d(t,"a",(function(){return V}));var r=n("d2cc329ce222e2406492");var a=n("352fe4c99a6fff2f363c");var i=n("056606c89293aa5bef85");var o=n("f9c528707353f5b6df95");var c=n("4fa4ba9dede71d4f591e");var u=n("a2b92cfef2eaa695ad2f");var l=n("93d7a148460d9069f5a3");var f=n("514e048378a284fc2dcd");var s=n("5f3cfa39f909ef854538");var d=n("fa2a44115ff2bd1a0d71");var v=n("5a1a865b1553fc84c0ed");var m=n("69084d01d3449fc1bc27");var p=n.n(m);var b=n("626346d0a60969063da7");var h=n.n(b);var g=n("531d7d2ec21b712c76f4");var _=n("98ad94a9d064c7351e07");var y=n("174811872339f1d02c40");var w=n.n(y);var k=n("d5c06b6cf3948fb34e9d");var E=n("9ab2f1ff086dee039972");function j(e,t){return S(e)||I(e,t)||x(e,t)||O()}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}function C(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function S(e){if(Array.isArray(e))return e}var T=function e(t){var n=t.option,r=t.list,a=t.onChange;var i=Object(m["useState"])(false),o=j(i,2),c=o[0],u=o[1];function l(){u(true)}function f(){u(false)}function s(e){null===a||void 0===a?void 0:a(e);f()}function d(e,t){var n=e.keyCode;if(n===E["a"].ENTER||n===E["a"].SPACE){e.preventDefault();s(t)}}return p.a.createElement(k["a"],{onOpen:l,onClose:f},p.a.createElement(k["a"].MenuButton,null,p.a.createElement("div",{className:"ttp-city-selector-cascade-option"},p.a.createElement("div",{className:"current-option"},n),p.a.createElement(k["a"].MenuList,null,p.a.createElement("ul",{className:w()("options-list",{show:c})},r.map((function(e){return p.a.createElement(k["a"].MenuItem,{key:e,onKeyDown:function t(n){return d(n,e)}},p.a.createElement("li",{className:"option",onClick:function t(){return s(e)}},e))})))))))};var N=T;var L=n("a37ac43bf3b2879b42e3");function R(e,t){return M(e)||U(e,t)||D(e,t)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}function P(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function M(e){if(Array.isArray(e))return e}var F="local_city_cache";var V=30;var H=function e(t){var n=t.city,r=t.cities,a=t.cacheCookieKey,i=void 0===a?F:a,o=t.cacheCookieExpires,c=void 0===o?V:o,u=t.logParams,l=t.onCancel,f=t.onSubmit;var s=Object(m["useState"])((function(){return Object(L["b"])(n,r)})),d=R(s,2),v=d[0],b=d[1];var g=Object(m["useState"])(n),y=R(g,2),w=y[0],k=y[1];Object(m["useEffect"])((function(){if(n&&r){var e=Object(L["b"])(n,r);if(e){b(Object(L["b"])(n,r));k(n)}else{b("\u5317\u4eac");k("\u5317\u4eac")}}}),[n,r]);var E=Object(m["useMemo"])((function(){if(r)return Object.keys(r);return[]}),[r]);var j=Object(m["useMemo"])((function(){if(v&&r)return Object.keys(r[v]);return[]}),[v,r]);function O(e){b(e);k(r?Object.keys(r[e])[0]:"")}function x(e){k(e)}function C(){Object(_["a"])("location_switch_confirm",Object.assign({from_location1:Object(L["b"])(n,r),from_location2:n,to_location1:v,to_location2:w},u));f(v,w);h.a.set(i,w,{expires:c})}function I(){Object(_["a"])("location_switch_cancel",Object.assign({location1_now:Object(L["b"])(n,r),location2_now:n},u));l()}function S(e){e.stopPropagation()}function T(e){e.stopPropagation()}return p.a.createElement("div",{className:"ttp-city-selector-panel",onClick:S,onKeyDown:T},p.a.createElement("div",{className:"desc"},"\u9009\u62e9\u4f60\u6240\u5728\u7684\u5730\u533a\uff1a"),p.a.createElement("div",{className:"cascade-options"},p.a.createElement(N,{option:v,list:E,onChange:O}),p.a.createElement(N,{key:v,option:w,list:j,onChange:x})),p.a.createElement("div",{className:"actions"},p.a.createElement("button",{type:"button",className:"btn cancel",onClick:I},"\u53d6\u6d88"),p.a.createElement("button",{type:"button",className:"btn ok",onClick:C},"\u786e\u5b9a")))};var B=t["c"]=H},"41e81a6b6b2e87160a0d":function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("be6323750fae7868d676");var o=n("fb622297466e7a637f99");var c=function e(t){var n=Object(r["useRef"])(null);var c=Object(r["useRef"])(false);var u=Object(r["useCallback"])(Object(i["u"])((function(){if(!n.current)return;var e=n.current.getBoundingClientRect().top;var r=n.current.clientHeight;var a=e-window.innerHeight;if(a<-r){if(!c.current){Object(o["d"])(t.cell);c.current=true}window.removeEventListener("scroll",u)}}),300),[]);Object(r["useEffect"])((function(){window.addEventListener("scroll",u);return function(){window.removeEventListener("scroll",u)}}),[u]);return a.a.cloneElement(t.children,{ref:n})};t["a"]=c},"42d4f6648edde20f9953":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("7e3762687fac88650839");var o=n.n(i);var c=n("2422758950d9f66b7423");function u(e){if(!e)return false;return["0","1","2"].includes(e)}var l=function e(t){var n=t.size,r=t.userAuthInfo;var i=t.authType||(r||{}).auth_type||"3";var o=u((null===r||void 0===r?void 0:r.auth_type)||t.authType);if(!o)return null;return a.a.createElement("i",{className:"verified-icon",style:{width:n,height:n,backgroundImage:"url(".concat(c["j"][i],")")}})};t["a"]=l},"437c345b2a5779f983fd":function(e,t,n){},"43c5e5174a2e2677a4de":function(e,t,n){},"43db26ce2aeac2dfc381":function(e,t,n){},"4459376f7bcc25f5262b":function(e,t,n){},"47244cda85051673e101":function(e,t,n){},"4801e98867402f33e3f9":function(e,t,n){},"4948fbe5c6d0ea899cb0":function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("bd8ea4fd9e1bc4efca14");var o=function e(t){var n=Object(r["useRef"])(null);var o=Object(r["useRef"])(false);var c=Object(r["useRef"])(null);Object(r["useEffect"])((function(){c.current=t.scrollContainer||window}),[]);var u=Object(r["useCallback"])(Object(i["e"])((function(){var e;if(!n.current)return;var r=n.current.getBoundingClientRect();var a=r.top;var i=r.height||n.current.clientHeight;var l=a-window.innerHeight;if(l<-i){if(o.current)return;t.onVisible(true);if(t.once){o.current=true;null===(e=c.current)||void 0===e?void 0:e.removeEventListener("scroll",u)}}else t.onVisible(false)}),300),[]);Object(r["useEffect"])((function(){var e;null===(e=c.current)||void 0===e?void 0:e.addEventListener("scroll",u);u();return function(){var e;null===(e=c.current)||void 0===e?void 0:e.removeEventListener("scroll",u)}}),[u]);return a.a.cloneElement(t.children,{ref:n})};t["a"]=o},"4c4ea2a98c1c93e67edd":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("626346d0a60969063da7");var a=n.n(r);var i=n("663529bce6ee6d8996f5");function o(){if("undefined"===typeof window)return;i["a"].csrf.getCSRFToken();i["a"].csrf.getTTAntiToken().then((function(e){var t=e.data||{};if("Success"===t.message){var n;var r=null===(n=t.data)||void 0===n?void 0:n.token;if(r)a.a.set("tt_anti_token",r,{expires:365})}}))}},"4d09ad27fd704dfe94be":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"a",(function(){return a}));function r(e){return window.btoa&&window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function e(t,n){return String.fromCharCode("0x"+n)})))}function a(e){return window.atob&&decodeURIComponent(window.atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}},"4d42c6b0aecacf3b7489":function(e,t,n){},"4e16ef1abe038022cfb8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));n.d(t,"c",(function(){return i}));function r(e,t){var n,r;null===(n=(r=window).Slardar)||void 0===n?void 0:n.call(r,"config",{pid:e.pid,slardar_web_id:t.user_id||t.web_id})}function a(e){var t,n;null===(t=(n=window).Slardar)||void 0===t?void 0:t.call(n,"emit","counter",{name:e,value:1})}function i(e,t){var n,r;null===(n=(r=window).Slardar)||void 0===n?void 0:n.call(r,"emit","log",{value:e,level:"error",tags:{name:t}})}},"4fc4ab1a10c05441b62b":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("4fa4ba9dede71d4f591e");var a=n("a2b92cfef2eaa695ad2f");var i=n("f9c528707353f5b6df95");var o=n("fa2a44115ff2bd1a0d71");var c=n("0193be145c15b0751246");var u=n("69084d01d3449fc1bc27");var l=n.n(u);var f=l.a.createContext({value:"",checkedPrev:function e(){},checkedNext:function e(){},onChange:function e(){}});var s=f;var d=n("9ab2f1ff086dee039972");var v=function e(t){var n=t.children,r=t.index,a=t.option;var i=Object(u["useContext"])(s);var o=Object(u["useRef"])(null);Object(u["useEffect"])((function(){var e;if(i.value===a)null===(e=o.current)||void 0===e?void 0:e.focus()}),[i.value]);function c(e){e.stopPropagation();switch(e.keyCode){case d["a"].SPACE:case d["a"].ENTER:e.preventDefault();i.onChange(a);break;case d["a"].UP:i.checkedPrev(r);break;case d["a"].DOWN:i.checkedNext(r);break;default:break}}function f(){if(!i.value&&0===r)return 0;if(i.value===a)return 0;return-1}return l.a.cloneElement(n,{role:"radio","aria-checked":a===i.value,tabIndex:f(),ref:o,onKeyDown:c})};var m=v;function p(e){"@babel/helpers - typeof";if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator)p=function e(t){return typeof t};else p=function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return p(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function g(e,t,n){if(t)h(e.prototype,t);if(n)h(e,n);return e}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return y(e,t)}function w(e){var t=j();return function n(){var r=O(e),a;if(t){var i=O(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return k(this,a)}}function k(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return O(e)}var x=function(e){_(n,e);var t=w(n);function n(){var e;b(this,n);e=t.apply(this,arguments);e.handleCheckedPrev=function(t){var n=(t-1+e.props.options.length)%e.props.options.length;e.props.onChange(e.props.options[n])};e.handleCheckedNext=function(t){var n=(t+1)%e.props.options.length;e.props.onChange(e.props.options[n])};return e}g(n,[{key:"render",value:function e(){var t=this.props,n=t.children,r=t.value,a=t.onChange;return l.a.createElement(s.Provider,{value:{value:r,checkedPrev:this.handleCheckedPrev,checkedNext:this.handleCheckedNext,onChange:a}},l.a.cloneElement(n,{role:"radiogroup","aria-label":this.props["aria-label"]}))}}]);return n}(l.a.Component);x.RadioButton=m},5:function(e,t,n){e.exports=n("989728adca5bca9dc30e")},"504e80c4120170e5a863":function(e,t,n){},"5183bcdddddfd7790485":function(e,t,n){},"5261bf3449e88fd34744":function(e,t,n){"use strict";var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("4367ed43a6bb5319d01d");var b=n.n(p);var h=n("b15d7f08aae7868a2784");var g=n.n(h);var _=n("9f4f4b9798be7ce1394c");var y=n.n(_);var w=n("ac1c7ccad675d280253b");var k=n.n(w);var E=n("b400c18478ff55657723");var j=n.n(E);var O=n("69084d01d3449fc1bc27");var x=n.n(O);var C=n("583766baffb257cbf38f");var I=n("62ea6c1add15eea97123");var S=n("2422758950d9f66b7423");var T=n("d84b833f284337beaf9b");function N(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)N(Object(n),true).forEach((function(t){y()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else N(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var R=function e(t){var r=t.extraOptions,a=t.visible,i=t.onClose;var o=Object(O["useRef"])(null);var c=Object(O["useRef"])(null);var u=Object(O["useRef"])({});var l=Object(O["useRef"])(false);var f=Object(O["useState"])(false),s=j()(f,2),d=s[0],v=s[1];var m=Object(O["useCallback"])(k()(b.a.mark((function e(){var t,a;return b.a.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:if(c.current){u.next=2;break}return u.abrupt("return");case 2:if(!l.current){u.next=4;break}return u.abrupt("return");case 4:l.current=true;u.next=7;return n.e(0).then(n.t.bind(null,"3ae8d07faef52972c0b2",7));case 7:t=u.sent.default;a=new t(c.current,{appId:String(S["h"]),appName:S["i"],webId:null===r||void 0===r?void 0:r.webId,bizId:"35",placement:"auto",theme:"light",zIndex:1e3,extra_params:L(L({},r),{},{url:window.location.href,cf_biz_id:"35",user_agent:window.navigator.userAgent}),ext:{headerToggle:true},sdkUrl:"https://helpdesk.bytedance.com/sites/standalone/helpcenter_pc/",onVisibleChange:function e(t){if(!t)i()},getFeedbackResult:function e(t){if(t)T["a"].info("\u63d0\u4ea4\u6210\u529f,\u611f\u8c22\u4f60\u7684\u610f\u89c1")},getInterfaceError:function e(t){if(t){var n,r;T["a"].info("\u63d0\u4ea4\u9519\u8bef,\u8bf7\u7a0d\u540e\u91cd\u8bd5");null===(n=(r=window).Slardar)||void 0===n?void 0:n.call(r,"emit","log",{value:g()({name:"submit_feedback_error"}),level:"error"})}}});o.current=a;v(true);case 11:case"end":return u.stop()}}),e)}))),[]);Object(O["useEffect"])((function(){setTimeout((function(){m()}),5e3);return function(){var e;null===(e=o.current)||void 0===e?void 0:e.destroy()}}),[]);function p(){return h.apply(this,arguments)}function h(){h=k()(b.a.mark((function e(){var t;return b.a.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(l.current){n.next=3;break}n.next=3;return m();case 3:null===(t=o.current)||void 0===t?void 0:t.show();case 4:case"end":return n.stop()}}),e)})));return h.apply(this,arguments)}Object(O["useEffect"])((function(){if(a)p()}),[a,d]);Object(O["useEffect"])((function(){if(a){var e=Object(C["a"])();u.current=Object(I["a"])({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body)}else Object(I["a"])(u.current,document.body)}),[a]);return x.a.createElement("div",{ref:c})};t["a"]=R},"531d7d2ec21b712c76f4":function(e,t,n){},"53955f9dab771af04369":function(e,t,n){"use strict";var r=n("b400c18478ff55657723");var a=n.n(r);var i=n("69084d01d3449fc1bc27");var o=n.n(i);var c=n("174811872339f1d02c40");var u=n.n(c);var l=n("2422758950d9f66b7423");var f=n("5616f33a71e39794ee3e");var s=n("546ca7f10f62589ab9f4");var d=n("b65c96faf0c123cf88e4");var v=n("38c58096afa111fcdfd2");var m=function e(t){var n;var r=t.data,c=t.logInfo,m=t.logParams,p=t.media,b=t.footer,h=t.leftTools,g=t.className,_=t.onDislike,y=t.onClickToDetail,w=t.onDislikeClick;var k=Object(i["useState"])(false),E=a()(k,2),j=E[0],O=E[1];var x=(null===(n=r.coverUrls)||void 0===n?void 0:n.length)||0;var C=(r.coverUrls||[]).slice(0,4);var I=r.isStick&&1===r.stickStyle;function S(){y();O(true)}return o.a.createElement("div",{className:u()("feed-card-article",g,{"no-cover":!x,"single-cover":x>0&&x<4,"multi-cover":x>=4,visited:j})},x>0&&x<4&&o.a.createElement("div",{className:"feed-card-article-r"},o.a.createElement(d["a"],{cover:C[0],articleUrl:r.articleUrl,desc:r.title,logInfo:c,onClickToDetail:S})),o.a.createElement("div",{className:"feed-card-article-l"},p,o.a.createElement(v["a"],{className:"title",href:r.articleUrl,target:"_blank",rel:"noopener","aria-label":"".concat(r.isStick?"\u7f6e\u9876\uff0c":"").concat(r.title),logInfo:c,onClick:S},r.title),x>=4&&o.a.createElement("ul",{className:"cover-list"},C.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(d["a"],{alt:"".concat(r.title,"-\u56fe").concat(t+1),cover:e,articleUrl:r.articleUrl,logInfo:c,onClickToDetail:S}))}))),b||o.a.createElement(f["a"],{leftTools:h||[I&&o.a.createElement(s["f"],{key:"tag",text:"\u7f6e\u9876"}),o.a.createElement(s["a"],{key:"author",userInfo:r.userInfo,source:r.source,logInfo:m}),o.a.createElement(s["b"],{key:"comment",inside:0===r.articleType,commentCount:r.commentCount,articleUrl:r.articleUrl,logInfo:c,onClickToDetail:S}),o.a.createElement(s["g"],{key:"time",timestamp:r.timestamp})],rightTools:[!r.isStick&&o.a.createElement(s["c"],{key:"dislike",data:{itemId:r.itemId,groupId:r.groupId,filterWords:r.filterWords,source:l["g"].ARTICLE},onDislike:_,onDislikeClick:w})]})))};t["a"]=m},"546ca7f10f62589ab9f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n.d(t,"b",(function(){return p}));n.d(t,"g",(function(){return g}));n.d(t,"c",(function(){return re}));n.d(t,"e",(function(){return Oe}));n.d(t,"d",(function(){return Ie}));n.d(t,"f",(function(){return Ne}));var r=n("20c6f2e62cf94b7db59c");var a=n("69084d01d3449fc1bc27");var i=n.n(a);var o=n("b47836c813468e99d194");var c=function e(t){var n=t.userInfo,a=t.source,o=t.logInfo;var c=null;if(n)c=n.userSecToken?"/c/user/token/".concat(n.userSecToken,"/?source=").concat(null===o||void 0===o?void 0:o.page_name):"";function u(e){e.preventDefault();if(c){var t=Object(r["b"])(c,{section:"detail"===o.position?"detail_related":"feed",position:o.position,enter_from:o.enter_from});window.open(t)}}return i.a.createElement("div",{className:"feed-card-footer-cmp-author"},c&&i.a.createElement("a",{href:c,target:"_blank",rel:"noopener nofollow",onClick:u},null===n||void 0===n?void 0:n.name),!c&&i.a.createElement("span",{className:"source"},a))};var u=c;var l=n("174811872339f1d02c40");var f=n.n(l);var s=n("7ca4db6440f85a7a6df5");var d=n("be6323750fae7868d676");var v=n("38c58096afa111fcdfd2");var m=function e(t){var n=t.commentCount,r=t.articleUrl,a=t.styleType,o=void 0===a?"1":a,c=t.inside,u=void 0===c?true:c,l=t.logInfo,s=t.jumpQuery,m=t.onClickToDetail;return i.a.createElement("div",{className:f()("feed-card-footer-comment-cmp",{"style-2":"2"===o})},i.a.createElement(v["a"],{href:u?"".concat(r,"#comment"):r,target:"_blank",rel:"noopener nofollow",logInfo:l,onClick:m,"aria-label":"\u8bc4\u8bba\u6570".concat(n),jumpQuery:s},"2"===o&&i.a.createElement("i",null),Object(d["j"])(n),"1"===o&&"\u8bc4\u8bba"))};var p=m;var b=n("7801182153876d8ab215");var h=function e(t){return i.a.createElement("div",{className:"feed-card-footer-time-cmp"},Object(d["k"])(t.timestamp))};var g=h;var _=n("a3a1ced60541f1b5c9f6");var y=n.n(_);var w=n("4367ed43a6bb5319d01d");var k=n.n(w);var E=n("ac1c7ccad675d280253b");var j=n.n(E);var O=n("b400c18478ff55657723");var x=n.n(O);var C=n("d5c06b6cf3948fb34e9d");var I=n("9727aacc8b7964f6db1c");var S=n("663529bce6ee6d8996f5");var T=n("7009f854fb449fc1b23d");var N=n("a5b25f8e99db71c1fcf2");var L=n("d84b833f284337beaf9b");var R=n("2560966d267a85e8aabc");var A=n("9ab2f1ff086dee039972");var D=n("302c2db6d5e6ba63abcd");var P={uninterested:{iconType:"uninterested",title:"\u4e0d\u611f\u5174\u8da3",desc:"\u51cf\u5c11\u6b64\u7c7b\u5185\u5bb9"},report:{iconType:"report",title:"\u4e3e\u62a5",desc:"\u6807\u9898\u5938\u5f20\u3001\u5185\u5bb9\u8d28\u91cf\u5dee\u7b49"},block:{iconType:"block",title:"\u62c9\u9ed1\u4f5c\u8005"},shield:{iconType:"shield",title:"\u5c4f\u853d"}};var U=function e(t){var n=t.className,r=t.type,a=t.desc,o=t.ariaLabel,c=t.hasArrow,u=t.onClick,l=t.onFocus,s=t.onBlur,d=t.getListItems;var v=P[r||"uninterested"],m=v.iconType,p=v.title,b=v.desc;function h(){null===u||void 0===u?void 0:u()}function g(e){var t=e.keyCode;if(t===A["a"].ENTER||t===A["a"].SPACE){e.preventDefault();h()}}return i.a.createElement(C["a"].MenuItem,{onKeyDown:g,onFocus:l,onBlur:s,getListItems:d},i.a.createElement("div",{"aria-label":o,className:f()("dislike-item",n,"icon-".concat(m),{"dislike-item-arrow":c}),onClick:h},i.a.createElement("div",{className:"dislike-title"},p),i.a.createElement("div",{className:"dislike-desc"},a||b)))};var M=U;var F=function e(t){var n=t.data,r=t.onDislike;return i.a.createElement(M,{type:"uninterested",onClick:function e(){return r(n)}})};var V=F;var H=n("43c5e5174a2e2677a4de");var B=n("8da0d466807af5fb475a");var W=n("2851b3b5ef18f4eb994b");var z=function e(t){var n=t.children,r=t.className,a=t.onFocus,o=t.onBlur,c=t.onClick,u=t.getListItems,l=t.getParant;function s(){c()}function d(e){var t=e.keyCode;if(t===A["a"].ENTER||t===A["a"].SPACE){e.preventDefault();s()}}return i.a.createElement(C["a"].MenuSubItem,{onFocus:a,onBlur:o,onKeyDown:d,getListItems:u,getParant:l},i.a.createElement("div",{className:f()(r),onClick:s},n))};var q=z;var G=function e(t){var n=t.groupId,r=t.source,o=t.disabledOpen,c=t.userInfo,u=t.onDislike;var l=Object(a["useContext"])(B["a"])||{},f=l.webid,s=void 0===f?"":f;var d=Object(a["useState"])(false),v=x()(d,2),m=v[0],p=v[1];var b=Object(a["useRef"])(null);var h=Object(a["useRef"])(-1);var g=Object(a["useRef"])(false);function _(){if(o)return;clearTimeout(h.current);p(true)}function y(){clearTimeout(h.current);h.current=window.setTimeout((function(){p(false)}),50)}function w(e){return E.apply(this,arguments)}function E(){E=j()(k.a.mark((function e(t){var a,i;return k.a.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:if(!g.current){o.next=2;break}return o.abrupt("return");case 2:if(Object(N["a"])(c)){o.next=4;break}return o.abrupt("return");case 4:o.prev=4;g.current=true;o.next=8;return S["a"].user.feedbackContent(n,"",t.id,r,s,"feed");case 8:a=o.sent;if(!("success"===a.data.message)){o.next=14;break}null===(i=document.querySelector(".dislike-wrapper.dislike-button-".concat(n)))||void 0===i?void 0:i.focus();u(t.dislikeType);g.current=false;return o.abrupt("return");case 14:throw new Error(a.data.message);case 17:o.prev=17;o.t0=o["catch"](4);g.current=false;L["a"].info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");void 0;case 22:case"end":return o.stop()}}),e,null,[[4,17]])})));return E.apply(this,arguments)}function O(){return Object(W["d"])(b.current)}function C(){return document.querySelector(".dislike-item.report-".concat(n))}return i.a.createElement("div",{className:"dislike-type-wrapper report",onMouseEnter:_,onMouseLeave:y},i.a.createElement(M,{className:"report-".concat(n),type:"report",hasArrow:true,onFocus:_,onBlur:y,onClick:_,getListItems:O}),i.a.createElement("div",{className:"dislike-type-panel",style:{display:m?"block":"none"}},i.a.createElement("ul",{ref:b},W["b"].map((function(e){return i.a.createElement("li",{key:e.id},i.a.createElement(q,{onFocus:_,onClick:function t(){return w(e)},getListItems:O,getParant:C},e.name))})))))};var Q=G;var K=n("0cf12f4e582259e8d6e3");var Y=function e(t){var n=t.data,r=t.onRef,o=t.onDislike,c=t.onPanelOpen,u=t.onPanelClose;var l=Object(a["useState"])(false),f=x()(l,2),s=f[0],d=f[1];function v(){d(true);null===c||void 0===c?void 0:c()}function m(){d(false);null===u||void 0===u?void 0:u()}function p(){o(n)}Object(a["useImperativeHandle"])(r,(function(){return{hidePanel:function e(){m()}}}));return i.a.createElement("div",{className:"dislike-type-wrapper block"},i.a.createElement(M,{type:"block",desc:n.name,onClick:v}),i.a.createElement("div",{className:"dislike-type-panel",style:{display:s?"block":"none"}},i.a.createElement("div",{className:"dislike-type-panel-container"},i.a.createElement("div",{className:"dislike-type-panel-title"},"\u786e\u5b9a\u62c9\u9ed1\u8be5\u7528\u6237\uff1f"),i.a.createElement("div",{className:"dislike-type-panel-desc"},"\u62c9\u9ed1\u540e\u6b64\u7528\u6237\u4e0d\u80fd\u5173\u6ce8\u4f60\uff0c\u4e5f\u65e0\u6cd5\u7ed9\u4f60\u53d1\u9001\u4efb\u4f55\u6d88\u606f"),i.a.createElement("div",{className:"dislike-type-panel-button"},i.a.createElement("button",{className:"dislike-button-cancel",type:"button",disabled:!s,onClick:m},"\u53d6\u6d88"),i.a.createElement("button",{className:"dislike-button-commit",type:"button",disabled:!s,onClick:p},"\u786e\u5b9a")))))};var Z=Y;var J=n("1d4bf58ebc5c26c7536d");var X=function e(t){var n=t.groupId,r=t.data,o=t.disabledOpen,c=t.onDislike;var u=Object(a["useState"])(false),l=x()(u,2),f=l[0],s=l[1];var d=Object(a["useRef"])(null);var v=Object(a["useRef"])(-1);var m=null===r||void 0===r?void 0:r.map((function(e){return e.name})).join("\u3001");function p(){if(o)return;clearTimeout(v.current);s(true)}function b(){clearTimeout(v.current);v.current=window.setTimeout((function(){s(false)}),50)}function h(){return Object(W["d"])(d.current)}function g(){return document.querySelector(".dislike-item.shield-".concat(n))}return i.a.createElement("div",{className:"dislike-type-wrapper shield",onMouseEnter:p,onMouseLeave:b},i.a.createElement(M,{className:"shield-".concat(n),type:"shield",desc:m,hasArrow:true,onFocus:p,onBlur:b,onClick:p,getListItems:h}),i.a.createElement("div",{className:"dislike-type-panel",style:{display:f?"block":"none"}},i.a.createElement("ul",{ref:d},r.map((function(e){return i.a.createElement("li",{key:e.id},i.a.createElement(q,{className:"shield-subitem",onFocus:p,onClick:function t(){return c(e)},getListItems:h,getParant:g},i.a.createElement("span",null,"\u5c4f\u853d\uff1a"),i.a.createElement("span",null,e.name)))})))))};var $=X;var ee=function e(t){var n=t.data,r=void 0===n?{}:n,o=t.isMultiVideo,c=t.disableReport,u=t.onDislike,l=t.onDislikeClick;var f=r.groupId,s=r.itemId,v=r.filterWords,m=r.source;var p=Object(a["useContext"])(T["a"]);var b=Object(a["useRef"])(false);var h=Object(a["useRef"])(null);var g=Object(a["useRef"])(null);var _=Object(a["useState"])(false),y=x()(_,2),w=y[0],E=y[1];var O=Object(a["useState"])(false),I=x()(O,2),R=I[0],A=I[1];var D=Object(a["useState"])(false),P=x()(D,2),U=P[0],M=P[1];var F=Object(W["c"])(v),H=F.unInterestData,B=F.blockData,z=F.shieldData;function q(){var e;null===(e=g.current)||void 0===e?void 0:e.hidePanel()}function G(e){var t=(null===e||void 0===e?void 0:e.currentTarget.getBoundingClientRect())||{},n=t.top,r=void 0===n?1/0:n,a=t.height,i=void 0===a?0:a;var o=r+i/2<window.innerHeight/2;E(true);A(o);l()}function K(){E(false);q()}function Y(e){var t=e.keyCode;if(13===t||32===t){e.preventDefault();e.stopPropagation();G(e)}}function J(){M(true)}function X(){M(false)}function ee(e){return te.apply(this,arguments)}function te(){te=j()(k.a.mark((function e(t){var n,r;return k.a.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!b.current){a.next=2;break}return a.abrupt("return");case 2:if(!(t.id&&!Object(N["a"])(p))){a.next=4;break}return a.abrupt("return");case 4:a.prev=4;b.current=true;a.next=8;return S["a"].user.dislikeFeed(s,f,t.id);case 8:n=a.sent;if("success"===n.data.message){null===(r=document.querySelector(".dislike-wrapper.dislike-button-".concat(f)))||void 0===r?void 0:r.focus();u(t.dislikeType);!o&&L["a"].info("\u5c06\u51cf\u5c11\u7c7b\u4f3c\u5185\u5bb9\u7684\u63a8\u8350")}else L["a"].info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");b.current=false;a.next=17;break;case 13:a.prev=13;a.t0=a["catch"](4);b.current=false;L["a"].info("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");case 17:case"end":return a.stop()}}),e,null,[[4,13]])})));return te.apply(this,arguments)}function ne(e){if(U)return;if(!p){var t;null===(t=document.querySelector(".dislike-wrapper.dislike-button-".concat(f)))||void 0===t?void 0:t.focus();u(e.dislikeType);!o&&L["a"].info("\u5df2\u4e3a\u4f60\u9690\u85cf\u6b64\u5185\u5bb9\uff0c\u767b\u5f55\u540e\u63a8\u8350\u66f4\u51c6\u786e");return}ee(e)}function re(e){var t;if(!(null===(t=h.current)||void 0===t?void 0:t.contains(e.target)))K()}Object(a["useEffect"])((function(){if(w){window.addEventListener("click",re);window.addEventListener("keydown",re)}else{window.removeEventListener("click",re);window.removeEventListener("keydown",re)}return function(){window.removeEventListener("click",re);window.removeEventListener("keydown",re)}}),[w]);return i.a.createElement("div",{className:"feed-card-footer-dislike-cmp",ref:h},i.a.createElement(C["a"],{onOpen:d["c"],onClose:d["c"],getListItems:W["d"]},i.a.createElement(C["a"].MenuButton,{onKeyDown:Y},i.a.createElement("div",{className:"dislike-wrapper dislike-button-".concat(f),onClick:G},i.a.createElement("i",{className:"dislike-icon"}))),i.a.createElement(C["a"].MenuList,null,i.a.createElement("ul",{className:"dislike-type-list ".concat(R?"panel-bottom":"panel-top"),style:{display:w?"block":"none"}},i.a.createElement("li",null,i.a.createElement(V,{data:H,onDislike:ne})),!c&&i.a.createElement("li",null,i.a.createElement(Q,{groupId:f,source:m,disabledOpen:U,userInfo:p,onDislike:u})),B&&i.a.createElement("li",null,i.a.createElement(Z,{data:B,onRef:function e(t){return g.current=t},onPanelOpen:J,onPanelClose:X,onDislike:ee})),0!==z.length&&i.a.createElement("li",null,i.a.createElement($,{groupId:f,data:z,disabledOpen:U,onDislike:ee}))))))};var te=ee;var ne=function e(t){return i.a.createElement(te,y()({},t))};var re=ne;var ae=n("1fbd449e565d9fe73e34");var ie=n.n(ae);var oe=n("59c079e31d780aa10ab3");var ce=n.n(oe);var ue=n("17182ec21c9e45f48693");var le=n.n(ue);var fe=n("4da96d66510db0326cde");var se=n.n(fe);var de=n("62ff606f30425beb0057");var ve=n.n(de);var me=n("6af3fb42e7368ad6a775");var pe=n.n(me);var be=n("9f4f4b9798be7ce1394c");var he=n.n(be);var ge=n("5f50dd5472034bc9ced6");var _e=n("600ef62ec3ad32ec1243");var ye=n("6740510cbb0e5ccf88eb");var we=n("ed0e645fb10944a4fb8f");function ke(e,t){var n=pe()(e);if(ve.a){var r=ve()(e);if(t)r=r.filter((function(t){return se()(e,t).enumerable}));n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)ke(Object(n),true).forEach((function(t){he()(e,t,n[t])}));else if(le.a)ce()(e,le()(n));else ke(Object(n)).forEach((function(t){ie()(e,t,se()(n,t))}))}return e}var je=function e(t){var n=t.data,r=t.wttRepostParams,o=t.onSuccess,c=t.onShareAction,u=t.onWttSubmit;var l=Object(a["useContext"])(T["a"]);l=t.loginUserInfo||l;var f=n.groupId,s=n.itemId,v=n.userInfo,m=n.repostParams,p=n.title,b=n.content,h=n.coverUrls,g=n.articleUrl,_=n.detailUrl,y=n.commentType,w=n.originGroup,k=n.originThread,E=n.originUgcVideo,j=n.originCommonContent;var O=n.cover||(null===h||void 0===h?void 0:h[0]);var x={title:p||Object(d["d"])(b).slice(0,150),url:g||_,cover:O};var C=Object(ye["a"])({commentType:y,originGroup:w,originThread:k,originUgcVideo:E,originCommonContent:j});var I={content:p||Object(d["d"])(b),cover:O,user:v&&{name:v.name,uid:v.userSecToken}};if(C){var S;I={content:C.content,cover:null===(S=C.coverUrls)||void 0===S?void 0:S[0],user:C.userInfo&&{name:C.userInfo.name,uid:C.userInfo.uid}}}var N={origin:I,repostParams:Ee(Ee({fw_id:f,opt_id:f,group_id:f,item_id:s,fw_user_id:Object(we["j"])(v),repost_to_comment:1,title:p},r),m),loginUserInfo:l&&{uid:l.userId}};return i.a.createElement("div",{className:"feed-card-footer-share-cmp"},i.a.createElement(ge["a"],{openType:"click",shareConfig:x,wtt:N,onShare:o,onShareAction:c,onWttSubmit:u}))};var Oe=je;var xe=n("5f490fd0667aa88b93fb");var Ce=function e(t){var n=Object(a["useRef"])(false);var r=Object(a["useContext"])(T["a"]);function o(){return c.apply(this,arguments)}function c(){c=j()(k.a.mark((function e(){var a;return k.a.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(Object(N["a"])(t.loginUserInfo||r)){i.next=2;break}return i.abrupt("return");case 2:if(!n.current){i.next=4;break}return i.abrupt("return");case 4:i.prev=4;n.current=true;i.next=8;return S["a"].user.diggArticle(t.groupId,t.isLiked?-1:1,t.diggType);case 8:a=i.sent;if(!("success"===a.data.message)){i.next=14;break}t.onLikeChange(t.isLiked?0:1);n.current=false;i.next=15;break;case 14:throw new Error(a.data.message);case 15:i.next=22;break;case 17:i.prev=17;i.t0=i["catch"](4);L["a"].info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");n.current=false;void 0;case 22:case"end":return i.stop()}}),e,null,[[4,17]])})));return c.apply(this,arguments)}return i.a.createElement("div",{className:"feed-card-footer-like-cmp"},i.a.createElement("button",{type:"button","aria-label":"".concat(Object(d["j"])(t.likeCount),"\u70b9\u8d5e"),"aria-pressed":t.isLiked,className:f()("inner",{liked:t.isLiked}),onClick:o},i.a.createElement("i",null),i.a.createElement("span",null,Object(d["j"])(t.likeCount))))};var Ie=Ce;var Se=n("0faef3a5864b370ab140");var Te=function e(t){return i.a.createElement("div",{className:"feed-card-footer-tag-cmp"},t.text)};var Ne=Te},"54b2d6dda1f17486c719":function(e,t,n){"use strict";var r=n("bd2555d9b4311aab9971");var a=n.n(r);var i=new a.a;var o={REFRESH:"feed_action_refresh",CHANGE_CHANNEL:"feed_action_change_channel",SCROLL_TO_TOP:"feed_action_scrollTo_top",PLAY_VIDEO:"play_video",CHANGE_POINT_STATUS:"feed_action_change_pointStatus"};var c={refresh:function e(t){i.addListener(o.REFRESH,t)},scrollToTop:function e(t){i.addListener(o.SCROLL_TO_TOP,t)},changeChannel:function e(t){i.addListener(o.CHANGE_CHANNEL,t)},playVideo:function e(t){i.addListener(o.PLAY_VIDEO,t)},changePointStatus:function e(t){i.addListener(o.CHANGE_POINT_STATUS,t)}};var u={refresh:function e(t){i.removeListener(o.REFRESH,t)},scrollToTop:function e(t){i.removeListener(o.SCROLL_TO_TOP,t)},changeChannel:function e(t){i.removeListener(o.CHANGE_CHANNEL,t)},playVideo:function e(t){i.removeListener(o.PLAY_VIDEO,t)},changePointStatus:function e(t){i.removeListener(o.CHANGE_POINT_STATUS,t)}};var l={refresh:function e(){i.emit(o.REFRESH)},scrollToTop:function e(){i.emit(o.SCROLL_TO_TOP)},changeChannel:function e(t,n){i.emit(o.CHANGE_CHANNEL,t,n)},playVideo:function e(t){i.emit(o.PLAY_VIDEO,t)},changePointStatus:function e(t){i.emit(o.CHANGE_POINT_STATUS,t)}};t["a"]={on:c,off:u,emit:l}},"54d78c4ccd85f964eb38":function(e,t,n){e.exports=n.p+"svgs/video_icon.a243e80b.svg"},"55545edfe9557f8e9717":function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);var h=n("a0833d654de0f1e77a8a");var g=n.n(h);var _=n("b400c18478ff55657723");var y=n.n(_);var w=n("69084d01d3449fc1bc27");var k=n.n(w);var E=n("e6c0fa9948fe7e0bc082");var j=n.n(E);var O=n("7009f854fb449fc1b23d");var x=n("2422758950d9f66b7423");var C=n("ed0e645fb10944a4fb8f");var I=n("78e411ccf7a9a0caceb3");var S=n("d84b833f284337beaf9b");var T=n("41e81a6b6b2e87160a0d");var N=n("5616f33a71e39794ee3e");var L=n("546ca7f10f62589ab9f4");var R=n("3913995df42cd6165f91");var A=n("38c58096afa111fcdfd2");function D(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)D(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else D(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var U=function e(t){var n;var r=t.data,a=t.dislikeTips,i=t.logParams,o=t.footer,c=t.onPlay,u=t.onEnded,l=t.onHalfEnded,f=t.onReplay,s=t.onClickToDetail,d=t.onDislike,v=t.onDislikeClick;var m=Object(C["h"])(null===(n=r.__channel_info)||void 0===n?void 0:n.key,r.tabKey);var p=t.logInfo||Object(I["b"])(r);var b=Object(w["useRef"])(null);if(r.dislikeStatus)return k.a.createElement("div",{className:"feed-card-video-multi-item dislike"},k.a.createElement("div",{className:"dislike-icon"},k.a.createElement("i",null)),k.a.createElement("div",{className:"dislike-tips"},a));function h(){var e;null===(e=b.current)||void 0===e?void 0:e.pause();s()}return k.a.createElement("div",{className:"feed-card-video-multi-item"},k.a.createElement("div",{className:"feed-video-item"},k.a.createElement(R["a"],{ref:b,data:{cover:r.cover,duration:r.duration,videoId:r.videoId},onPlay:function e(){c(r.groupId)},onEnded:function e(t){u(r.groupId,t)},onReplay:function e(){f(r.groupId)},onHalfEnded:function e(t){null===l||void 0===l?void 0:l(r.groupId,t)}})),k.a.createElement(A["a"],{className:"title",href:r.detailUrl,target:"_blank",rel:"noopener nofollow",title:r.title,jumpQuery:m?{from_scene:m}:void 0,logInfo:p,onClick:h},r.title),k.a.createElement("div",{className:"footer"},o||k.a.createElement(N["a"],{leftTools:[k.a.createElement(L["a"],{key:"author",userInfo:r.userInfo,source:r.source,logInfo:i}),k.a.createElement(L["b"],{key:"comment",commentCount:r.commentCount,articleUrl:r.detailUrl,inside:false,logInfo:p,onClickToDetail:h}),k.a.createElement(L["g"],{key:"time",timestamp:r.timestamp})],rightTools:[k.a.createElement(L["c"],{key:"dislike",data:{groupId:r.groupId,itemId:r.itemId,filterWords:r.filterWords,source:x["g"].VIDEO},isMultiVideo:true,onDislike:d,onDislikeClick:v})]})))};var M=function e(t){var n=t.data,r=t.logParams,a=t.onClickToDetail,i=t.onPlay,o=t.onEnded,c=t.onHalfEnded,u=t.onReplay,l=t.onDislike,f=t.onDislikeClick;var s=Object(w["useContext"])(O["a"]);var d=Object(w["useState"])(new Array(n.length).fill(false)),v=y()(d,2),m=v[0],p=v[1];var b=Object(w["useMemo"])((function(){return(null===s||void 0===s?void 0:s.userId)?"\u5c06\u51cf\u5c11\u7c7b\u4f3c\u5185\u5bb9\u7684\u63a8\u8350":"\u5df2\u4e3a\u4f60\u9690\u85cf\u6b64\u5185\u5bb9\uff0c\u767b\u5f55\u540e\u63a8\u8350\u66f4\u51c6\u786e"}),[null===s||void 0===s?void 0:s.userId]);function h(e,t,n){var r=g()(m);r[t]=true;var a=r.reduce((function(e,t){return e&&t}),true);p(r);l({groupId:e,allDislike:a,dislikeType:n});if(a)S["a"].info(b)}return k.a.createElement(T["a"],{cell:n},k.a.createElement("div",{className:"feed-card-video-multi"},k.a.createElement("ul",null,n.map((function(e,t){return k.a.createElement("li",{key:e.groupId},k.a.createElement(U,{data:P(P({},e),{},{dislikeStatus:m[t]}),dislikeTips:b,logParams:r,onClickToDetail:function t(){return a(e.groupId)},onPlay:i,onEnded:o,onHalfEnded:c,onReplay:u,onDislike:function n(r){return h(e.groupId,t,r)},onDislikeClick:function t(){return f(e.groupId)}}))})))))};t["b"]=M},"5616f33a71e39794ee3e":function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("ab64641ae399574b8de3");var o=n.n(i);var c=function e(t){return a.a.createElement("div",{className:"feed-card-footer-cmp"},a.a.createElement("div",{className:"left-tools"},t.leftTools),a.a.createElement("div",{className:"right-tools"},t.rightTools))};t["a"]=c},"583766baffb257cbf38f":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r;function a(e){if("undefined"===typeof document)return 0;if(e||void 0===r){var t=document.createElement("div");t.style.width="100%";t.style.height="200px";var n=document.createElement("div");var a=n.style;a.position="absolute";a.top="0";a.left="0";a.pointerEvents="none";a.visibility="hidden";a.width="200px";a.height="150px";a.overflow="hidden";n.appendChild(t);document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;if(i===o)o=n.clientWidth;document.body.removeChild(n);r=i-o}return r}},"5c205b27178ea18852dc":function(e,t,n){},"5f490fd0667aa88b93fb":function(e,t,n){},"5f50dd5472034bc9ced6":function(e,t,n){"use strict";var r=n("d2cc329ce222e2406492");var a=n("352fe4c99a6fff2f363c");var i=n("056606c89293aa5bef85");var o=n("f9c528707353f5b6df95");var c=n("fa2a44115ff2bd1a0d71");var u=n("514e048378a284fc2dcd");var l=n("4fa4ba9dede71d4f591e");var f=n("a2b92cfef2eaa695ad2f");var s=n("93d7a148460d9069f5a3");var d=n("69084d01d3449fc1bc27");var v=n.n(d);var m=n("174811872339f1d02c40");var p=n.n(m);var b=n("dbfda9872bd1c8d94329");var h=n("98ad94a9d064c7351e07");var g=n("f4095745be08d782d539");var _=n("2810e53ad7174f3c046d");var y=n("cee282056923df468c92");var w=n("abbf799a026c91d8612e");var k=n("1996c46f3c8a49327c94");var E=n("2a9af8857f6d9a7fa24d");var j=n("d5c06b6cf3948fb34e9d");var O=v.a.forwardRef((function(e,t){var n=e.className,r=e.children,a=e.iconType,i=e.ariaLabel,o=e.onClick,c=e.onFocus,u=e.onBlur;var l=Object(d["useRef"])(null);function f(){null===o||void 0===o?void 0:o()}function s(e){var t=e.keyCode;if(32===t||13===t){e.preventDefault();f()}}Object(d["useImperativeHandle"])(t,(function(){return{dom:l.current}}));return v.a.createElement(j["a"].MenuItem,{onKeyDown:s,onFocus:c,onBlur:u},v.a.createElement("div",{ref:l,"aria-label":i,className:p()("ttp-interact-item",n,"icon-".concat(a)),onClick:f},r))}));var x=O;var C=n("fc44cefe38e5ec0c2fd4");var I=n("ea597a565c1eb87a3414");function S(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){S(i,r,a,o,c,"next",e)}function c(e){S(i,r,a,o,c,"throw",e)}o(void 0)}))}}function N(e,t){return P(e)||D(e,t)||R(e,t)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}function A(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function P(e){if(Array.isArray(e))return e}var U=function e(t){var n=t.data;return v.a.createElement("div",{className:"origin-content"},n.cover&&v.a.createElement("img",{className:"cover",src:n.cover,alt:""}),v.a.createElement("div",{className:"detail"},n.user&&v.a.createElement(v.a.Fragment,null,v.a.createElement("a",{className:"user-name",href:"/c/user/token/".concat(n.user.uid),rel:"nofollow",target:"_blank"},"@",n.user.name),"\uff1a"),v.a.createElement("div",{className:"rich-content",dangerouslySetInnerHTML:{__html:Object(I["a"])(n.content)}})))};var M=function e(t){var n=t.origin,r=t.onSubmit;var a=Object(d["useState"])(""),i=N(a,2),o=i[0],c=i[1];function u(e){var t=e.target.value;c(t)}function l(){return f.apply(this,arguments)}function f(){f=T(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:t=o.trim();if(t.length){a.next=3;break}return a.abrupt("return");case 3:a.next=5;return null===r||void 0===r?void 0:r(t);case 5:n=a.sent;if(n)c("");case 7:case"end":return a.stop()}}),e)})));return f.apply(this,arguments)}return v.a.createElement("div",{className:"ttp-wtt-repost-panel"},v.a.createElement("div",{className:"input-area"},v.a.createElement("textarea",{className:"first-focus-el",placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",rows:3,maxLength:2e3,value:o,onChange:u}),v.a.createElement("div",{className:"input-meta"},v.a.createElement("span",{className:"words-count"},v.a.createElement("span",{className:"count"},o.length),"/2000"))),n&&v.a.createElement(U,{data:n}),v.a.createElement("div",{className:"publish-action"},v.a.createElement("button",{className:p()("submit-btn",{disable:!o.trim().length}),onClick:l},"\u786e\u5b9a")))};var F=M;var V=n("7f9308912c4b86f89747");function H(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){H(i,r,a,o,c,"next",e)}function c(e){H(i,r,a,o,c,"throw",e)}o(void 0)}))}}function W(e,t){return K(e)||Q(e,t)||q(e,t)||z()}function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}function G(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function K(e){if(Array.isArray(e))return e}var Y=function e(t){var n=t||{},r=n.origin,a=n.repostParams,i=n.loginUserInfo,o=n.onModalClose,c=n.onModalOpen,u=n.onSubmit;var l=Object(d["useState"])(false),f=W(l,2),s=f[0],m=f[1];var p=Object(d["useRef"])(false);function b(){if(!Object(k["a"])(i))return;m(true);null===c||void 0===c?void 0:c()}function h(){m(false);null===o||void 0===o?void 0:o()}function g(e){return Object.assign({content:e,cover_image_url:null===r||void 0===r?void 0:r.cover},a)}function _(e){return y.apply(this,arguments)}function y(){y=B(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!p.current){a.next=2;break}return a.abrupt("return",false);case 2:p.current=true;null===u||void 0===u?void 0:u();a.prev=4;n=g(t);a.next=8;return w["a"].ugc.repostContent(n);case 8:r=a.sent;if(!("success"===r.data.message)){a.next=15;break}V["a"].info("\u8f6c\u53d1\u6210\u529f");p.current=false;m(false);null===o||void 0===o?void 0:o();return a.abrupt("return",true);case 15:throw new Error(r.data.message);case 18:a.prev=18;a.t0=a["catch"](4);p.current=false;void 0;V["a"].info("\u8f6c\u53d1\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");return a.abrupt("return",false);case 24:case"end":return a.stop()}}),e,null,[[4,18]])})));return y.apply(this,arguments)}return v.a.createElement(v.a.Fragment,null,v.a.createElement(x,{iconType:"wtt",className:"wtt",onClick:b},"\u8f6c\u53d1\u5230\u5934\u6761"),v.a.createElement(C["a"],{className:"ttp-wtt-repost-modal",title:"\u8f6c\u53d1",visible:s,maskClosable:false,onClose:h,footer:null},v.a.createElement(F,{origin:r,onSubmit:_})))};var Z=Y;var J=n("685783877eda1ba3ad5f");function X(e,t){return re(e)||ne(e,t)||ee(e,t)||$()}function $(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e,t){if(!e)return;if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}function te(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function re(e){if(Array.isArray(e))return e}var ae=function e(t){var r=t.shareConfig,a=t.onShare;var i=Object(d["useRef"])(null);var o=Object(d["useRef"])(null);var c=Object(d["useState"])(false),u=X(c,2),l=u[0],f=u[1];var s=Object(d["useRef"])(-1);function m(){clearTimeout(s.current);f(true);null===a||void 0===a?void 0:a()}function p(){clearTimeout(s.current);s.current=window.setTimeout((function(){f(false)}),100)}Object(d["useEffect"])((function(){n.e(20).then(n.bind(null,"a70cdde4c3fc135fbac1")).then((function(e){var t=new e.default(o.current||"_qrcode",{width:r.width||80,height:r.height||80});t.makeCode(r.url)}))}),[]);return v.a.createElement("div",{className:"ttp-interact-wx-wrapper",ref:i,onMouseEnter:m,onMouseLeave:p},v.a.createElement(x,{ariaLabel:"\u5fae\u4fe1\u626b\u7801\u5206\u4eab",iconType:"wx",className:"wx",onFocus:m,onBlur:p},"\u5fae\u4fe1"),v.a.createElement("div",{className:"qrcode-panel",style:{display:l?"block":"none"}},v.a.createElement("div",{id:"_qrcode",ref:o}),v.a.createElement("span",null,"\u5fae\u4fe1\u626b\u7801\u5206\u4eab")))};var ie=ae;var oe=n("3563c6d1faece9f4f9e5");var ce=n("195c70dfe6078b3eff76");var ue={qzone:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}&pics={{IMAGE}}",weibo:"https://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}"};function le(e,t){return ue[e].replace(/\{\{(\w*)\}\}/g,(function(e,n){var r=n.toLowerCase();return encodeURIComponent(t[r]?t[r]:"")}))}function fe(e){var t=Object.assign({},e);var n=le("weibo",t);window.open(n)}function se(e){var t=Object.assign({},e);var n=le("qzone",t);window.open(n)}var de=function e(t){function n(){var e;fe(t.shareConfig);null===(e=t.onShare)||void 0===e?void 0:e.call(t)}return v.a.createElement(x,{iconType:"weibo",className:"weibo",onClick:n},"\u65b0\u6d6a\u5fae\u535a")};var ve=de;var me=n("acc155cddbd190919d07");var pe=function e(t){function n(){var e;se(t.shareConfig);null===(e=t.onShare)||void 0===e?void 0:e.call(t)}return v.a.createElement(x,{iconType:"qzone",className:"qzone",onClick:n},"QQ\u7a7a\u95f4")};var be=pe;var he=n("428fcc3216b28ebf1917");var ge=n.n(he);var _e=n("655f399c98758d086897");var ye=function e(t){var n=t.shareConfig;var r=Object(d["useRef"])(null);Object(d["useEffect"])((function(){var e;var a=null===(e=r.current)||void 0===e?void 0:e.dom;if(a){var i=new ge.a(a,{text:function e(){return n.url}});i.on("success",(function(){var e;V["a"].info(n.tips||"\u5df2\u590d\u5236\u6587\u7ae0\u94fe\u63a5\n\u53bb\u5206\u4eab\u5427");null===(e=t.onShare)||void 0===e?void 0:e.call(t)}))}}),[]);return v.a.createElement(x,{iconType:"copy",className:"copy",ref:r},"\u590d\u5236\u94fe\u63a5")};var we=ye;function ke(e,t){return Ce(e)||xe(e,t)||je(e,t)||Ee()}function Ee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function je(e,t){if(!e)return;if("string"===typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}function Oe(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function Ce(e){if(Array.isArray(e))return e}var Ie=function e(t){var n=t.shareConfig,r=t.wtt,a=t.qzone,i=t.weibo,o=t.copy,c=t.openType,u=void 0===c?"hover":c,l=t.disableCopy,f=t.direction,s=void 0===f?"right":f,m=t.closeTimeout,b=t.onShare,g=t.onShareAction,_=t.onWttSubmit;var y=Object(d["useState"])(false),w=ke(y,2),k=w[0],E=w[1];var O=Object(d["useRef"])(false);var x=Object(d["useState"])(false),C=ke(x,2),I=C[0],S=C[1];var T=Object(d["useRef"])(null);var N=Object(d["useRef"])(null);function L(){var e;if(O.current)return;var t=(null===(e=T.current)||void 0===e?void 0:e.getBoundingClientRect())||{},n=t.top,r=void 0===n?1/0:n,a=t.height,i=void 0===a?0:a;var o=r+i/2<window.innerHeight/2;S(o);E(true)}function R(){E(false)}function A(){if("click"===u)return;L()}function D(){if("click"===u)return;R()}function P(){O.current=true;H("toutiao");R()}function U(){O.current=false}function M(){H("copy");R();setTimeout((function(){var e,t;null===(t=null===(e=T.current)||void 0===e?void 0:e.childNodes[0])||void 0===t?void 0:t.focus()}),2500)}Object(d["useEffect"])((function(){if(k)Object(h["a"])("interaction_bar_action",{action_type:"click",from_position:"share"})}),[k]);function F(e){var t;if(!(null===(t=T.current)||void 0===t?void 0:t.contains(e.target)))R()}Object(d["useEffect"])((function(){if("click"!==u)return;if(k){window.addEventListener("click",F);window.addEventListener("keydown",F)}else{window.removeEventListener("click",F);window.removeEventListener("keydown",F)}return function(){window.removeEventListener("click",F);window.removeEventListener("keydown",F)}}),[k]);function V(e){return Array.prototype.slice.call((null===e||void 0===e?void 0:e.childNodes)||[]).map((function(e){var t=e.childNodes[0];if(t.className.indexOf("wx")>-1)return t.childNodes[0];return t})).filter(Boolean)}function H(e){null===b||void 0===b?void 0:b(e)}function B(e){H(e);R()}function W(){null===g||void 0===g?void 0:g("click");L()}return v.a.createElement(j["a"],{closeTimeout:m,onOpen:A,onClose:D,getListItems:V},v.a.createElement("div",{className:"ttp-interact-share",ref:T},v.a.createElement(j["a"].MenuButton,{onMouseEnter:function e(){return null===g||void 0===g?void 0:g("hover")}},v.a.createElement("div",{ref:N,className:"share-btn",onClick:W},"\u5206\u4eab")),v.a.createElement(j["a"].MenuList,null,v.a.createElement("ul",{className:p()("share-tools",{"panel-right":"right"===s,"panel-right-top":!I&&"right"===s,"panel-right-bottom":I&&"right"===s,"panel-top":"top"===s,"pop-anime":k})},v.a.createElement("li",null,v.a.createElement(Z,Object.assign({},r,{onModalOpen:P,onModalClose:U,onSubmit:_}))),!l&&v.a.createElement("li",null,v.a.createElement(we,{shareConfig:Object.assign({url:n.url},o),onShare:M})),v.a.createElement("li",null,v.a.createElement(ie,{shareConfig:{url:n.url},onShare:function e(){return H("wechat")}})),v.a.createElement("li",null,v.a.createElement(ve,{shareConfig:Object.assign({title:n.title,url:n.url,image:n.cover},i),onShare:function e(){return B("weibo")}})),v.a.createElement("li",null,v.a.createElement(be,{shareConfig:Object.assign({title:n.title,url:n.url,image:n.cover},a),onShare:function e(){return B("qzone")}}))))))};var Se=t["a"]=Ie},"600ef62ec3ad32ec1243":function(e,t,n){},"60ea5d854a4999bbf092":function(e,t,n){},"62ea6c1add15eea97123":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("514e048378a284fc2dcd");var a=n.n(r);var i=n("5f3cfa39f909ef854538");var o=n.n(i);var c=n("fa2a44115ff2bd1a0d71");var u=n.n(c);var l=n("5a1a865b1553fc84c0ed");var f=n.n(l);function s(e,t){if(!e||!t)return{};var n={};var r=Object.keys(e);r.forEach((function(e){n[e]=t.style[e]}));r.forEach((function(n){t.style[n]=e[n]}));return n}},"655f399c98758d086897":function(e,t,n){},"663529bce6ee6d8996f5":function(e,t,n){"use strict";var r={};n.r(r);n.d(r,"getProfileTabs",(function(){return T}));n.d(r,"getRecentList",(function(){return N}));n.d(r,"getFeedData",(function(){return L}));n.d(r,"getFavData",(function(){return R}));n.d(r,"getFollowData",(function(){return A}));n.d(r,"getFeedList",(function(){return D}));n.d(r,"getHotNews",(function(){return P}));n.d(r,"getHotList",(function(){return U}));n.d(r,"getRelatedList",(function(){return M}));n.d(r,"getFeedApiData",(function(){return F}));n.d(r,"getDetailRelatedList",(function(){return V}));n.d(r,"getDetailFeedList",(function(){return H}));n.d(r,"getDetailHotList",(function(){return B}));n.d(r,"getRefreshTips",(function(){return W}));n.d(r,"getHotVideoData",(function(){return z}));var a={};n.r(a);n.d(a,"getWeatherCity",(function(){return Q}));n.d(a,"getWeatherData",(function(){return K}));var i={};n.r(i);n.d(i,"getFansStat",(function(){return J}));n.d(i,"followUser",(function(){return X}));n.d(i,"unfollowUser",(function(){return $}));n.d(i,"getFansList",(function(){return ee}));n.d(i,"getFollowingList",(function(){return te}));var o={};n.r(o);n.d(o,"followUsers",(function(){return ue}));n.d(o,"submitFeedback",(function(){return le}));n.d(o,"likeArticle",(function(){return fe}));n.d(o,"dislikeArticle",(function(){return se}));n.d(o,"deleteUgcVideo",(function(){return de}));n.d(o,"deleteUgcContent",(function(){return ve}));n.d(o,"dislikeFeed",(function(){return me}));n.d(o,"feedbackContent",(function(){return pe}));n.d(o,"repostContent",(function(){return be}));n.d(o,"diggArticle",(function(){return he}));var c={};n.r(c);n.d(c,"getCSRFToken",(function(){return ge}));n.d(c,"getTTAntiToken",(function(){return _e}));var u={};n.r(u);n.d(u,"getReplyList",(function(){return je}));n.d(u,"getTabComments",(function(){return Oe}));n.d(u,"submitComment",(function(){return xe}));n.d(u,"submitReply",(function(){return Ce}));n.d(u,"commentAction",(function(){return Ie}));n.d(u,"diggReply",(function(){return Se}));n.d(u,"reportUser",(function(){return Te}));var l={};n.r(l);n.d(l,"getWritingsList",(function(){return Ae}));n.d(l,"getSearchList",(function(){return De}));n.d(l,"toTopItem",(function(){return Pe}));n.d(l,"cancelTopItem",(function(){return Ue}));n.d(l,"getPopularWorks",(function(){return Me}));var f=n("1fbd449e565d9fe73e34");var s=n.n(f);var d=n("59c079e31d780aa10ab3");var v=n.n(d);var m=n("17182ec21c9e45f48693");var p=n.n(m);var b=n("4da96d66510db0326cde");var h=n.n(b);var g=n("62ff606f30425beb0057");var _=n.n(g);var y=n("6af3fb42e7368ad6a775");var w=n.n(y);var k=n("9f4f4b9798be7ce1394c");var E=n.n(k);var j=n("a99d8596674b8a971a00");var O=n("a52ab4297c6c7cd8920c");var x=n.n(O);var C=n("10130cfc2ba27a09b7e5");function I(e,t){var n=w()(e);if(_.a){var r=_()(e);if(t)r=r.filter((function(t){return h()(e,t).enumerable}));n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)I(Object(n),true).forEach((function(t){E()(e,t,n[t])}));else if(p.a)v()(e,p()(n));else I(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}function T(e){var t=x.a.stringify({token:e});return j["a"].post("/api/pc/user/tabs_info",t)}function N(e,t){return j["a"].get("/api/pc/media_hot/",{params:{media_id:t,user_token:e}})}function L(e,t,n){if("profile_collection"===e)return j["a"].get("/api/pc/list/feed",{params:{category:e,token:t,max_behot_time:n}});return j["a"].get("/api/pc/feed/",{params:{category:e,utm_source:"toutiao",visit_user_token:t,max_behot_time:n}})}function R(e,t){return j["a"].get("/c/user/favourite/",{params:{page_type:2,user_token:e,max_behot_time:0,count:20,max_repin_time:t}})}function A(e,t,n){var r="following"===e?"/c/user/following/":"/c/user/followed/";return j["a"].get(r,{params:{user_token:t,cursor:n,count:20}})}function D(e,t){return j["a"].get(e,{params:t})}function P(){return j["a"].get("/api/pc/realtime_news/")}function U(){return j["a"].get("/hot-event/hot-board/?origin=toutiao_pc")}function M(e){return j["a"].get("/api/article/related/",{params:{group_id:e}})}function F(e){var t="pc_profile_channel";var n=C["a"].get();if(e.channel_id===n.all.channelId)t="pc_profile_recommend";return j["a"].get("/api/pc/list/feed",{params:S(S({},e),{},{category:t})})}function V(e){return j["a"].get("/api/pc/list/feed",{params:{channel_id:94349561185,category:"pc_profile_channel",gid_need_related:e.gid}})}function H(e){return j["a"].get("/api/pc/list/feed",{params:S({channel_id:0,category:"pc_profile_recommend",need_top:false},e)})}function B(e){return j["a"].get("/api/pc/list/feed",{params:{min_behot_time:0,category:"pc_profile_article",author_token:e.userId}})}function W(e){return j["a"].get("/2/article/v88/refresh_tip/",{params:{category:"\u5173\u6ce8",refresh_tag:0,min_behot_time:e,count:20}})}function z(e){return j["a"].get("/api/pc/list/feed",{params:{offset:e,channel_id:94349549395,max_behot_time:0,category:"pc_profile_channel",disable_raw_data:true}})}function q(e,t){var n=w()(e);if(_.a){var r=_()(e);if(t)r=r.filter((function(t){return h()(e,t).enumerable}));n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)q(Object(n),true).forEach((function(t){E()(e,t,n[t])}));else if(p.a)v()(e,p()(n));else q(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}function Q(){return j["a"].get("/stream/widget/local_weather/city/")}function K(e){return j["a"].get("/stream/widget/local_weather/data/",{params:G({},e?{city:e}:{})})}function Y(e,t){var n=w()(e);if(_.a){var r=_()(e);if(t)r=r.filter((function(t){return h()(e,t).enumerable}));n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)Y(Object(n),true).forEach((function(t){E()(e,t,n[t])}));else if(p.a)v()(e,p()(n));else Y(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}function J(e){var t=x.a.stringify({token:e});return j["a"].post("/api/pc/user/fans_stat",t)}function X(e){return j["a"].post("/api/pc/user/follow",{user_token:e})}function $(e){return j["a"].post("/c/user/unfollow/",x.a.stringify({user_token:e}))}function ee(e){return j["a"].get("/api/pc/user/followed",{params:Z(Z({},e),{},{count:20})})}function te(e){return j["a"].get("/api/pc/user/following",{params:Z(Z({},e),{},{count:e.count||20})})}var ne=n("b15d7f08aae7868a2784");var re=n.n(ne);var ae=n("2422758950d9f66b7423");var ie=n("be6323750fae7868d676");function oe(e,t){var n=w()(e);if(_.a){var r=_()(e);if(t)r=r.filter((function(t){return h()(e,t).enumerable}));n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)oe(Object(n),true).forEach((function(t){E()(e,t,n[t])}));else if(p.a)v()(e,p()(n));else oe(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}function ue(e,t){return j["a"].get("/c/user/".concat(e,"/"),{params:{user_token:t}})}function le(e,t,n){var r=x.a.stringify({aid:13,appkey:"web",app_name:ae["i"],contact:e,content:"[".concat(window.location.host,"]").concat(t),extra_persistent_params:re()(n)});return j["a"].post("/feedback/2/post_message/",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function fe(e,t){return j["a"].post("/group/repin/",x.a.stringify({group_id:e,item_id:t}))}function se(e,t){return j["a"].post("/group/unrepin/",null,{params:{group_id:e,item_id:t}})}function de(e){return j["a"].post("/api/pc/user/delete",null,{params:{item_id:e}})}function ve(e){return j["a"].post("/c/ugc/content/delete/",x.a.stringify(e))}function me(e,t,n){return j["a"].post("/user_data/batch_action/?aid=24",{actions:[ce({action:"dislike",aggr_type:1,id:t,item_id:e,ad_extra:{},type:1,timestamp:Object(ie["o"])()},n?{filter_words:[n]}:{})]})}function pe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ae["g"].ARTICLE;var a=arguments.length>4?arguments[4]:void 0;var i=arguments.length>5?arguments[5]:void 0;var o=x.a.stringify({group_id:e,report_from:i||"web_detail_page",report_from2:i||"web_detail_page",platform:null,description:t,source:r,report_types:n,app_key:"toutiao-web"});var c={app_name:"toutiao-web",app_key:"toutiao-web",aid:ae["h"],webid:a};return j["a"].post("/api/feedback/v1/report_content/",o,{params:c})}function be(e){return j["a"].post("/c/ugc/content/repost/",x.a.stringify(ce({},e)))}function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae["c"].WTT;return j["a"].post("/api/pc/user/fans_digg",null,{params:{gid:e,op:t,type:n}})}function ge(){return j["a"].get("/api/pc/info")}function _e(){return j["a"].get("/tt-anti-token")}var ye=n("626346d0a60969063da7");var we=n.n(ye);function ke(e,t){var n=w()(e);if(_.a){var r=_()(e);if(t)r=r.filter((function(t){return h()(e,t).enumerable}));n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)ke(Object(n),true).forEach((function(t){E()(e,t,n[t])}));else if(p.a)v()(e,p()(n));else ke(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return j["a"].get("/2/comment/v2/reply_list/",{params:{aid:ae["h"],app_name:ae["i"],id:e,offset:t,count:n,repost:r}})}function Oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;return j["a"].get("/article/v2/tab_comments/",{params:{aid:ae["h"],app_name:ae["i"],offset:n,count:r,group_id:e,item_id:t}})}function xe(e,t,n){return j["a"].post("/browser/2/data/v5/post_message/",x.a.stringify({group_id:e,item_id:t,text:n}),{params:{aid:ae["h"],app_name:ae["i"]}})}function Ce(e,t,n,r){var a={id:e,content:t};if(n||r){a.reply_user_id=n;a.reply_comment_id=r}return j["a"].post("/api/pc/2/comment/v3/create_reply/",x.a.stringify(a),{params:{aid:ae["h"],app_name:ae["i"]}})}function Ie(e,t,n){return j["a"].post("/api/pc/2/data/comment_action/",x.a.stringify({comment_id:e,group_id:t,item_id:n,action:"digg"}),{params:{aid:ae["h"],app_name:ae["i"]}})}function Se(e,t){return j["a"].get("/api/pc/2/comment/v1/digg_reply/",{params:{aid:ae["h"],app_name:ae["i"],id:e,reply_id:t,action:"digg"}})}function Te(e){return j["a"].post("/api/pc/feedback/2/report_user_comment/",x.a.stringify(Ee(Ee({},e),{},{report_source:0,source:1,aid:ae["h"]})),{params:{aid:ae["h"],app_name:"toutiao-web",app_key:"toutiao-web",webid:we.a.get("tt_webid")}})}var Ne=n("b201cefb7d33145ac7ad");function Le(e,t){var n=w()(e);if(_.a){var r=_()(e);if(t)r=r.filter((function(t){return h()(e,t).enumerable}));n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)Le(Object(n),true).forEach((function(t){E()(e,t,n[t])}));else if(p.a)v()(e,p()(n));else Le(Object(n)).forEach((function(t){s()(e,t,h()(n,t))}))}return e}function Ae(e){return j["a"].get("/api/pc/list/user/feed",{params:Re({},e)})}function De(e){return j["a"].get("/api/pc/list/feed",{params:Re(Re({},e),{},{category:"profile_search"})})}function Pe(e){return j["a"].post("/api/pc/user/stick",null,{params:{item_id:e}})}function Ue(e){return j["a"].post("/api/pc/user/unstick",null,{params:{item_id:e}})}function Me(e){return j["a"].get("/api/pc/list/feed",{params:{category:"pc_user_hot",token:e}})}var Fe={feed:r,weather:a,relation:i,user:o,csrf:c,comment:u,search:Ne,profile:l};var Ve=t["a"]=Fe},"6740510cbb0e5ccf88eb":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("be6323750fae7868d676");var a=n("acff6c447f863638e55f");function i(e){var t,n;var r=[];if(null===(t=e.large_image_list)||void 0===t?void 0:t.length)r=e.large_image_list;else if(null===(n=e.image_list)||void 0===n?void 0:n.length)r=e.image_list;else if(e.middle_image)r=[].concat(e.middle_image);return r.map((function(e){return e.url.replace(/^http:/,"")}))}function o(e){var t=e.user_info;var n=Object(r["t"])((null===t||void 0===t?void 0:t.user_auth_info)||"{}");return{groupId:e.group_id_str,itemId:e.item_id_str,userInfo:t&&{uid:t.user_id,name:t.name,avatarUrl:t.avatar_url,authType:n.auth_type,authInfo:n.auth_info},content:e.title,coverUrls:i(e),articleUrl:Object(a["b"])(a["a"].ARTICLE,e.group_id_str),videoDuration:e.video_duration,hasVideo:e.has_video,showOrigin:e.show_origin,showTips:e.show_tips}}function c(e){var t=e.user;var n=Object(r["t"])((null===t||void 0===t?void 0:t.user_auth_info)||"{}");return{groupId:e.thread_id_str,itemId:e.thread_id_str,userInfo:t&&{uid:t.user_id,name:t.name,avatarUrl:t.avatar_url,authType:n.auth_type,authInfo:n.auth_info},content:e.content,coverUrls:i(e),articleUrl:Object(a["b"])(a["a"].WTT,e.thread_id_str),showOrigin:e.show_origin,showTips:e.show_tips}}function u(e){var t;var n=e.raw_data;var i=null===(t=n.user)||void 0===t?void 0:t.info;var o=Object(r["t"])((null===i||void 0===i?void 0:i.user_auth_info)||"{}");return{groupId:n.group_id_str,itemId:n.item_id_str||n.item_id,userInfo:i&&{uid:i.user_id,name:i.name,avatarUrl:i.avatar_url,authType:o.auth_type,authInfo:o.auth_info},content:n.title,coverUrls:(n.thumb_image_list||[]).map((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.replace(/^http:/,"")})).filter(Boolean),articleUrl:Object(a["b"])(a["a"].SELF_VIDEO,n.group_id_str),videoDuration:n.video.duration,showOrigin:e.show_origin,showTips:e.show_tips}}function l(e,t){var n,a;var i=null===(n=e.user)||void 0===n?void 0:n.info;var o=Object(r["t"])((null===i||void 0===i?void 0:i.user_auth_info)||"{}");var c="";if(215===t){var u;c=Object(r["n"])("url",null===(u=e.schema)||void 0===u?void 0:u.split("?")[1])}return{groupId:e.group_id_str,itemId:e.group_id_str,userInfo:i&&{uid:i.user_id,name:i.name,avatarUrl:i.avatar_url,authType:o.auth_type,authInfo:o.auth_info},content:e.title,coverUrls:((null===(a=e.cover_image)||void 0===a?void 0:a.url_list)||[]).map((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.replace(/^http:/,"")})).filter(Boolean),articleUrl:c,showOrigin:e.show_origin,showTips:e.show_tips}}function f(e){var t=e.commentType,n=e.originGroup,r=e.originThread,a=e.originUgcVideo,i=e.originCommonContent;var f=null;if(n)f=o(n);else if(r)f=c(r);else if(a)f=u(a);else if(i)f=l(i,t);return f}},"67b082cf07e160d3a308":function(e,t,n){"use strict";var r=n("f4095745be08d782d539");var a=n("d2cc329ce222e2406492");var i=n("352fe4c99a6fff2f363c");var o=n("056606c89293aa5bef85");var c=n("f9c528707353f5b6df95");var u=n("fa2a44115ff2bd1a0d71");var l=n("514e048378a284fc2dcd");var f=n("4fa4ba9dede71d4f591e");var s=n("a2b92cfef2eaa695ad2f");var d=n("2810e53ad7174f3c046d");var v=n("93d7a148460d9069f5a3");var m=n("69084d01d3449fc1bc27");var p=n.n(m);var b=n("174811872339f1d02c40");var h=n.n(b);var g=n("504e80c4120170e5a863");var _=n("bd8ea4fd9e1bc4efca14");var y=n("98ad94a9d064c7351e07");var w=p.a.createContext({theme:"light"});var k=n("f379d8630b54b982148d");var E=n("c1a4a6788571259bceaa");var j=n("1996c46f3c8a49327c94");function O(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){O(i,r,a,o,c,"next",e)}function c(e){O(i,r,a,o,c,"throw",e)}o(void 0)}))}}function C(e,t){return L(e)||N(e,t)||S(e,t)||I()}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}function T(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function L(e){if(Array.isArray(e))return e}var R=function e(t){var n=t.autoFocus,r=void 0===n?false:n,a=t.loginBtnAutoFocus,i=void 0===a?true:a,o=t.loginUserInfo,c=t.onSubmit;var u=Object(m["useContext"])(w);var l=Object(m["useRef"])(null);var f=Object(m["useRef"])(false);var s=Object(m["useState"])(false),d=C(s,2),v=d[0],b=d[1];var g=Object(m["useState"])(""),_=C(g,2),y=_[0],k=_[1];Object(m["useEffect"])((function(){return function(){f.current=true}}),[]);function E(){b(true)}function O(){if(!y.trim())b(false)}function I(e){var t=e.target.value;k(t)}function S(){return T.apply(this,arguments)}function T(){T=x(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:if(Object(j["a"])(o)){r.next=2;break}return r.abrupt("return");case 2:t=y.trim();if(t.length){r.next=5;break}return r.abrupt("return");case 5:r.next=7;return null===c||void 0===c?void 0:c(t);case 7:n=r.sent;if(n&&!f.current)k("");case 9:case"end":return r.stop()}}),e)})));return T.apply(this,arguments)}function N(e){e.stopPropagation();if(!Object(j["a"])(o))return}function L(){if(l.current)l.current.focus()}return p.a.createElement("div",{className:h()("ttp-comment-input",{dark:"dark"===u.theme}),onClick:L},!o&&p.a.createElement("div",{className:"login-mask",onClick:N},p.a.createElement("p",null,"\u8bf7\u5148 ",p.a.createElement("button",{autoFocus:i},"\u767b\u5f55")," \u540e\u53d1\u8868\u8bc4\u8bba\uff5e")),p.a.createElement("textarea",{ref:l,autoFocus:r,disabled:!o,className:h()("comment-textarea",{expand:v}),placeholder:"\u8bf4\u70b9\u4ec0\u4e48\u5427...",value:y,onChange:I,onFocus:E,onBlur:O}),p.a.createElement("div",{className:"action"},p.a.createElement("button",{type:"button",disabled:!o,className:h()("submit-btn",{disable:!y.trim().length&&o}),onClick:S},"\u8bc4\u8bba")))};var A=R;var D=n("7aa18cb6b611f6d9cc88");var P=n("20c6f2e62cf94b7db59c");var U=function e(t){var n=t.className,r=t.name,a=t.authType,i=t.tag;return p.a.createElement("div",{className:h()("user-name",n)},p.a.createElement("span",{className:"name"},r),a&&p.a.createElement("i",{className:"auth-icon auth-".concat(a)}),i&&p.a.createElement("span",{className:"tag style-".concat(i.style||"1")},i.text))};var M=U;var F=n("2b423d1c7d09be214755");var V=n("abbf799a026c91d8612e");var H=n("7f9308912c4b86f89747");function B(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){B(i,r,a,o,c,"next",e)}function c(e){B(i,r,a,o,c,"throw",e)}o(void 0)}))}}var z=function e(t){var n=t.isReplyList,r=t.loginUserInfo,a=t.groupId,i=t.itemId,o=t.commentId,c=t.parentCommentId,u=t.isLiked,l=t.likeCount,f=t.onLikeChange;var s=Object(m["useContext"])(w);var d=Object(m["useRef"])(false);function v(e,t){return b.apply(this,arguments)}function b(){b=W(regeneratorRuntime.mark((function e(t,n){var r,o,c;return regeneratorRuntime.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:u.next=2;return V["a"].comment.commentAction(t,a,i,n);case 2:o=u.sent;c=o.data;if(!("success"!==c.message)){u.next=6;break}throw new Error(null===(r=c.err_alert)||void 0===r?void 0:r.err_content);case 6:case"end":return u.stop()}}),e)})));return b.apply(this,arguments)}function g(e,t,n){return y.apply(this,arguments)}function y(){y=W(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return V["a"].comment.diggReply(n,t,r);case 2:i=c.sent;o=i.data;if(!("success"!==o.message)){c.next=6;break}throw new Error(null===(a=o.err_alert)||void 0===a?void 0:a.err_content);case 6:case"end":return c.stop()}}),e)})));return y.apply(this,arguments)}function k(){return E.apply(this,arguments)}function E(){E=W(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(Object(j["a"])(r)){i.next=2;break}return i.abrupt("return");case 2:if(!d.current){i.next=4;break}return i.abrupt("return");case 4:i.prev=4;d.current=true;t=u?"cancel_digg":"digg";if(!c){i.next=12;break}i.next=10;return g(o,c,t);case 10:i.next=19;break;case 12:if(!n){i.next=17;break}i.next=15;return g(o,a,t);case 15:i.next=19;break;case 17:i.next=19;return v(o,t);case 19:d.current=false;f(!u,o,c);i.next=28;break;case 23:i.prev=23;i.t0=i["catch"](4);void 0;d.current=false;H["a"].info(i.t0.message||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");case 28:case"end":return i.stop()}}),e,null,[[4,23]])})));return E.apply(this,arguments)}function O(e){var t=e.keyCode;if(32===t||13===t){e.preventDefault();k()}}return p.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u70b9\u8d5e".concat(Object(_["a"])(l)),"aria-pressed":u,className:h()("ttp-comment-like",{dark:"dark"===s.theme}),onKeyDown:O},p.a.createElement("div",{className:h()("inner",{liked:u}),onClick:k},p.a.createElement("span",{className:h()({text:0===l})},0===l?"\u8d5e":Object(_["a"])(l)),u?p.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.a.createElement("path",{d:"M4.21442 11.3522C4.21442 11.2719 4.21442 11.2317 4.21548 11.1978C4.25135 10.0484 5.17473 9.12502 6.32411 9.08915C6.35807 9.08809 6.39824 9.08809 6.47856 9.08809H7.97134C8.30805 9.08809 8.61748 8.90294 8.77667 8.60624L10.9521 4.55134C11.4422 3.63789 12.6047 3.33263 13.4803 3.88745C13.9816 4.20507 14.2562 4.78207 14.1866 5.3714L13.7479 9.08809H17.5188C18.6153 9.08809 19.1636 9.08809 19.5533 9.31188C19.8952 9.50827 20.1575 9.81838 20.2943 10.1882C20.4503 10.6097 20.3592 11.1503 20.177 12.2316L19.3922 16.8892C19.2183 17.9216 19.1313 18.4377 18.8731 18.825C18.6454 19.1664 18.326 19.4365 17.9515 19.6043C17.5267 19.7946 17.0033 19.7946 15.9564 19.7946H7.69863C6.47904 19.7946 5.86925 19.7946 5.40342 19.5572C4.99368 19.3484 4.66054 19.0153 4.45176 18.6056C4.21442 18.1397 4.21442 17.5299 4.21442 16.3104V11.3522Z",fill:"#F04142"}),p.a.createElement("path",{d:"M7.37381 6.35449V20.5227",stroke:"white",strokeWidth:"1.2"})):p.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p.a.createElement("path",{d:"M13.6547 9.01851L13.0678 8.94922C13.048 9.11689 13.1008 9.28501 13.213 9.41119C13.3251 9.53738 13.4859 9.60957 13.6547 9.60957V9.01851ZM14.0618 5.57064L14.6487 5.63993L14.0618 5.57064ZM9.04306 8.57151L8.52223 8.29208L9.04306 8.57151ZM5.9138 18.7304L5.64546 19.2571L5.9138 18.7304ZM5.03097 17.8476L5.55761 17.5793L5.03097 17.8476ZM18.4092 18.0512L18.901 18.3791L18.4092 18.0512ZM17.5543 18.7741L17.796 19.3135L17.5543 18.7741ZM19.6188 11.9347L19.036 11.8365L19.6188 11.9347ZM19.7277 10.0391L19.1733 10.2442L19.7277 10.0391ZM19.0402 9.22612L18.7459 9.73867L19.0402 9.22612ZM4.81177 10.9756L4.221 10.9572L4.81177 10.9756ZM6.7679 9.0195L6.74946 8.42872L6.7679 9.0195ZM19.036 11.8365L18.308 16.1572L19.4737 16.3536L20.2017 12.0329L19.036 11.8365ZM15.7035 18.3596H8.043V19.5417H15.7035V18.3596ZM5.40185 15.7184V11.1189H4.21973V15.7184H5.40185ZM13.6547 9.60957H17.1529V8.42745H13.6547V9.60957ZM9.5639 8.85094L11.582 5.08933L10.5403 4.53047L8.52223 8.29208L9.5639 8.85094ZM13.4748 5.50135L13.0678 8.94922L14.2417 9.0878L14.6487 5.63993L13.4748 5.50135ZM6.91118 9.60957H8.29598V8.42745H6.91118V9.60957ZM13.0901 4.69329C13.3631 4.86625 13.5126 5.18044 13.4748 5.50135L14.6487 5.63993C14.7399 4.86742 14.3799 4.11109 13.7228 3.69475L13.0901 4.69329ZM8.52223 8.29208C8.47751 8.37544 8.39058 8.42745 8.29598 8.42745V9.60957C8.82611 9.60957 9.31329 9.31808 9.5639 8.85094L8.52223 8.29208ZM8.043 18.3596C7.46756 18.3596 7.07152 18.3591 6.76431 18.334C6.464 18.3095 6.30099 18.2644 6.18214 18.2038L5.64546 19.2571C5.95874 19.4167 6.29464 19.4817 6.66805 19.5122C7.03456 19.5421 7.48706 19.5417 8.043 19.5417V18.3596ZM4.21973 15.7184C4.21973 16.2743 4.21927 16.7268 4.24921 17.0934C4.27972 17.4668 4.34471 17.8027 4.50433 18.1159L5.55761 17.5793C5.49705 17.4604 5.45195 17.2974 5.42741 16.9971C5.40231 16.6899 5.40185 16.2939 5.40185 15.7184H4.21973ZM6.18214 18.2038C5.91324 18.0668 5.69462 17.8482 5.55761 17.5793L4.50433 18.1159C4.75468 18.6073 5.15414 19.0067 5.64546 19.2571L6.18214 18.2038ZM18.308 16.1572C18.2258 16.6448 18.1692 16.9782 18.1056 17.2359C18.0437 17.4863 17.9844 17.6228 17.9175 17.7233L18.901 18.3791C19.0736 18.1203 19.1745 17.8378 19.2531 17.5196C19.33 17.2085 19.3945 16.8237 19.4737 16.3536L18.308 16.1572ZM15.7035 19.5417C16.1802 19.5417 16.5704 19.5421 16.8899 19.5179C17.2167 19.4932 17.5121 19.4407 17.796 19.3135L17.3127 18.2347C17.2025 18.284 17.058 18.3197 16.8008 18.3392C16.5362 18.3592 16.198 18.3596 15.7035 18.3596V19.5417ZM17.9175 17.7233C17.7681 17.9473 17.5584 18.1246 17.3127 18.2347L17.796 19.3135C18.245 19.1124 18.628 18.7884 18.901 18.3791L17.9175 17.7233ZM20.2017 12.0329C20.2844 11.5417 20.3533 11.136 20.38 10.8048C20.4072 10.4682 20.3975 10.146 20.282 9.83395L19.1733 10.2442C19.2025 10.3231 19.2229 10.4471 19.2017 10.7098C19.1801 10.978 19.1222 11.3245 19.036 11.8365L20.2017 12.0329ZM17.1529 9.60957C17.6721 9.60957 18.0234 9.61009 18.2915 9.63332C18.554 9.65607 18.6729 9.69676 18.7459 9.73867L19.3346 8.71357C19.0461 8.54788 18.73 8.48476 18.3935 8.45561C18.0625 8.42693 17.651 8.42745 17.1529 8.42745V9.60957ZM20.282 9.83395C20.1071 9.36113 19.7718 8.96465 19.3346 8.71357L18.7459 9.73867C18.9431 9.85196 19.0944 10.0308 19.1733 10.2442L20.282 9.83395ZM11.582 5.08933C11.8743 4.54443 12.5678 4.36233 13.0901 4.69329L13.7228 3.69475C12.6206 2.99633 11.1572 3.3806 10.5403 4.53047L11.582 5.08933ZM5.40185 11.1189C5.40185 11.0399 5.40193 11.014 5.40255 10.9941L4.221 10.9572C4.21966 11.0002 4.21973 11.0488 4.21973 11.1189H5.40185ZM6.91118 8.42745C6.84112 8.42745 6.7925 8.42738 6.74946 8.42872L6.78634 9.61027C6.8063 9.60965 6.8322 9.60957 6.91118 9.60957V8.42745ZM5.40255 10.9941C5.42609 10.2398 6.03206 9.63381 6.78634 9.61027L6.74946 8.42872C5.37124 8.47174 4.26402 9.57896 4.221 10.9572L5.40255 10.9941Z",fill:"#222222"}),p.a.createElement("path",{d:"M8.37335 9.26562V19.518",stroke:"#222222",strokeWidth:"1.29874"}))))};var q=z;var G=n("36230fd2d12a2b08e61a");var Q=n("fc44cefe38e5ec0c2fd4");var K=n("4fc4ab1a10c05441b62b");function Y(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Y(i,r,a,o,c,"next",e)}function c(e){Y(i,r,a,o,c,"throw",e)}o(void 0)}))}}function J(e,t){return ne(e)||te(e,t)||$(e,t)||X()}function X(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}function ee(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function ne(e){if(Array.isArray(e))return e}var re=[{name:"\u6deb\u79fd\u8272\u60c5",value:"1"},{name:"\u8425\u9500\u5e7f\u544a",value:"2"},{name:"\u7f51\u7edc\u66b4\u529b",value:"3"},{name:"\u517b\u8001\u8bc8\u9a97",value:"387"},{name:"\u6211\u6709\u8bdd\u8981\u8bf4",value:"0"}];var ae=function e(t){var n=t.loginUserInfo,r=t.groupId,a=t.itemId,i=t.userId,o=t.commentId,c=t.webid;var u=Object(m["useContext"])(w);var l=Object(m["useState"])(false),f=J(l,2),s=f[0],d=f[1];var v=Object(m["useState"])(""),b=J(v,2),g=b[0],_=b[1];var y=Object(m["useState"])(""),k=J(y,2),E=k[0],O=k[1];function x(){if(!Object(j["a"])(n))return;d(true)}function C(){d(false)}function I(e){_(e.target.value)}function S(e){O(e.target.value)}function T(){return N.apply(this,arguments)}function N(){N=Z(regeneratorRuntime.mark((function e(){var t,n,u,l;return regeneratorRuntime.wrap((function e(f){while(1)switch(f.prev=f.next){case 0:t=(E||"").trim();if(g){f.next=4;break}H["a"].info("\u8bf7\u9009\u62e9\u4e3e\u62a5\u539f\u56e0");return f.abrupt("return");case 4:if(!("0"===g&&!t)){f.next=7;break}H["a"].info("\u8bf7\u586b\u5199\u4e3e\u62a5\u539f\u56e0");return f.abrupt("return");case 7:n={report_user_id:i,comment_id:o,group_id:r,item_id:a,report_type:g,webid:c};if("0"===g)n.report_content=t;f.prev=9;f.next=12;return V["a"].comment.reportUser(n);case 12:u=f.sent;l=u.data;if(!("success"===l.message)){f.next=18;break}d(false);H["a"].info("\u4e3e\u62a5\u6210\u529f");return f.abrupt("return");case 18:throw new Error(l.message);case 21:f.prev=21;f.t0=f["catch"](9);void 0;H["a"].info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");case 25:case"end":return f.stop()}}),e,null,[[9,21]])})));return N.apply(this,arguments)}function L(e){var t=e.keyCode;if(e.target!==e.currentTarget)return;if(32===t||13===t){e.preventDefault();x()}}function R(e){_(e)}return p.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u4e3e\u62a5",className:h()("ttp-comment-report",{dark:"dark"===u.theme}),onKeyDown:L},p.a.createElement("i",{onClick:x}),p.a.createElement(Q["a"],{className:"report-user-modal",title:"\u4e3e\u62a5\u6b64\u4eba",visible:s,onClose:C,onOk:T},p.a.createElement(K["a"],{"aria-label":"\u9009\u62e9\u539f\u56e0",options:re.map((function(e){return e.value})),value:g,onChange:R},p.a.createElement("div",{className:"report-user-options"},p.a.createElement("form",null,re.map((function(e,t){return p.a.createElement(K["a"].RadioButton,{key:t,index:t,option:e.value},p.a.createElement("div",{className:"option-item"},p.a.createElement("label",null,p.a.createElement("input",{"aria-hidden":true,tabIndex:-1,name:"reportType",type:"radio",checked:g===e.value,value:e.value,onChange:I}),e.name)))}))),"0"===g&&p.a.createElement("textarea",{onChange:S})))))};var ie=ae;var oe=n("93fd3eb7060d3a0ca436");var ce=p.a.memo((function(e){var t=e.emoji,n=void 0===t?true:t,r=e.children;var a="".concat(r);if(!n)return p.a.createElement("p",{className:"content"},a);var i=Object(oe["a"])(a);return p.a.createElement("p",{className:"content",dangerouslySetInnerHTML:{__html:i}})}));var ue=ce;function le(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){le(i,r,a,o,c,"next",e)}function c(e){le(i,r,a,o,c,"throw",e)}o(void 0)}))}}function se(e,t){return be(e)||pe(e,t)||ve(e,t)||de()}function de(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ve(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}function me(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function be(e){if(Array.isArray(e))return e}function he(e,t,n){if(!t)return false;if(n)return t.parentId===n.id&&t.commentId===e.id;return t.commentId===e.id}var ge=function e(t){var n,r,a,i,o,c,u,l,f,s,d;var v=t.isReplyList,b=t.data,g=t.parentComment,_=t.groupId,E=t.itemId,j=t.webid,O=t.loginUserInfo,x=t.replyTarget,C=t.logParams,I=t.setReplyTarget,S=t.onGetReplyListByCommentId,T=t.onSubmitReply,N=t.onLikeChange,L=t.onReplyListChange;var R=Object(m["useContext"])(w);var D=Object(m["useState"])(!!b.replyCount&&b.replyCount>((null===(n=b.replyList)||void 0===n?void 0:n.list)||[]).length),U=se(D,2),F=U[0],V=U[1];var B=Object(m["useState"])((null===(r=b.replyList)||void 0===r?void 0:r.list.length)||0),W=se(B,2),z=W[0],G=W[1];var Q=Object(m["useState"])(!!(null===(a=b.replyList)||void 0===a?void 0:a.list.length)),K=se(Q,2),Y=K[0],Z=K[1];var J=Object(m["useState"])(false),X=se(J,2),$=X[0],ee=X[1];var te=he(b,x,g);var ne=Object(m["useRef"])(false);var re=Object(m["useRef"])(null);function ae(){return oe.apply(this,arguments)}function oe(){oe=fe(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:0;if(!ne.current){r.next=3;break}return r.abrupt("return");case 3:r.prev=3;ne.current=true;r.next=7;return null===S||void 0===S?void 0:S(b.id,t);case 7:ne.current=false;V(false);G(0===t?5:z+5);Z(true);r.next=17;break;case 13:r.prev=13;r.t0=r["catch"](3);ne.current=false;H["a"].info("\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");case 17:case"end":return r.stop()}}),e,null,[[3,13]])})));return oe.apply(this,arguments)}function ce(){Object(y["a"])("comment_enter",{comment_position:"comment",groupId:_});if($){V(false);Z(true);return}ae(0);ee(true)}function le(){var e,t;if(null===(e=b.replyList)||void 0===e?void 0:e.hasMore)ae(((null===(t=b.replyList)||void 0===t?void 0:t.offset)||0)+5);else{Z(false);V(true)}}function de(){if(te){I(null);return}I({parentId:null===g||void 0===g?void 0:g.id,commentId:b.id})}function ve(){G(z+1)}function me(e){return pe.apply(this,arguments)}function pe(){pe=fe(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return T(t,b,g);case 2:n=r.sent;if(n){if(!g){G(z+1);Z(true)}else null===L||void 0===L?void 0:L();H["a"].info("\u56de\u590d\u6210\u529f");setTimeout((function(){var e;null===(e=re.current)||void 0===e?void 0:e.focus()}),2e3)}return r.abrupt("return",n);case 5:case"end":return r.stop()}}),e)})));return pe.apply(this,arguments)}function be(e){e.preventDefault();var t=Object(P["b"])("/c/user/".concat(b.user.uid,"/?source=").concat(C.page_name),{position:"detail",enter_from:C.enter_from,section:"comment"});window.open(t)}return p.a.createElement("div",{className:h()("ttp-comment-item",{dark:"dark"===R.theme})},p.a.createElement("a",{tabIndex:-1,"aria-hidden":true,href:"/c/user/".concat(b.user.uid,"/?source=").concat(C.page_name),rel:"nofollow",target:"_blank",className:h()({"children-reply-avatar":g}),onClick:be},p.a.createElement(k["a"],{url:b.user.avatar,authType:!g?null===(i=b.user.authInfo)||void 0===i?void 0:i.auth_type:void 0})),p.a.createElement("div",{className:"comment-info"},p.a.createElement("div",{className:"header"},p.a.createElement("div",{className:"user-info"},p.a.createElement("a",{href:"/c/user/".concat(b.user.uid,"/?source=").concat(C.page_name),rel:"nofollow",target:"_blank",onClick:be},p.a.createElement(M,{name:b.user.name,authType:g?null===(o=b.user.authInfo)||void 0===o?void 0:o.auth_type:void 0,tag:b.user.hasAuthorBadge?{text:"\u4f5c\u8005"}:void 0}))),p.a.createElement("div",{className:"right-action"},p.a.createElement(q,{isReplyList:v,loginUserInfo:O,groupId:_,itemId:E,commentId:b.id,parentCommentId:null===g||void 0===g?void 0:g.id,likeCount:b.likeCount,isLiked:b.userLike,onLikeChange:N}))),p.a.createElement("div",{className:"body"},p.a.createElement(ue,null,b.text)),p.a.createElement("div",{className:"footer"},p.a.createElement("div",{className:"left-action"},p.a.createElement("button",{className:"reply-btn",ref:re,onClick:de},"\u56de\u590d"),p.a.createElement("span",{className:"dot"},"\xb7"),p.a.createElement("span",{className:"time"},b.time)),p.a.createElement("div",{className:"right-action"},p.a.createElement(ie,{loginUserInfo:O,userId:b.user.uid,commentId:b.id,groupId:_,itemId:E,webid:j}))),te&&p.a.createElement("div",{className:"children-input"},p.a.createElement(A,{autoFocus:true,loginUserInfo:O,onSubmit:me})),!!(null===(c=b.replyList)||void 0===c?void 0:c.list.length)&&Y&&p.a.createElement("div",{className:"replay-list"},p.a.createElement("ul",null,((null===(u=b.replyList)||void 0===u?void 0:u.list)||[]).slice(0,z).map((function(t){return p.a.createElement("li",{key:t.id},p.a.createElement(e,{key:t.id,groupId:_,itemId:E,webid:j,loginUserInfo:O,data:t,parentComment:b,replyTarget:x,logParams:C,setReplyTarget:I,onSubmitReply:T,onLikeChange:N,onReplyListChange:ve}))})))),F&&p.a.createElement("button",{className:h()("check-more-reply",{ml:Y&&(null===(l=b.replyList)||void 0===l?void 0:l.list.length)}),onClick:ce},"\u67e5\u770b\u5168\u90e8 ",b.replyCount," \u6761\u56de\u590d"),!F&&Y&&$&&(null===(f=b.replyList)||void 0===f?void 0:f.hasMore)&&p.a.createElement("button",{className:h()("check-more-reply ml",{fold:!(null===(s=b.replyList)||void 0===s?void 0:s.hasMore)}),onClick:le},(null===(d=b.replyList)||void 0===d?void 0:d.hasMore)?"\u67e5\u770b\u66f4\u591a\u56de\u590d":"\u6536\u8d77")))};var _e=ge;function ye(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ye(i,r,a,o,c,"next",e)}function c(e){ye(i,r,a,o,c,"throw",e)}o(void 0)}))}}function ke(e,t){return Ce(e)||xe(e,t)||je(e,t)||Ee()}function Ee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function je(e,t){if(!e)return;if("string"===typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}function Oe(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function Ce(e){if(Array.isArray(e))return e}var Ie=function e(t){var n=t.className,r=t.theme,a=void 0===r?"light":r,i=t.anchorId,o=void 0===i?"comment-area":i,c=t.loginUserInfo,u=t.isReplyList,l=t.groupId,f=t.itemId,s=t.webid,d=t.total,v=t.list,b=t.logParams,g=t.onGetReplyListByCommentId,E=t.onSubmitComment,j=t.onSubmitReply,O=t.onLikeChange;var x=Object(m["useRef"])(false);var C=Object(m["useState"])(null),I=ke(C,2),S=I[0],T=I[1];function N(e){Object(y["a"])("rt_post_comment",Object.assign(Object.assign({},b),e))}function L(e,t,n){return R.apply(this,arguments)}function R(){R=we(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:if(!x.current){i.next=2;break}return i.abrupt("return",false);case 2:a=u||n;i.prev=3;x.current=true;if(!a){i.next=11;break}i.next=8;return j(t,n,r);case 8:if(n)T(null);i.next=13;break;case 11:i.next=13;return E(t);case 13:N({comment_type:a?"comment_reply":"comment",is_success:1});x.current=false;return i.abrupt("return",true);case 18:i.prev=18;i.t0=i["catch"](3);void 0;N({comment_type:a?"comment_reply":"comment",is_success:0});x.current=false;H["a"].info(i.t0.message||"\u63d0\u4ea4\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");return i.abrupt("return",false);case 25:case"end":return i.stop()}}),e,null,[[3,18]])})));return R.apply(this,arguments)}return p.a.createElement(w.Provider,{value:{theme:a}},p.a.createElement("div",{id:o,className:h()("ttp-comment-wrapper",n,{dark:"dark"===a})},p.a.createElement("div",{className:"title"},"\u8bc4\u8bba ",p.a.createElement("span",null,Object(_["a"])(d))),p.a.createElement("div",{className:"main-input"},p.a.createElement(k["a"],{url:(null===c||void 0===c?void 0:c.avatar)||""}),p.a.createElement(A,{loginBtnAutoFocus:false,onSubmit:L,loginUserInfo:c})),p.a.createElement("ul",{className:"comment-list"},v.map((function(e){return p.a.createElement("li",{key:e.id},p.a.createElement(_e,{key:e.id,isReplyList:u,groupId:l,itemId:f,webid:s,loginUserInfo:c,data:e,replyTarget:S,logParams:b,setReplyTarget:T,onGetReplyListByCommentId:g,onSubmitReply:L,onLikeChange:O}))})))))};var Se=t["a"]=Ie},"685783877eda1ba3ad5f":function(e,t,n){},"698918b37c8f26bd36fc":function(e,t,n){},"6cf195ddfada1b0033e1":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));n.d(t,"b",(function(){return k}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);function h(e){if(!e)return e;if(window.URL)return new URL(e).host;var t=document.createElement("a");t.href=e;return t.host}function g(){var e,t;return window.sessionStorage.getItem("__ac_referer")||(window.byted_acrawler?null===(e=(t=window.byted_acrawler).getReferer)||void 0===e?void 0:e.call(t):document.referrer)}function _(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)_(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else _(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function w(e,t){if(!window.collectEvent)return;window.collectEvent(e,t||{})}function k(e,t){var n,r,a,i;var o=g();null===(n=(r=window).collectEvent)||void 0===n?void 0:n.call(r,"config",y(y({},e),{},{user_unique_id:e.web_id,ab_sdk_version:(null===t||void 0===t?void 0:t.version_name)||"",user_agent:window.navigator.userAgent,referrer:o,referrer_host:h(o)}));null===(a=(i=window).collectEvent)||void 0===a?void 0:a.call(i,"start")}},"6e0d59f75f94a76048b3":function(e,t,n){"use strict";var r=n("b400c18478ff55657723");var a=n.n(r);var i=n("69084d01d3449fc1bc27");var o=n.n(i);var c=n("c9cd1e0339c82648866e");var u=n("08172d9560ad9ddbd809");var l=n("be6323750fae7868d676");function f(e){return e.includes("toutiao.com")||/^\/(?!\/).*/.test(e)}function s(e){var t=document.querySelectorAll("a");Array.prototype.slice.call(t).forEach((function(t){var n=t.getAttribute("target");var r=t.getAttribute("href");var a=t.getAttribute("origin-target");if(n&&!a&&f(r))t.setAttribute("target",e)}))}function d(){var e=document.querySelector("#root");var t=Object(l["u"])((function(){s("_self")}),500);t();var n=new MutationObserver(t);n.observe(e,{childList:true,subtree:true});return function(){return n.disconnect()}}var v;function m(e){if(e)window.open=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return v.apply(void 0,[e,t||"_self"].concat(r))};else window.open=v}var p=function e(){var t=Object(i["useState"])(false),n=a()(t,2),r=n[0],o=n[1];Object(i["useEffect"])((function(){v=window.open;o(Object(u["c"])())}),[]);Object(i["useEffect"])((function(){m(r);var e;if(r)e=d();else s("_blank");return function(){var t;null===(t=e)||void 0===t?void 0:t()}}),[r]);Object(i["useEffect"])((function(){var e;var t=Object(u["b"])();var n=function e(){o(Object(u["c"])())};null===t||void 0===t?void 0:null===(e=t.addEventListener)||void 0===e?void 0:e.call(t,"change",n);return function(){var e;null===t||void 0===t?void 0:null===(e=t.removeEventListener)||void 0===e?void 0:e.call(t,"change",n)}}),[]);return null};t["a"]=Object(c["b"])(p)},"6ebc429a21c1841afaf9":function(e,t,n){"use strict";var r=n("f4095745be08d782d539");var a=n.n(r);var i=n("fa2a44115ff2bd1a0d71");var o=n.n(i);var c=n("93d7a148460d9069f5a3");var u=n.n(c);n("9e6be75ee7afb3848733");n("f526af58c52f077918a8");n("c9d1f043bfad8a021bc0");n("bef1d30a2a9675ee619b");n("88a03d88077d349d0cf2");n("9ef6b3eb6bac8185986f");Object.assign=n("31a4c8eb333c5536aeaa");n("57a2c2c420fd9839b865");n("d6c3362aee547ac3fbfe");n("69fae06a61a30d882739");n("0a129e66068f7ee63185");if("undefined"===typeof Promise){n("0d4ee9ff5eecd3f6c263").enable();window.Promise=n("f231c94d51b6058e28c6")}},"7009f854fb449fc1b23d":function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=a.a.createContext(null);t["a"]=i},"70793f6623c7d80d47e6":function(e,t,n){},"733b0b7fc50b301159ca":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n.d(t,"c",(function(){return c}));n.d(t,"b",(function(){return u}));var r=n("167789bd516d2baf7295");var a=n("6cf195ddfada1b0033e1");function i(e){Object(a["a"])("web_page_enter",{page_name:e,is_ipad:r["d"]?1:0})}var o="log_refresh_type";function c(e){window.sessionStorage.setItem(o,e)}function u(){var e=window.location.pathname;var t=window.sessionStorage.getItem(e);if(t){var n=window.sessionStorage.getItem(o);if(n)window.sessionStorage.removeItem(o);Object(a["a"])("web_page_refresh",{action_type:n||"browser"})}else window.sessionStorage.setItem(e,"1")}},"75bf50962692f2e139c7":function(e,t,n){"use strict";var r=n("a3a1ced60541f1b5c9f6");var a=n.n(r);var i=n("69084d01d3449fc1bc27");var o=n.n(i);var c=n("7ecc01cf6c85b1ef1c34");var u=n("583766baffb257cbf38f");var l=n("62ea6c1add15eea97123");var f=n("698918b37c8f26bd36fc");var s=n("b400c18478ff55657723");var d=n.n(s);var v=n("2e0796c118320b51c6e6");var m=n.n(v);var p=n("174811872339f1d02c40");var b=n.n(p);function h(e){return null===e||void 0===e?void 0:e.clientWidth}var g=function e(t){var n=t.children,r=t.onMount;Object(i["useEffect"])((function(){r&&r()}),[]);return m.a.createPortal(n,document.body)};var _=function e(t){var n=t.visible,r=t.className,a=t.closeTimeout,c=void 0===a?200:a,u=t.children;var l=Object(i["useState"])(n),f=d()(l,2),s=f[0],v=f[1];var m=Object(i["useRef"])(null);function p(){if(m.current){m.current.classList.add("modal-show");m.current.classList.remove("modal-hide");h(m.current);m.current.classList.add("modal-anime-show");m.current.classList.remove("modal-anime-hide")}}function _(){if(m.current){m.current.classList.add("modal-anime-hide");m.current.classList.remove("modal-anime-show")}setTimeout((function(){var e,t;null===(e=m.current)||void 0===e?void 0:e.classList.add("modal-hide");null===(t=m.current)||void 0===t?void 0:t.classList.remove("modal-show")}),c)}Object(i["useEffect"])((function(){if(n){v(true);if(m.current)p()}else _()}),[n]);if(s)return o.a.createElement(g,{onMount:p},o.a.createElement("div",{className:b()("tt-modal-wrapper",r),ref:m},u));return null};var y=_;var w=".first-focus-el";var k=".initial-focus-el";var E=function e(t){var n=t.className,r=t.title,a=t.visible,c=t.maskClosable,f=void 0===c?true:c,s=t.onClose,d=t.onOk,v=t.children,m=t.footer;var p=Object(i["useRef"])({});var b=Object(i["useRef"])(null);var h=Object(i["useRef"])(null);var g=Object(i["useRef"])(null);var _=Object(i["useRef"])(null);function E(){s()}function j(){d&&d()}function O(){if(f)E()}function x(){h.current=document.activeElement;setTimeout((function(){if(!b.current)return;g.current=b.current.querySelector(w);if(!g.current)g.current=b.current.querySelector(".tt-modal-close-btn");var e=b.current.querySelector(k);if(e){var t;null===(t=e.focus)||void 0===t?void 0:t.call(e)}else{var n;null===(n=g.current)||void 0===n?void 0:n.focus()}}))}function C(){var e;null===(e=h.current)||void 0===e?void 0:e.focus()}var I=Object(i["useCallback"])((function(e){if(27===e.keyCode)E()}),[]);var S=Object(i["useCallback"])((function(e){var t;var n=e.target;if(!b.current||!n)return;if(null===(t=n.dataset)||void 0===t?void 0:t.focusTrapDisable)return;try{if(n===_.current||!(16&b.current.compareDocumentPosition(n))){var r;null===(r=g.current)||void 0===r?void 0:r.focus()}}catch(a){void 0}}),[]);Object(i["useEffect"])((function(){if(a){if(document.body.clientHeight>window.innerHeight){var e=Object(u["a"])();p.current=Object(l["a"])({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body)}window.addEventListener("keydown",I);window.addEventListener("focus",S,true);x()}else{Object(l["a"])(p.current,document.body);window.removeEventListener("keydown",I);window.removeEventListener("focus",S,true);C()}return function(){window.removeEventListener("keydown",I);window.removeEventListener("focus",S,true)}}),[a,I,S]);return o.a.createElement(y,{visible:a,className:n},o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"modal-mask",onClick:O}),o.a.createElement("div",{role:"dialog","aria-modal":true,"aria-label":r,className:"tt-modal",ref:b},o.a.createElement("div",{className:"tt-modal-header"},o.a.createElement("span",{className:"tt-modal-title"},r),o.a.createElement("button",{type:"button","aria-label":"\u5173\u95ed\u5f39\u7a97",className:"tt-modal-close-btn",onClick:E},o.a.createElement("i",{className:"bui-icon icon-close-big"}))),o.a.createElement("div",{className:"tt-modal-body"},v),o.a.createElement("div",{className:"tt-modal-footer"},m?m:o.a.createElement("div",{className:"tt-modal-footer-btn"},o.a.createElement("button",{type:"button",className:"btn-cancel",onClick:E},"\u53d6\u6d88"),o.a.createElement("button",{type:"button",className:"btn-ok",onClick:j},"\u786e\u8ba4"))),o.a.createElement("div",{tabIndex:0,ref:_}))))};var j=t["a"]=function(e){return o.a.createElement(c["a"],null,o.a.createElement(E,a()({},e)))}},"7801182153876d8ab215":function(e,t,n){},"78e411ccf7a9a0caceb3":function(e,t,n){"use strict";n.d(t,"b",(function(){return h}));var r=n("b400c18478ff55657723");var a=n.n(r);var i=n("69084d01d3449fc1bc27");var o=n.n(i);var c=n("174811872339f1d02c40");var u=n.n(c);var l=n("60ea5d854a4999bbf092");var f=n.n(l);var s=n("2422758950d9f66b7423");var d=n("fb622297466e7a637f99");var v=n("546ca7f10f62589ab9f4");var m=n("d4449abe3d2ba6591a15");var p=n("53955f9dab771af04369");var b=n("41e81a6b6b2e87160a0d");function h(e){var t,n,r;return{impr_id:null===(t=e.log_pb)||void 0===t?void 0:t.impr_id,impr_type:Object(d["k"])(e),group_type:Object(d["j"])(null===(n=e.coverUrls||e.cover)||void 0===n?void 0:n.length),category_name:Object(d["h"])(e),enter_from:Object(d["i"])(e),channel_id:e.__channel_id,section:e.__log_section||"feed",is_following:(null===(r=e.user_info)||void 0===r?void 0:r.follow)?"1":"0",is_top_content:"0",show_rank:e.__log_show_rank}}var g=function e(t){var n;var r=t.data,c=t.logParams,l=t.onDislike,f=t.onClickToDetail,d=t.onDislikeClick,g=t.onShare,_=t.onLikeChange,y=t.onShareAction,w=t.onWttSubmit;var k=Object(i["useState"])(false),E=a()(k,2),j=E[0],O=E[1];var x=h(r);function C(){O(true);f()}return o.a.createElement(b["a"],{cell:r},o.a.createElement("div",null,o.a.createElement(p["a"],{className:u()("feed-card-article-follow",{visited:j}),data:r,logInfo:x,logParams:c,onDislike:l,onClickToDetail:C,onDislikeClick:d,media:o.a.createElement(m["a"],{userInfo:r.userInfo,source:r.source,sourceAvatar:r.sourceAvatar,timestamp:r.timestamp,logInfo:c}),leftTools:[o.a.createElement(v["e"],{key:"share",data:r,wttRepostParams:{fw_id_type:4,opt_id_type:4,repost_type:211,fw_user_id:(null===(n=r.mediaInfo)||void 0===n?void 0:n.userId)||""},onSuccess:g,onShareAction:y,onWttSubmit:w}),o.a.createElement(v["b"],{key:"comment",styleType:"2",commentCount:r.commentCount,articleUrl:r.articleUrl,logInfo:x,onClickToDetail:C}),o.a.createElement(v["d"],{key:"like",groupId:r.groupId,likeCount:r.likeCount,isLiked:!!r.userDigg,diggType:s["c"].ARTICLE,onLikeChange:_})]})))};t["a"]=g},"7aa18cb6b611f6d9cc88":function(e,t,n){},"7c04e1c6a9d8a4a067f5":function(e,t,n){},"7c4288154d94f45c1e67":function(e,t,n){},"7ca4db6440f85a7a6df5":function(e,t,n){},"7d92094057582d9db023":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("174811872339f1d02c40");var o=n.n(i);var c=n("302e7cd491a3c75c7a06");var u=n.n(c);var l={NETWORK_ERR:"\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5",SERVICE_ERR:"\u52a0\u8f7d\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5"};var f=function e(t){var n=t.count,r=t.errorTips,i=t.successTips;return a.a.createElement("div",{className:o()("feed-m-top-refresh",{"fade-out":n>=0||r})},a.a.createElement("div",{className:o()("refresh-loading",{show:n<0&&!r&&!i})},a.a.createElement("i",null)),a.a.createElement("p",{className:o()("refresh-increase-count",{show:n>=0||r||i,error:r})},r||i||"\u4eca\u65e5\u5934\u6761\u63a8\u8350\u5f15\u64ce\u6709 ".concat(n," \u6761\u66f4\u65b0")))};t["b"]=f},"7e3762687fac88650839":function(e,t,n){},"7f9308912c4b86f89747":function(e,t,n){"use strict";var r=n("93d7a148460d9069f5a3");var a=n("69084d01d3449fc1bc27");var i=n.n(a);var o=n("2e0796c118320b51c6e6");var c=n.n(o);var u=n("4fa4ba9dede71d4f591e");var l=n("a2b92cfef2eaa695ad2f");var f=n("f9c528707353f5b6df95");var s=n("fa2a44115ff2bd1a0d71");var d=n("0193be145c15b0751246");var v=n("174811872339f1d02c40");var m=n.n(v);var p=n("c0148195f357fac179f5");function b(e){"@babel/helpers - typeof";if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator)b=function e(t){return typeof t};else b=function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return b(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function _(e,t,n){if(t)g(e.prototype,t);if(n)g(e,n);return e}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return w(e,t)}function k(e){var t=O();return function n(){var r=x(e),a;if(t){var i=x(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return E(this,a)}}function E(e,t){if(t&&("object"===b(t)||"function"===typeof t))return t;return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function x(e){x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return x(e)}var C=function(e){y(n,e);var t=k(n);function n(){var e;h(this,n);e=t.apply(this,arguments);e.state={fade:false};e.toastEl=null;return e}_(n,[{key:"componentDidMount",value:function e(){var t=this;var n;var r=document.activeElement;null===(n=this.toastEl)||void 0===n?void 0:n.focus();this.timer=setTimeout((function(){var e;t.setState({fade:true});null===(e=r)||void 0===e?void 0:e.focus()}),2e3)}},{key:"componentWillUnmount",value:function e(){clearTimeout(this.timer)}},{key:"render",value:function e(){var t=this;var n=this.state.fade;var r=this.props.msg;return i.a.createElement("div",{role:"alert",tabIndex:0,"aria-label":r,ref:function e(n){t.toastEl=n},className:m()("ttp-toast",{fade:n})},r)}}]);return n}(i.a.PureComponent);function I(e){var t=document.createElement("div");document.body.appendChild(t);function n(e){c.a.render(i.a.createElement(C,Object.assign({},e)),t)}function r(){var e=c.a.unmountComponentAtNode(t);if(e&&t.parentNode)t.parentNode.removeChild(t)}n(Object.assign({},e));setTimeout((function(){return r()}),3e3)}C.info=function(e){return I({msg:e})};var S=t["a"]=C},"7ff40e675dfee032084a":function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("174811872339f1d02c40");var o=n.n(i);var c=n("9551a6727f53aa482a36");var u=n.n(c);var l=n("2422758950d9f66b7423");var f=n("be6323750fae7868d676");var s=n("ed0e645fb10944a4fb8f");var d=n("78e411ccf7a9a0caceb3");var v=n("41e81a6b6b2e87160a0d");var m=n("5616f33a71e39794ee3e");var p=n("546ca7f10f62589ab9f4");var b=n("3913995df42cd6165f91");var h=n("38c58096afa111fcdfd2");var g=function e(t){var n;var r=t.data,i=t.className,c=t.logParams,u=t.media,g=t.footer,_=t.leftTools,y=t.onDislike,w=t.onClickToDetail,k=t.onDislikeClick;var E=Object(s["h"])(null===(n=r.__channel_info)||void 0===n?void 0:n.key,r.tabKey);var j=E?Object(f["s"])(r.detailUrl,{from_scene:E}):r.detailUrl;var O=t.logInfo||Object(d["b"])(r);function x(e){y({dislikeType:e})}return a.a.createElement(v["a"],{cell:r},a.a.createElement("div",{className:o()("feed-card-video-single",i)},a.a.createElement("div",{className:"r-content"},a.a.createElement("div",{className:"feed-video-item"},a.a.createElement(b["a"],{data:{cover:r.cover,duration:r.duration,videoId:r.videoId},disableVideo:true,detailUrl:j,logInfo:O,onClickToDetail:w}))),a.a.createElement("div",{className:"l-content"},u,a.a.createElement(h["a"],{className:"title",href:r.detailUrl,target:"_blank",rel:"noopener nofollow",jumpQuery:E?{from_scene:E}:void 0,logInfo:O,onClick:w},r.title),a.a.createElement("div",{className:"footer"},g||a.a.createElement(m["a"],{leftTools:_||[a.a.createElement(p["a"],{key:"author",userInfo:r.userInfo,source:r.source,logInfo:c}),a.a.createElement(p["b"],{key:"comment",commentCount:r.commentCount,articleUrl:r.detailUrl,inside:false,jumpQuery:E?{from_scene:E}:void 0,logInfo:O,onClickToDetail:w}),a.a.createElement(p["g"],{key:"time",timestamp:r.timestamp})],rightTools:[a.a.createElement(p["c"],{key:"dislike",data:{groupId:r.groupId,itemId:r.itemId,filterWords:r.filterWords,source:l["g"].VIDEO},onDislike:x,onDislikeClick:k})]})))))};t["a"]=g},"80163d0657a0dbb02e68":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));n.d(t,"c",(function(){return a}));n.d(t,"a",(function(){return i}));var r="undefined"!==typeof window;var a=r&&(/localhost/.test(location.origin)||/dev.eden.net/.test(location.origin));var i=r&&/boe-gateway.byted.org/.test(location.host)},"83a311389b32f14cef31":function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("174811872339f1d02c40");var o=n.n(i);var c=n("4d42c6b0aecacf3b7489");var u=n.n(c);var l=function e(t){var n=t.url||"https://wj.toutiao.com/q/127962/n05C39LD/e1eb/#/";return a.a.createElement("a",{className:o()("user-research",{"size-mini":"mini"===t.size}),"aria-label":"\u4eca\u65e5\u5934\u6761\u6709\u5956\u8c03\u7814",target:"_blank",href:n,rel:"noreferrer noopener nofollow"})};t["a"]=l},"8400655226bf61906365":function(e,t,n){"use strict";var r=n("a3a1ced60541f1b5c9f6");var a=n.n(r);var i=n("0d95bde6a93458823cd2");var o=n.n(i);var c=n("69084d01d3449fc1bc27");var u=n.n(c);var l=n("36091a6286193bdd62ec");var f=function e(t){var n=t.className,r=t.href,i=t.title,c=t.children,f=t.logInfo,s=t.onClick,d=o()(t,["className","href","title","children","logInfo","onClick"]);function v(e){var t;e.preventDefault();e.stopPropagation();null===s||void 0===s?void 0:s();var n=Object(l["b"])(r,{position:f.position,enter_from:(null===(t=Object(l["a"])())||void 0===t?void 0:t.enter_from)||"",section:f.section});window.open(n)}return u.a.createElement("a",a()({},d,{className:n,title:i,href:r,target:"_blank",rel:"noopener nofollow",onClick:v}),c)};t["a"]=f},"85bedbb2b0d842c78b07":function(e,t,n){},"86458b0d0c4daedfcb4f":function(e,t,n){"use strict";var r=n("4367ed43a6bb5319d01d");var a=n.n(r);var i=n("ac1c7ccad675d280253b");var o=n.n(i);var c=n("b400c18478ff55657723");var u=n.n(c);var l=n("69084d01d3449fc1bc27");var f=n.n(l);var s=n("174811872339f1d02c40");var d=n.n(s);var v=n("4fc4ab1a10c05441b62b");var m=n("9d35318f143127ea9561");var p=n.n(m);var b=n("663529bce6ee6d8996f5");var h=n("be6323750fae7868d676");var g=n("6cf195ddfada1b0033e1");var _=n("75bf50962692f2e139c7");var y=n("d84b833f284337beaf9b");var w=[{id:"302",value:"\u5e7f\u544a"},{id:"303",value:"\u91cd\u590d\u3001\u65e7\u95fb"},{id:"3",value:"\u683c\u5f0f\u95ee\u9898"},{id:"304",value:"\u4f4e\u4fd7"},{id:"316",value:"\u6807\u9898\u5938\u5f20"},{id:"301",value:"\u4e0e\u4e8b\u5b9e\u4e0d\u7b26"},{id:"388",value:"\u7f51\u7edc\u66b4\u529b"},{id:"387",value:"\u517b\u8001\u8bc8\u9a97"}];var k="https://mp.toutiao.com/profile_v3_public/public/apply-complain";var E=function e(t){var n=t.groupId,r=t.source,i=t.from,c=t.webid,s=t.tabIndex,m=t.onModalOpen,p=t.onModalClose;var E=Object(l["useState"])(false),j=u()(E,2),O=j[0],x=j[1];var C=Object(l["useState"])(false),I=u()(C,2),S=I[0],T=I[1];var N=Object(l["useState"])([]),L=u()(N,2),R=L[0],A=L[1];var D=Object(l["useState"])(""),P=u()(D,2),U=P[0],M=P[1];function F(){x(true);null===m||void 0===m?void 0:m()}function V(){x(false);null===p||void 0===p?void 0:p()}function H(e){A([e.target.value])}var B=Object(h["u"])((function(e){M(e.target.value)}),300);function W(e,t){e.preventDefault();var n="https://mp.toutiao.com/profile_v3_public/public/apply-complain"+"?type=".concat(t,"&origin_url=").concat(encodeURIComponent(window.location.href));window.open(n)}function z(){return q.apply(this,arguments)}function q(){q=o()(a.a.mark((function e(){var t,o;return a.a.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:Object(g["a"])("report_article");a.prev=1;t=S?["315"]:R;if(!(!t||!t.length)){a.next=5;break}return a.abrupt("return");case 5:a.next=7;return b["a"].user.feedbackContent(n,U,t.join(","),r,c,i);case 7:o=a.sent;if(!("success"===o.data.message)){a.next=12;break}x(false);setTimeout((function(){y["a"].info("\u53cd\u9988\u6210\u529f")}),0);return a.abrupt("return");case 12:throw new Error(o.data.message);case 15:a.prev=15;a.t0=a["catch"](1);y["a"].info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");void 0;case 19:case"end":return a.stop()}}),e,null,[[1,15]])})));return q.apply(this,arguments)}function G(){T(!S);A([])}function Q(e){var t=e.keyCode;if(32===t||13===t){e.preventDefault();F()}}function K(e){A([e])}return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{tabIndex:s||0,role:"button","aria-label":"\u4e3e\u62a5",className:"detail-report",onClick:F,onKeyDown:Q},f.a.createElement("i",null),f.a.createElement("span",null,"\u4e3e\u62a5")),f.a.createElement(_["a"],{title:"\u4e3e\u62a5\u6587\u7ae0\u95ee\u9898",visible:O,onClose:V,onOk:z},f.a.createElement("div",{className:"report-modal-content"},f.a.createElement(v["a"],{"aria-label":"\u9009\u62e9\u539f\u56e0",options:w.map((function(e){return e.id})),value:R[0],onChange:K},f.a.createElement("div",null,w.map((function(e,t){return f.a.createElement(v["a"].RadioButton,{key:e.id,index:t,option:e.id},f.a.createElement("div",{className:"option"},f.a.createElement("label",{htmlFor:"reportType-".concat(e.id)},e.value),f.a.createElement("input",{"aria-hidden":true,tabIndex:-1,type:"radio",id:"reportType-".concat(e.id),name:"reportType",value:e.id,checked:R[0]===e.id,onChange:H})))})))),f.a.createElement("div",{className:"option"},f.a.createElement("a",{className:"link-btn",href:k,rel:"nofollow",onClick:function e(t){return W(t,"2")}},"\u6284\u88ad")),f.a.createElement("div",{className:"option"},f.a.createElement("a",{className:"link-btn",href:k,rel:"nofollow",onClick:function e(t){return W(t,"3")}},"\u4fb5\u72af\u540d\u8a89/\u5546\u8a89/\u8096\u50cf/\u9690\u79c1\u6743")),f.a.createElement("div",{className:d()("option other-reason",{open:S})},f.a.createElement("button",{type:"button",onClick:G},"\u5176\u4ed6\u95ee\u9898\uff0c\u6211\u8981\u5410\u69fd",f.a.createElement("i",null)),f.a.createElement("textarea",{onChange:B})))))};t["a"]=E},"892f788fdb5a8ff13b0d":function(e,t,n){},"89b38c63c8b1758f68ac":function(e,t,n){},"89fc23cc70b02aad75a9":function(e,t,n){},"8ab6ea49a6f2b512915c":function(e,t,n){},"8b900033d90a865fc913":function(e,t,n){"use strict";var r=n("d2cc329ce222e2406492");var a=n("352fe4c99a6fff2f363c");var i=n("056606c89293aa5bef85");var o=n("f9c528707353f5b6df95");var c=n("fa2a44115ff2bd1a0d71");var u=n("514e048378a284fc2dcd");var l=n("4fa4ba9dede71d4f591e");var f=n("a2b92cfef2eaa695ad2f");var s=n("69084d01d3449fc1bc27");var d=n.n(s);var v=n("174811872339f1d02c40");var m=n.n(v);var p=n("e485e9e29daf75cab9e8");var b=n("98ad94a9d064c7351e07");var h=[{text:"\u5199\u6587\u7ae0",url:"https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc",position:"text"},{text:"\u53d1\u5fae\u5934\u6761",url:"https://mp.toutiao.com/profile_v4/weitoutiao/publish?from=toutiao_pc",position:"wtt"},{text:"\u5199\u56de\u7b54",url:"https://mp.toutiao.com/profile_v4/wenda/home/recommended?from=toutiao_pc",position:"qa"},{text:"\u53d1\u89c6\u9891",url:"https://mp.toutiao.com/profile_v4/xigua/upload-video?from=toutiao_pc",position:"video"}];var g=n("d5c06b6cf3948fb34e9d");var _=n("b4d0aca2d3771c85657d");function y(e,t){return O(e)||j(e,t)||k(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}function E(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function O(e){if(Array.isArray(e))return e}var x=function e(t){var n=t.isLogin,r=t.logParams,a=t.theme;var i=Object(s["useState"])(false),o=y(i,2),c=o[0],u=o[1];var l=Object(s["useRef"])(false);function f(){Object(b["a"])("top_bar_click",{icon_type:"publish",action_type:"click",section:r.section});window.open("https://mp.toutiao.com/profile_v4/graphic/publish?from=toutiao_pc")}function v(e,t){t.stopPropagation();Object(b["a"])("publish_icon_click",{publish_type:e.position,position:r.page_type,section:r.section});window.open(e.url)}function p(){if(!n)return;u(true);Object(b["a"])("top_bar_card_expo",{page_type:r.page_type,card_name:"publish"});if(l.current)return;Object(b["a"])("top_bar_click",{icon_type:"publish",action_type:"expand",section:r.section});l.current=true}function w(){u(false);l.current=false}function k(e,t){var n=e.keyCode;if(32===n||13===n){e.preventDefault();v(t,e)}}function E(e){if(!n)return;var t=e.keyCode;if(32===t||13===t){e.preventDefault();f()}}return d.a.createElement(g["a"],{onOpen:p,onClose:w},d.a.createElement(g["a"].MenuButton,{onKeyDown:E},d.a.createElement("div",{"aria-label":"\u53d1\u5e03\u4f5c\u54c1",className:m()("ttp-header-publisher",{dark:"dark"===a,black:"black"===a}),onClick:f},d.a.createElement("a",{className:"publisher-icon",rel:"nofollow"},"\u53d1\u4f5c\u54c1"),n&&d.a.createElement(_["a"],{visible:c,transformOrigin:"24px top"},d.a.createElement("div",{className:"publish-list"},d.a.createElement(g["a"].MenuList,null,d.a.createElement("div",null,h.map((function(e){return d.a.createElement(g["a"].MenuItem,{key:e.text,onKeyDown:function t(n){return k(n,e)}},d.a.createElement("a",{onClick:function t(n){return v(e,n)}},e.text))})))))))))};var C=t["a"]=x},"8da0d466807af5fb475a":function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=a.a.createContext(null);t["a"]=i},"8f733a24568c21239759":function(e,t,n){},"91ccd34fe1d322fa1c32":function(e,t,n){"use strict";n.d(t,"c",(function(){return M}));n.d(t,"b",(function(){return F}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);var h=n("69084d01d3449fc1bc27");var g=n.n(h);var _=n("f916861225cf3448ecd3");var y=n("fb622297466e7a637f99");var w=n("be6323750fae7868d676");var k=n("10130cfc2ba27a09b7e5");var E=n("ed0e645fb10944a4fb8f");var j=n("7009f854fb449fc1b23d");var O=n("acff6c447f863638e55f");var x=n("55545edfe9557f8e9717");var C=n("7ff40e675dfee032084a");var I=n("8ab6ea49a6f2b512915c");var S=n("2422758950d9f66b7423");var T=n("1114286b3a839994fd62");var N=n("78e411ccf7a9a0caceb3");var L=n("546ca7f10f62589ab9f4");var R=n("d4449abe3d2ba6591a15");var A=function e(t){var n=t.data,r=t.logParams,a=t.onDislike,i=t.onDislikeClick,o=t.onShare,c=t.onLikeChange,u=t.onShareAction,l=t.onWttSubmit;var f=Object(N["b"])(n);function s(){var e;Object(T["e"])();null===(e=t.onClickToDetail)||void 0===e?void 0:e.call(t)}return g.a.createElement(C["a"],{className:"feed-card-video-follow",data:n,logParams:r,logInfo:f,onDislike:a,onClickToDetail:s,onDislikeClick:i,media:g.a.createElement(R["a"],{userInfo:n.userInfo,timestamp:n.timestamp,logInfo:r}),leftTools:[g.a.createElement(L["e"],{key:"share",data:n,wttRepostParams:{fw_id_type:4,opt_id_type:4,repost_type:211},onSuccess:o,onShareAction:u,onWttSubmit:l}),g.a.createElement(L["b"],{key:"comment",styleType:"2",commentCount:n.commentCount,articleUrl:n.detailUrl,jumpQuery:{from_scene:"follow"},logInfo:f,onClickToDetail:s}),g.a.createElement(L["d"],{key:"like",groupId:n.groupId,likeCount:n.likeCount,isLiked:n.userDigg,diggType:S["c"].VIDEO,onLikeChange:c})]})};var D=A;function P(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)P(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else P(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function M(e){var t,n;var r=(null===(t=e.large_image_list)||void 0===t?void 0:t[0])||e.middle_image||(null===(n=e.video_detail_info)||void 0===n?void 0:n.detail_video_large_image);if(!r||!r.url)return"";return r.url.replace(/^http:/,"")}function F(e){var t=Object(w["e"])(e,1);return+t}function V(e){if(0===e.cell_type)return[e];return(e.data||[]).slice(0,2)}function H(e,t){var n,r;if(null===(n=t.log_pb)||void 0===n?void 0:n.impr_id)return t.log_pb;return U(U({},t.log_pb),{},{impr_id:null===(r=e.log_pb)||void 0===r?void 0:r.impr_id})}var B=function e(t){var n=t.cell,r=t.logParams,a=t.onDislike,i=t.onItemClick,o=t.onLikeChange;var c=Object(h["useContext"])(j["a"]);var u=Object(h["useRef"])(false);var l=Object(h["useRef"])(false);var f=Object(h["useRef"])(0);var s=V(n).map((function(e){var t;return{title:e.title,cover:M(e),duration:e.video_duration,videoId:e.video_id,groupId:e.group_id,itemId:e.item_id,detailUrl:Object(O["b"])(O["a"].SELF_VIDEO,e.group_id),userInfo:Object(E["k"])(e),source:e.source,commentCount:e.comment_count,userDigg:n.user_digg,likeCount:n.digg_count,timestamp:e.publish_time,filterWords:null===(t=e.filter_words)||void 0===t?void 0:t.filter_words,log_pb:H(n,e),group_id:e.group_id,group_source:e.group_source,cell_type:n.cell_type,__channel_id:n.__channel_id,__channel_info:n.__channel_info,__type:n.__type,__log_enter_from:n.__log_enter_from,__log_impr_type:n.__log_impr_type,__log_category_name:n.__log_category_name,__log_show_rank:n.__log_show_rank,__log_section:n.__log_section}}));var d={position:r.position,article_type:"video"};var v=s.length;function m(e){var t;var r=e.groupId,i=void 0===r?"":r,o=e.allDislike,c=void 0===o?1===v:o,u=e.dislikeType,l=void 0===u?"":u;if(c)a(U(U({},n),{},{dislikeType:l}));else{var f=document.activeElement;var m=Object(w["m"])(document.querySelector(".ttp-feed-module"));Object(w["f"])(f,m)}var p=s.filter((function(e){return e.group_id===i}))[0]||s[0];Object(y["m"])(p,U(U({},d),{},{is_following:(null===(t=p.userInfo)||void 0===t?void 0:t.follow)?"1":"0",dislike_type:l,content_type:"single"}))}function p(e){var t;null===i||void 0===i?void 0:i();var a=s.filter((function(t){return t.group_id===e}))[0];Object(y["c"])(U(U({area:n.__log_area||("all"===(null===(t=n.__channel_info)||void 0===t?void 0:t.key)?"feed":"category"),gid:e,href:a.detailUrl},r),{},{enter_from:Object(y["i"])(n),category_name:Object(y["h"])(n),is_top_content:n.is_stick?"1":"0",section:"list"===r.position?"feed":"detail_feed",group_source:a.group_source,article_type:"video",group_id:a.group_id,show_rank:n.__log_show_rank}))}function b(){var e;var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var n=s.filter((function(e){return e.group_id===t}))[0]||s[0];Object(y["f"])(n,{is_following:(null===(e=n.userInfo)||void 0===e?void 0:e.follow)?"1":"0",article_type:"video",position:r.position})}function _(e){o(n,e);if(1===e)Object(y["o"])(n,c,d);else Object(y["r"])(n,c,d)}function I(e){Object(y["p"])(n,c,U(U({},d),{},{share_platform:e}))}function S(e){Object(y["s"])(n,U(U({},d),{},{action_type:e}))}function T(){Object(y["x"])(n,d)}function N(e){if(u.current)return;null===i||void 0===i?void 0:i();var t=s.filter((function(t){return t.group_id===e}))[0];Object(y["w"])(t,{});u.current=true}function L(e,t){if(l.current)return;var n=0;var r=0;var a=0;var i=0;try{n=((null===t||void 0===t?void 0:t.played)||[]).reduce((function(e,t){if(t.end<0)return e;return e+(t.end-t.begin)}),0);r=n-f.current;a=F(r/t.vd*100);i=F(f.current/t.vd*100)}catch(c){void 0}var o=s.filter((function(t){return t.group_id===e}))[0];Object(y["v"])(o,{duration:~~(1e3*r),percent:a,from_percent:i});l.current=true;f.current=n}function R(e,t){L(e,t);u.current=false;l.current=false}function A(){null===i||void 0===i?void 0:i();u.current=false;l.current=false;f.current=0}if(!v)return null;var P=s[0].__channel_id===k["a"].get().follow.channelId?D:C["a"];return g.a.createElement("div",{className:"feed-card-wrapper feed-card-video-wrapper"},v>1?g.a.createElement(x["b"],{data:s,logParams:r,onClickToDetail:p,onPlay:N,onEnded:L,onHalfEnded:R,onReplay:A,onDislike:m,onDislikeClick:b}):g.a.createElement(P,{data:s[0],logParams:r,onDislike:m,onClickToDetail:function e(){return p(s[0].groupId)},onDislikeClick:b,onLikeChange:_,onShare:I,onShareAction:S,onWttSubmit:T}))};var W=t["a"]=B},"93fd3eb7060d3a0ca436":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("195c70dfe6078b3eff76");var a=n.n(r);var i=n("3d8889a552707f079987");var o=n.n(i);var c={"[\u5fae\u7b11]":{index:1,name:"[\u5fae\u7b11]",image:"emoji_1_smile@3x.png",key:"emoji_1_smile@3x.png",width:96,height:96},"[\u7231\u6155]":{index:2,name:"[\u7231\u6155]",image:"emoji_2_kiss@3x.png",key:"emoji_2_kiss@3x.png",width:96,height:96},"[\u60ca\u5446]":{index:3,name:"[\u60ca\u5446]",image:"emoji_3_daze@3x.png",key:"emoji_3_daze@3x.png",width:96,height:96},"[\u9177\u62fd]":{index:4,name:"[\u9177\u62fd]",image:"emoji_4_cool@3x.png",key:"emoji_4_cool@3x.png",width:96,height:96},"[\u62a0\u9f3b]":{index:5,name:"[\u62a0\u9f3b]",image:"emoji_5_pick_nose@3x.png",key:"emoji_5_pick_nose@3x.png",width:96,height:96},"[\u6d41\u6cea]":{index:6,name:"[\u6d41\u6cea]",image:"emoji_6_cry@3x.png",key:"emoji_6_cry@3x.png",width:96,height:96},"[\u53d1\u6012]":{index:7,name:"[\u53d1\u6012]",image:"emoji_7_anger@3x.png",key:"emoji_7_anger@3x.png",width:96,height:96},"[\u5472\u7259]":{index:8,name:"[\u5472\u7259]",image:"emoji_8_laugh@3x.png",key:"emoji_8_laugh@3x.png",width:96,height:96},"[\u9f3e\u7761]":{index:9,name:"[\u9f3e\u7761]",image:"emoji_9_sleep@3x.png",key:"emoji_9_sleep@3x.png",width:96,height:96},"[\u5bb3\u7f9e]":{index:10,name:"[\u5bb3\u7f9e]",image:"emoji_10_shy@3x.png",key:"emoji_10_shy@3x.png",width:96,height:96},"[\u53ef\u7231]":{index:11,name:"[\u53ef\u7231]",image:"emoji_11_naughty@3x.png",key:"emoji_11_naughty@3x.png",width:102,height:96},"[\u6655]":{index:12,name:"[\u6655]",image:"emoji_12_dizzy@3x.png",key:"emoji_12_dizzy@3x.png",width:96,height:96},"[\u8870]":{index:13,name:"[\u8870]",image:"emoji_13_stunned@3x.png",key:"emoji_13_stunned@3x.png",width:96,height:96},"[\u95ed\u5634]":{index:14,name:"[\u95ed\u5634]",image:"emoji_14_shut_up@3x.png",key:"emoji_14_shut_up@3x.png",width:96,height:96},"[\u673a\u667a]":{index:15,name:"[\u673a\u667a]",image:"emoji_15_wit@3x.png",key:"emoji_15_wit@3x.png",width:96,height:96},"[\u7075\u5149\u4e00\u95ea]":{index:17,name:"[\u7075\u5149\u4e00\u95ea]",image:"emoji_17_hand_sample@3x.png",key:"emoji_17_hand_sample@3x.png",width:102,height:96},"[\u8036]":{index:18,name:"[\u8036]",image:"emoji_18_ye@3x.png",key:"emoji_18_ye@3x.png",width:99,height:96},"[\u6342\u8138]":{index:19,name:"[\u6342\u8138]",image:"emoji_19_distress_situation@3x.png",key:"emoji_19_distress_situation@3x.png",width:96,height:96},"[\u6253\u8138]":{index:20,name:"[\u6253\u8138]",image:"emoji_20_play_face@3x.png",key:"emoji_20_play_face@3x.png",width:102,height:96},"[\u5927\u7b11]":{index:21,name:"[\u5927\u7b11]",image:"emoji_21_smile@3x.png",key:"emoji_21_smile@3x.png",width:96,height:96},"[\u54c8\u6b20]":{index:22,name:"[\u54c8\u6b20]",image:"emoji_22_yawn@3x.png",key:"emoji_22_yawn@3x.png",width:96,height:96},"[\u9707\u60ca]":{index:23,name:"[\u9707\u60ca]",image:"emoji_23_surprise@3x.png",key:"emoji_23_surprise@3x.png",width:96,height:96},"[\u9001\u5fc3]":{index:24,name:"[\u9001\u5fc3]",image:"emoji_24_take_heart@3x.png",key:"emoji_24_take_heart@3x.png",width:96,height:96},"[\u56f0]":{index:25,name:"[\u56f0]",image:"emoji_25_sleepy@3x.png",key:"emoji_25_sleepy@3x.png",width:96,height:96},"[what]":{index:26,name:"[what]",image:"emoji_26_what@3x.png",key:"emoji_26_what@3x.png",width:105,height:96},"[\u6ce3\u4e0d\u6210\u58f0]":{index:27,name:"[\u6ce3\u4e0d\u6210\u58f0]",image:"emoji_27_sobbing@3x.png",key:"emoji_27_sobbing@3x.png",width:96,height:96},"[\u5c0f\u9f13\u638c]":{index:28,name:"[\u5c0f\u9f13\u638c]",image:"emoji_28_handclap@3x.png",key:"emoji_28_handclap@3x.png",width:96,height:96},"[\u9177]":{index:29,name:"[\u9177]",image:"emoji_29_cool@3x.png",key:"emoji_29_cool@3x.png",width:96,height:96},"[\u5927\u91d1\u7259]":{index:29,name:"[\u5927\u91d1\u7259]",image:"emoji_29_cool@3x.png",key:"emoji_29_cool@3x.png",width:96,height:96},"[\u5077\u7b11]":{index:30,name:"[\u5077\u7b11]",image:"emoji_30_titter@3x.png",key:"emoji_30_titter@3x.png",width:96,height:96},"[\u77f3\u5316]":{index:31,name:"[\u77f3\u5316]",image:"emoji_31_lightning_strike@3x.png",key:"emoji_31_lightning_strike@3x.png",width:96,height:96},"[\u601d\u8003]":{index:32,name:"[\u601d\u8003]",image:"emoji_32_meditation@3x.png",key:"emoji_32_meditation@3x.png",width:96,height:96},"[\u5410\u8840]":{index:33,name:"[\u5410\u8840]",image:"emoji_33_vomiting_blood@3x.png",key:"emoji_33_vomiting_blood@3x.png",width:96,height:96},"[\u53ef\u601c]":{index:34,name:"[\u53ef\u601c]",image:"emoji_34_acting_cute@3x.png",key:"emoji_34_acting_cute@3x.png",width:96,height:96},"[\u5618]":{index:35,name:"[\u5618]",image:"emoji_35_quietly@3x.png",key:"emoji_35_quietly@3x.png",width:96,height:96},"[\u6487\u5634]":{index:36,name:"[\u6487\u5634]",image:"emoji_36_hum@3x.png",key:"emoji_36_hum@3x.png",width:96,height:96},"[\u9ed1\u7ebf]":{index:37,name:"[\u9ed1\u7ebf]",image:"emoji_37_khan@3x.png",key:"emoji_37_khan@3x.png",width:96,height:96},"[\u7b11\u54ed]":{index:38,name:"[\u7b11\u54ed]",image:"emoji_38_forced_smile@3x.png",key:"emoji_38_forced_smile@3x.png",width:111,height:96},"[\u96fe\u973e]":{index:39,name:"[\u96fe\u973e]",image:"emoji_39_haze@3x.png",key:"emoji_39_haze@3x.png",width:96,height:96},"[\u5978\u7b11]":{index:40,name:"[\u5978\u7b11]",image:"emoji_40_smirk@3x.png",key:"emoji_40_smirk@3x.png",width:96,height:96},"[\u5f97\u610f]":{index:41,name:"[\u5f97\u610f]",image:"emoji_41_cool@3x.png",key:"emoji_41_cool@3x.png",width:96,height:96},"[\u61a8\u7b11]":{index:42,name:"[\u61a8\u7b11]",image:"emoji_42_bad_smile@3x.png",key:"emoji_42_bad_smile@3x.png",width:96,height:96},"[\u6293\u72c2]":{index:43,name:"[\u6293\u72c2]",image:"emoji_43_crazy@3x.png",key:"emoji_43_crazy@3x.png",width:96,height:96},"[\u6cea\u5954]":{index:44,name:"[\u6cea\u5954]",image:"emoji_44_tears@3x.png",key:"emoji_44_tears@3x.png",width:96,height:96},"[\u94b1]":{index:45,name:"[\u94b1]",image:"emoji_45_money@3x.png",key:"emoji_45_money@3x.png",width:96,height:96},"[\u543b]":{index:46,name:"[\u543b]",image:"emoji_46_kiss@3x.png",key:"emoji_46_kiss@3x.png",width:96,height:96},"[\u6050\u60e7]":{index:47,name:"[\u6050\u60e7]",image:"emoji_47_fear@3x.png",key:"emoji_47_fear@3x.png",width:96,height:96},"[\u7b11]":{index:48,name:"[\u7b11]",image:"emoji_48_smile@3x.png",key:"emoji_48_smile@3x.png",width:96,height:96},"[\u5feb\u54ed\u4e86]":{index:49,name:"[\u5feb\u54ed\u4e86]",image:"emoji_49_injustice@3x.png",key:"emoji_49_injustice@3x.png",width:96,height:96},"[\u7ffb\u767d\u773c]":{index:50,name:"[\u7ffb\u767d\u773c]",image:"emoji_50_their@3x.png",key:"emoji_50_their@3x.png",width:96,height:96},"[\u8d5e]":{index:52,name:"[\u8d5e]",image:"emoji_52_like@3x.png",key:"emoji_52_like@3x.png",width:96,height:96},"[\u9f13\u638c]":{index:53,name:"[\u9f13\u638c]",image:"emoji_53_handclap@3x.png",key:"emoji_53_handclap@3x.png",width:96,height:96},"[\u8c22\u8c22]":{index:54,name:"[\u8c22\u8c22]",image:"emoji_54_3Q@3x.png",key:"emoji_54_3Q@3x.png",width:96,height:96},"[\u7948\u7977]":{index:54,name:"[\u7948\u7977]",image:"emoji_54_3Q@3x.png",key:"emoji_54_3Q@3x.png",width:96,height:96},"[kiss]":{index:55,name:"[kiss]",image:"emoji_55_kiss@3x.png",key:"emoji_55_kiss@3x.png",width:96,height:96},"[\u53bb\u6c61\u7c89]":{index:56,name:"[\u53bb\u6c61\u7c89]",image:"emoji_56_household_cleanser@3x.png",key:"emoji_56_household_cleanser@3x.png",width:96,height:96},"[666]":{index:57,name:"[666]",image:"emoji_57_666@3x.png",key:"emoji_57_666@3x.png",width:96,height:96},"[\u73ab\u7470]":{index:58,name:"[\u73ab\u7470]",image:"emoji_58_rose@3x.png",key:"emoji_58_rose@3x.png",width:96,height:96},"[\u80e1\u74dc]":{index:59,name:"[\u80e1\u74dc]",image:"emoji_59_cucumber@3x.png",key:"emoji_59_cucumber@3x.png",width:96,height:96},"[\u5564\u9152]":{index:60,name:"[\u5564\u9152]",image:"emoji_60_beer@3x.png",key:"emoji_60_beer@3x.png",width:96,height:96},"[\u6211\u60f3\u9759\u9759]":{index:61,name:"[\u6211\u60f3\u9759\u9759]",image:"emoji_61_distress_situation@3x.png",key:"emoji_61_distress_situation@3x.png",width:105,height:96},"[\u59d4\u5c48]":{index:62,name:"[\u59d4\u5c48]",image:"emoji_62_injustice@3x.png",key:"emoji_62_injustice@3x.png",width:96,height:96},"[\u8214\u5c4f]":{index:63,name:"[\u8214\u5c4f]",image:"emoji_63_lick_screen@3x.png",key:"emoji_63_lick_screen@3x.png",width:96,height:96},"[\u9119\u89c6]":{index:64,name:"[\u9119\u89c6]",image:"emoji_64_despise@3x.png",key:"emoji_64_despise@3x.png",width:96,height:96},"[\u98de\u543b]":{index:65,name:"[\u98de\u543b]",image:"emoji_65_kiss@3x.png",key:"emoji_65_kiss@3x.png",width:96,height:96},"[\u518d\u89c1]":{index:66,name:"[\u518d\u89c1]",image:"emoji_66_bye@3x.png",key:"emoji_66_bye@3x.png",width:96,height:96},"[\u7d2b\u8587\u522b\u8d70]":{index:67,name:"[\u7d2b\u8587\u522b\u8d70]",image:"emoji_67_erkang@3x.png",key:"emoji_67_erkang@3x.png",width:108,height:96},"[\u6c42\u62b1\u62b1]":{index:68,name:"[\u6c42\u62b1\u62b1]",image:"emoji_68_hug@3x.png",key:"emoji_68_hug@3x.png",width:108,height:96},"[\u542c\u6b4c]":{index:69,name:"[\u542c\u6b4c]",image:"emoji_69_hitler@3x.png",key:"emoji_69_hitler@3x.png",width:96,height:96},"[\u5468\u51ac\u96e8\u7684\u51dd\u89c6]":{index:70,name:"[\u5468\u51ac\u96e8\u7684\u51dd\u89c6]",image:"emoji_70_zhoudongyu_gaze@3x.png",key:"emoji_70_zhoudongyu_gaze@3x.png",width:96,height:96},"[\u9a6c\u601d\u7eaf\u7684\u5fae\u7b11]":{index:71,name:"[\u9a6c\u601d\u7eaf\u7684\u5fae\u7b11]",image:"emoji_71_masichun_smile@3x.png",key:"emoji_71_masichun_smile@3x.png",width:96,height:96},"[\u5410\u820c]":{index:72,name:"[\u5410\u820c]",image:"emoji_72_dogo@3x.png",key:"emoji_72_dogo@3x.png",width:96,height:96},"[\u5446\u65e0\u8f9c]":{index:73,name:"[\u5446\u65e0\u8f9c]",image:"emoji_73_cat@3x.png",key:"emoji_73_cat@3x.png",width:96,height:96},"[\u770b]":{index:74,name:"[\u770b]",image:"emoji_74_2ha@3x.png",key:"emoji_74_2ha@3x.png",width:96,height:96},"[\u767d\u773c]":{index:75,name:"[\u767d\u773c]",image:"emoji_75_dogo@3x.png",key:"emoji_75_dogo@3x.png",width:96,height:96},"[\u718a\u5409]":{index:76,name:"[\u718a\u5409]",image:"emoji_76_bear@3x.png",key:"emoji_76_bear@3x.png",width:96,height:96},"[\u9ab7\u9ac5]":{index:77,name:"[\u9ab7\u9ac5]",image:"emoji_77_skeleton@3x.png",key:"emoji_77_skeleton@3x.png",width:96,height:96},"[\u9ed1\u8138]":{index:78,name:"[\u9ed1\u8138]",image:"emoji_78_black_face@3x.png",key:"emoji_78_black_face@3x.png",width:96,height:96},"[\u5403\u74dc\u7fa4\u4f17]":{index:79,name:"[\u5403\u74dc\u7fa4\u4f17]",image:"emoji_79_eat_melon@3x.png",key:"emoji_79_eat_melon@3x.png",width:96,height:96},"[\u7eff\u5e3d\u5b50]":{index:80,name:"[\u7eff\u5e3d\u5b50]",image:"emoji_80_newer_green_hat@3x.png",key:"emoji_80_newer_green_hat@3x.png",width:96,height:96},"[\u6c57]":{index:81,name:"[\u6c57]",image:"emoji_81_sweat@3x.png",key:"emoji_81_sweat@3x.png",width:96,height:96},"[\u6478\u5934]":{index:82,name:"[\u6478\u5934]",image:"emoji_82_lear_ropes@3x.png",key:"emoji_82_lear_ropes@3x.png",width:96,height:96},"[\u76b1\u7709]":{index:83,name:"[\u76b1\u7709]",image:"emoji_83_frown@3x.png",key:"emoji_83_frown@3x.png",width:96,height:96},"[\u64e6\u6c57]":{index:84,name:"[\u64e6\u6c57]",image:"emoji_84_wipe_sweat@3x.png",key:"emoji_84_wipe_sweat@3x.png",width:96,height:96},"[\u7ea2\u8138]":{index:85,name:"[\u7ea2\u8138]",image:"emoji_85_redface@3x.png",key:"emoji_85_redface@3x.png",width:96,height:96},"[\u5c2c\u7b11]":{index:86,name:"[\u5c2c\u7b11]",image:"emoji_86_orz@3x.png",key:"emoji_86_orz@3x.png",width:96,height:96},"[\u505a\u9b3c\u8138]":{index:87,name:"[\u505a\u9b3c\u8138]",image:"emoji_87_makeface@3x.png",key:"emoji_87_makeface@3x.png",width:96,height:96},"[\u5f3a]":{index:88,name:"[\u5f3a]",image:"emoji_88_intensity@3x.png",key:"emoji_88_intensity@3x.png",width:96,height:96},"[\u5982\u82b1]":{index:89,name:"[\u5982\u82b1]",image:"emoji_89_ruhua@3x.png",key:"emoji_89_ruhua@3x.png",width:96,height:96},"[\u5410]":{index:90,name:"[\u5410]",image:"emoji_90_spit@3x.png",key:"emoji_90_spit@3x.png",width:96,height:96},"[\u60ca\u559c]":{index:91,name:"[\u60ca\u559c]",image:"emoji_91_surprise@3x.png",key:"emoji_91_surprise@3x.png",width:96,height:96},"[\u6572\u6253]":{index:92,name:"[\u6572\u6253]",image:"emoji_92_knock@3x.png",key:"emoji_92_knock@3x.png",width:96,height:96},"[\u594b\u6597]":{index:93,name:"[\u594b\u6597]",image:"emoji_93_refuel@3x.png",key:"emoji_93_refuel@3x.png",width:96,height:96},"[\u5410\u5f69\u8679]":{index:94,name:"[\u5410\u5f69\u8679]",image:"emoji_94_rainbow@3x.png",key:"emoji_94_rainbow@3x.png",width:96,height:96},"[\u5927\u54ed]":{index:95,name:"[\u5927\u54ed]",image:"emoji_95_bigcry@3x.png",key:"emoji_95_bigcry@3x.png",width:96,height:96},"[\u6bd4\u5fc3]":{index:96,name:"[\u6bd4\u5fc3]",image:"emoji_96_fingerheart@3x.png",key:"emoji_96_fingerheart@3x.png",width:96,height:96},"[\u52a0\u6cb9]":{index:97,name:"[\u52a0\u6cb9]",image:"emoji_97_refuel@3x.png",key:"emoji_97_refuel@3x.png",width:96,height:96},"[\u78b0\u62f3]":{index:98,name:"[\u78b0\u62f3]",image:"emoji_98_fist@3x.png",key:"emoji_98_fist@3x.png",width:96,height:96},"[ok]":{index:99,name:"[ok]",image:"emoji_99_OK@3x.png",key:"emoji_99_OK@3x.png",width:96,height:96},"[\u51fb\u638c]":{index:100,name:"[\u51fb\u638c]",image:"emoji_100_highfive@3x.png",key:"emoji_100_highfive@3x.png",width:96,height:96},"[\u5de6\u4e0a]":{index:101,name:"[\u5de6\u4e0a]",image:"emoji_101_left@3x.png",key:"emoji_101_left@3x.png",width:96,height:96},"[\u63e1\u624b]":{index:102,name:"[\u63e1\u624b]",image:"emoji_102_shakehand@3x.png",key:"emoji_102_shakehand@3x.png",width:96,height:96},"[18\u7981]":{index:103,name:"[18\u7981]",image:"emoji_103_18@3x.png",key:"emoji_103_18@3x.png",width:96,height:96},"[\u5200]":{index:104,name:"[\u5200]",image:"emoji_104_knife@3x.png",key:"emoji_104_knife@3x.png",width:96,height:96},"[V5]":{index:105,name:"[V5]",image:"emoji_105_V5@3x.png",key:"emoji_105_V5@3x.png",width:96,height:96},"[\u7ed9\u529b]":{index:106,name:"[\u7ed9\u529b]",image:"emoji_106_awesome@3x.png",key:"emoji_106_awesome@3x.png",width:96,height:96},"[\u5fc3]":{index:107,name:"[\u5fc3]",image:"emoji_107_heart@3x.png",key:"emoji_107_heart@3x.png",width:96,height:96},"[\u4f24\u5fc3]":{index:108,name:"[\u4f24\u5fc3]",image:"emoji_108_broken_heart@3x.png",key:"emoji_108_broken_heart@3x.png",width:96,height:96},"[\u5c4e]":{index:109,name:"[\u5c4e]",image:"emoji_109_shit@3x.png",key:"emoji_109_shit@3x.png",width:96,height:96},"[\u793c\u7269]":{index:110,name:"[\u793c\u7269]",image:"emoji_110_gifts@3x.png",key:"emoji_110_gifts@3x.png",width:96,height:96},"[\u86cb\u7cd5]":{index:111,name:"[\u86cb\u7cd5]",image:"emoji_111_cake@3x.png",key:"emoji_111_cake@3x.png",width:96,height:96},"[\u6492\u82b1]":{index:112,name:"[\u6492\u82b1]",image:"emoji_112_flower@3x.png",key:"emoji_112_flower@3x.png",width:96,height:96},"[\u4e0d\u770b]":{index:113,name:"[\u4e0d\u770b]",image:"emoji_113_lookat@3x.png",key:"emoji_113_lookat@3x.png",width:96,height:96},"[\u70b8\u5f39]":{index:114,name:"[\u70b8\u5f39]",image:"emoji_114_bomb@3x.png",key:"emoji_114_bomb@3x.png",width:96,height:96}};function u(e){var t=c[e];if(t)return"//lf3-cdn-tos.bytegoofy.com/goofy/toutiao/tt_tps/static/images/ttemoji_v2/".concat(t.image);return""}function l(e){var t=/(\[[^\]]+[\]])+?/g;var n=RegExp(t.source);return e&&n.test(e)?e.replace(t,(function(e){var t=c[e];if(t)return'<i class="emoji" style="background-image: url(//lf3-cdn-tos.bytegoofy.com/goofy/toutiao/tt_tps/static/images/ttemoji_v2/'.concat(t.image,')"></i>');else return e})):e}},"9551a6727f53aa482a36":function(e,t,n){},"96ef8f9d6deb54673902":function(e,t,n){},"9727aacc8b7964f6db1c":function(e,t,n){},"988714ff9eba2503d80f":function(e,t,n){"use strict";n.d(t,"b",(function(){return k}));n.d(t,"a",(function(){return E}));n.d(t,"e",(function(){return x}));n.d(t,"d",(function(){return S}));n.d(t,"h",(function(){return T}));n.d(t,"g",(function(){return N}));n.d(t,"c",(function(){return L}));n.d(t,"f",(function(){return R}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);var h=n("be6323750fae7868d676");var g=n("acff6c447f863638e55f");var _=n("1b69c40e39893f89b5f5");function y(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)y(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else y(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var k={ARTICLE:"article",WTT:"wtt",VIDEO:"video",SHORT_VIDEO:"short_video",WENDA:"wenda",COLLECTION:"collection"};var E={UGC:"ugc",COMMENT:"comment",WENDA_QUESTION:"wenda_question",WENDA_ANSWER:"wenda_answer"};function j(e){return e.map((function(e){var t=e.group_id;if(!t&&"string"===typeof e.id)t=e.id;if(!t)t=e.id_str||Math.random().toString(16).substr(2);return w(w({},e),{},{__uuid:t})}))}function O(e){var t=e.cell_type;if(0===t){if(e.has_video)return k.VIDEO;return k.ARTICLE}if([32,56].indexOf(t)>-1)return k.WTT;if(48===t)return k.VIDEO;if([202,203].indexOf(t)>-1)return k.WENDA;if(341===t)return k.COLLECTION;if(49===t)return k.SHORT_VIDEO;return k.ARTICLE}function x(e){var t=[];if(e.large_image_list&&e.large_image_list.length)t=e.large_image_list;else if(e.image_list&&e.image_list.length)t=e.image_list;else if(e.middle_image)t=[].concat(e.middle_image);return t.map((function(e){return e.url.replace(/^http:/,"")}))}function C(e,t){if(k.WTT===t)return Object(g["b"])(g["a"].WTT,e.thread_id_str||e.id_str);else if(k.SHORT_VIDEO===t||k.COLLECTION===t)return Object(g["b"])(g["a"].VIDEO,e.group_id);else if(k.VIDEO===t)return Object(g["b"])(g["a"].SELF_VIDEO,e.group_id);return Object(g["b"])(g["a"].ARTICLE,e.group_id)}function I(e){var t=e.user_info||e.user;if(56===e.cell_type){var n,r;t=null===(n=e.comment_base)||void 0===n?void 0:null===(r=n.user)||void 0===r?void 0:r.info}if(t)return{name:t.name,userSecToken:t.user_id,userAuthInfo:t.user_verified&&Object(h["t"])(t.user_auth_info||"{}")};return null}function S(e,t){var n=j(e);return n.map((function(e){var n=O(e);return w(w({},e),{},{__type:n,__title:e.feed_title||e.title,__cover_urls:x(e),__detail_url:C(e,n),__user_info:I(e),__tab_key:t})}))}function T(e,t,n){if(!t)return n.map((function(e){return w(w({},e),{},{is_stick:t})}));var r=n.filter((function(t){return t.__uuid===e.__uuid}))[0];if(!r)return n;var a=n.map((function(e){if(e.is_stick)return w(w({},e),{},{is_stick:false});if(e.__uuid===r.__uuid)return null;return e})).filter(Boolean);return[w(w({},r),{},{is_stick:true})].concat(a)}function N(e,t,n){return n.map((function(n){if(n.__uuid===e.__uuid){if(56===e.cell_type){var r;var a=null===(r=e.comment_base)||void 0===r?void 0:r.action;var i=n;if(a)i.comment_base.action=w(w({},a),{},{digg_count:1===t?++a.digg_count:--a.digg_count,user_digg:t});return i}return w(w({},n),{},{digg_count:1===t?++n.digg_count:--n.digg_count,user_digg:t})}return n}))}function L(e,t){return t.filter((function(t){return t.__uuid!==e.__uuid}))}function R(e){if(e===_["a"].fav.key)return"";if(e===_["a"].video.key)return e;return _["a"].all.key}},"989728adca5bca9dc30e":function(e,t,n){"use strict";n.r(t);(function(e){n.d(t,"getServerSideInitialProps",(function(){return h}));var r=n("4367ed43a6bb5319d01d");var a=n.n(r);var i=n("ac1c7ccad675d280253b");var o=n.n(i);var c=n("6ebc429a21c1841afaf9");var u=n("150fc7282b1f8ece2655");var l=n.n(u);var f=n("3a714220fffd07ce0f25");var s=n("8f733a24568c21239759");var d=n.n(s);var v=n("d7eda47c4265102ff5f2");var m=n("4c4ea2a98c1c93e67edd");var p=n("ecc80ba510baa97c03b0");var b=n("1e57c421e41f48e4643f");Object(u["hot"])(e)(v["a"]);Object(m["a"])();Object(p["a"])();Object(b["a"])();Object(f["a"])(v["a"]);t["default"]=v["a"];var h=function(){var e=o()(a.a.mark((function e(t){var n;return a.a.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:null===(n=t.ctx)||void 0===n?void 0:n.initialData});case 1:case"end":return r.stop()}}),e)})));return function t(n){return e.apply(this,arguments)}}()}).call(this,n("05043724b09d528e9d4e")(e))},"98ad94a9d064c7351e07":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(e,t){if(!window.collectEvent)return;window.collectEvent(e,t||{})}},"9ab2f1ff086dee039972":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ESC:27,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40}},"9b9d3218952e7795f17c":function(e,t,n){},"9c433afd1e0a4a1aafd7":function(e,t,n){},"9d35318f143127ea9561":function(e,t,n){},"9f6594acd74878e4062f":function(e,t,n){},a20f03753300ba348bc3:function(e,t,n){},a37ac43bf3b2879b42e3:function(e,t,n){"use strict";n.d(t,"b",(function(){return U}));n.d(t,"a",(function(){return z}));var r=n("d2cc329ce222e2406492");var a=n("352fe4c99a6fff2f363c");var i=n("056606c89293aa5bef85");var o=n("f9c528707353f5b6df95");var c=n("4fa4ba9dede71d4f591e");var u=n("a2b92cfef2eaa695ad2f");var l=n("f4095745be08d782d539");var f=n("93d7a148460d9069f5a3");var s=n("2810e53ad7174f3c046d");var d=n("514e048378a284fc2dcd");var v=n("5f3cfa39f909ef854538");var m=n("fa2a44115ff2bd1a0d71");var p=n("5a1a865b1553fc84c0ed");var b=n("69084d01d3449fc1bc27");var h=n("abbf799a026c91d8612e");var g=n("bd8ea4fd9e1bc4efca14");var _="news_local_ch_cities";var y="cities";var w="1";var k=null;function E(e){return new Promise((function(t){if(!e){t(null);return}if(e.objectStoreNames.contains(y)){var n=e.transaction(y).objectStore(y).get(w);n.onsuccess=function(e){t(e.target.result)};n.onerror=function(){t(null)};return}t(null)}))}function j(e,t){return new Promise((function(n){if(!e){n();return}if(!e.objectStoreNames.contains(y)){n();return}var r=e.transaction(y,"readwrite").objectStore(y).add(t,w);r.onsuccess=function(){return n()};r.onerror=function(){return n()}}))}function O(e,t){return new Promise((function(n){if(!e){n();return}if(!e.objectStoreNames.contains(y)){n();return}var r=e.transaction(y,"readwrite").objectStore(y).put(t,w);r.onsuccess=function(){return n()};r.onerror=function(){return n()}}))}function x(){return new Promise((function(e){if(!window.indexedDB){e(null);return}if(k){E(k).then((function(t){return e(t)}));return}var t=window.indexedDB.open(_);t.onsuccess=function(t){if(!k)k=t.target.result;E(k).then((function(t){return e(t)}))};t.onupgradeneeded=function(t){if(!k)k=t.target.result;if(!k.objectStoreNames.contains(y))k.createObjectStore(y);e(null)};t.onerror=function(t){void 0;e(null)}}))}function C(e){if(!k)return;E(k).then((function(t){if(t)O(k,e);else j(k,e)}))}function I(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true});else e[t]=n;return e}function S(e,t){return A(e)||R(e,t)||N(e,t)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}function L(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function A(e){if(Array.isArray(e))return e}function D(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){D(i,r,a,o,c,"next",e)}function c(e){D(i,r,a,o,c,"throw",e)}o(void 0)}))}}function U(e,t){if(!t)return"";var n="";Object.keys(t).some((function(r){if(t[r][e]){n=r;return true}return false}));return n}var M={cities:null};function F(){return V.apply(this,arguments)}function V(){V=P(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:r=null;o.prev=1;o.next=4;return h["a"].weather.getCities();case 4:a=o.sent;if(200===a.status){i=Object(g["d"])(null===(n=null===(t=a.data)||void 0===t?void 0:t.data)||void 0===n?void 0:n.cities);if(i)r=Object.keys(i).reduce((function(e,t){var n=i[t];return Object.assign(Object.assign({},e),I({},t,Object.keys(n).reduce((function(e,t){return Object.assign(Object.assign({},e),I({},t,{name:t,code:n[t][0],channelId:n[t][1]}))}),{})))}),{})}o.next=12;break;case 8:o.prev=8;o.t0=o["catch"](1);void 0;window.Slardar&&window.Slardar("emit","counter",{name:"fetch-cities-error",value:1});case 12:return o.abrupt("return",r);case 13:case"end":return o.stop()}}),e,null,[[1,8]])})));return V.apply(this,arguments)}var H=0;function B(){return W.apply(this,arguments)}function W(){W=P(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:if(!M.cities){a.next=2;break}return a.abrupt("return",M.cities);case 2:a.next=4;return x();case 4:t=a.sent;if(t){a.next=14;break}a.next=8;return F();case 8:n=a.sent;if(!n){a.next=13;break}C(n);M.cities=n;return a.abrupt("return",n);case 13:return a.abrupt("return",null);case 14:if(!(H<1)){a.next=19;break}a.next=17;return F();case 17:r=a.sent;if(r){C(r);M.cities=r;H++}case 19:return a.abrupt("return",t);case 20:case"end":return a.stop()}}),e)})));return W.apply(this,arguments)}function z(e){var t=e||{},n=t.flush;var r=Object(b["useState"])(M.cities),a=S(r,2),i=a[0],o=a[1];var c=Object(b["useRef"])(P(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;n.next=3;return B();case 3:t=n.sent;o(t);n.next=10;break;case 7:n.prev=7;n.t0=n["catch"](0);void 0;case 10:case"end":return n.stop()}}),e,null,[[0,7]])}))));Object(b["useEffect"])((function(){if(n)c.current()}),[]);return[i,c.current]}},a5b25f8e99db71c1fcf2:function(e,t,n){"use strict";var r=n("edc2b76b5d9ea09775b6");var a=function e(t,n){if(!t){r["a"].show({title:"OTHER"});return false}n&&n();return true};t["a"]=a},a99d8596674b8a971a00:function(e,t,n){"use strict";var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("4367ed43a6bb5319d01d");var b=n.n(p);var h=n("ac1c7ccad675d280253b");var g=n.n(h);var _=n("9f4f4b9798be7ce1394c");var y=n.n(_);var w=n("214eccfc06814c553a3c");var k=n.n(w);var E=n("626346d0a60969063da7");var j=n.n(E);var O=["/tt-anti-token","/video/urls/v/1/toutiao/mp4/"];var x=["/api/pc/list/feed","/search/suggest/hot_words","/hot-event/hot-board/","/stream/widget/local_weather/","search/suggest/hot_words/","/api/pc/list/user/feed","/2/article/v88/refresh_tip/","/api/pc/user/follow","/video/app/pseries/","/ugc/video/v1/pseries","/ugc/video/v1/player_info","/action/api/v1/do_action/"];var C=["/api/pc/list/feed","/api/pc/list/user/feed","/video/app/pseries/","/ugc/video/v1/pseries"];function I(e){if(e)return!O.some((function(t){return e.indexOf(t)>-1}));return true}function S(e){return!x.some((function(t){return e.indexOf(t)>-1}))}function T(e,t){var n,r;var a="".concat(location.protocol,"//").concat(location.host);if(S(e))a+="/toutiao";if(false);var i={url:a+e};if(t.data)i.body=t.data;var o=(null===(n=window.byted_acrawler)||void 0===n?void 0:null===(r=n.sign)||void 0===r?void 0:r.call(n,i))||"";return o}function N(e){if(e)return C.some((function(t){return e.indexOf(t)>-1}));return false}var L=n("2ed759d52627118083ce");var R=n.n(L);var A=n("5877b71c460e33b640ac");var D=n.n(A);var P=n("a441a1cddaa9c253f395");var U=n.n(P);var M=n("2422758950d9f66b7423");function F(e){if(!window.TTGCaptcha){void 0;return}window.TTGCaptcha.render({verify_data:e.verifyData,captchaOptions:{app_name:M["i"],showMode:"mask",successCb:function t(n){var r;null===(r=e.successCb)||void 0===r?void 0:r.call(e,n)},errorCb:function t(n){var r;null===(r=e.errorCb)||void 0===r?void 0:r.call(e,n)},closeCb:function t(){var n;null===(n=e.closeCb)||void 0===n?void 0:n.call(e)}}})}var V=function(){function e(){D()(this,e);this.show=false;this.success=false;this.waitVerify=null}U()(e,[{key:"verify",value:function e(t){var n=this;this.waitVerify=new R.a((function(e){n.show=true;F({verifyData:t,successCb:function t(){n.show=false;n.success=true;e()},closeCb:function t(){n.show=false;n.success=false;e()}})}));return this.waitVerify}},{key:"waitVerifyFinish",value:function e(){var t=this;return new R.a((function(e){if(!t.waitVerify){e();return}t.waitVerify.then((function(){e()}))}))}}]);return e}();var H=new V;function B(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)B(Object(n),true).forEach((function(t){y()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else B(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var z=k.a.create({timeout:1e4});z.interceptors.request.use((function(e){if("post"===e.method)e.headers=W(W({},e.headers),{},{"X-CSRFToken":j.a.get("csrftoken"),"tt-anti-token":j.a.get("tt_anti_token")});return e}));z.interceptors.request.use((function(e){var t;if(!I(e.url))return e;if(null===(t=e.params)||void 0===t?void 0:t._signature)delete e.params._signature;var n=z.getUri(e);var r=T(n,e);e.params=W(W({},e.params),{},{_signature:r});return e}));z.interceptors.request.use((function(e){if(N(e.url))e.params=W(W({},e.params),{},{aid:M["h"],app_name:M["i"]});return e}));z.interceptors.response.use(function(){var e=g()(b.a.mark((function e(t){var n;var r;return b.a.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r=null===t||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.decision;if(!r){a.next=19;break}if(H.show){a.next=13;break}window.Slardar&&window.Slardar("emit","counter",{name:"show-captcha",value:1,tags:{type:"api"}});a.next=6;return H.verify(r);case 6:if(!H.success){a.next=11;break}window.Slardar&&window.Slardar("emit","counter",{name:"pass-captcha",value:1,tags:{type:"api"}});a.next=10;return z.request(t.config);case 10:return a.abrupt("return",a.sent);case 11:a.next=19;break;case 13:a.next=15;return H.waitVerifyFinish();case 15:if(!H.success){a.next=19;break}a.next=18;return z.request(t.config);case 18:return a.abrupt("return",a.sent);case 19:return a.abrupt("return",t);case 20:case"end":return a.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var q=t["a"]=z},ab64641ae399574b8de3:function(e,t,n){},abbf799a026c91d8612e:function(e,t,n){"use strict";var r={};n.r(r);n.d(r,"getHotBoard",(function(){return s}));var a={};n.r(a);n.d(a,"repostContent",(function(){return p}));var i={};n.r(i);n.d(i,"getTabComments",(function(){return g}));n.d(i,"getReplyList",(function(){return _}));n.d(i,"submitComment",(function(){return y}));n.d(i,"submitReply",(function(){return w}));n.d(i,"commentAction",(function(){return k}));n.d(i,"diggReply",(function(){return E}));n.d(i,"reportUser",(function(){return j}));var o={};n.r(o);n.d(o,"followUser",(function(){return O}));n.d(o,"unfollowUser",(function(){return x}));var c={};n.r(c);n.d(c,"getCities",(function(){return C}));var u={};n.r(u);n.d(u,"getLogin",(function(){return I}));var l=n("f663fadc4eb5841c48bb");var f=n("c1c90d8f2436b65746ff");function s(){return f["a"].get("/hot-event/hot-board/?origin=toutiao_pc")}var d=n("93d7a148460d9069f5a3");var v=n("a52ab4297c6c7cd8920c");var m=n.n(v);function p(e){return f["a"].post("/c/ugc/content/repost/",m.a.stringify(Object.assign({},e)))}var b=24;var h="toutiao_web";function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;return f["a"].get("/article/v2/tab_comments/",{params:{aid:b,app_name:h,offset:n,count:r,group_id:e,item_id:t}})}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return f["a"].get("/2/comment/v2/reply_list/",{params:{aid:b,app_name:h,id:e,offset:t,count:n,repost:r}})}function y(e,t,n){return f["a"].post("/browser/2/data/v5/post_message/",m.a.stringify({group_id:e,item_id:t,text:n}),{params:{aid:b,app_name:h}})}function w(e){var t={id:e.id,content:e.content};if(e.replyUserId||e.replyCommentId){t.reply_user_id=e.replyUserId;t.reply_comment_id=e.replyCommentId}return f["a"].post("/browser/2/comment/v3/create_reply/",m.a.stringify(t),{params:{aid:b,app_name:h}})}function k(e,t,n,r){return f["a"].post("/browser/2/data/v1/comment_action/",m.a.stringify({comment_id:e,group_id:t,item_id:n,action:r}),{params:{aid:b,app_name:h}})}function E(e,t,n){return f["a"].post("/browser/2/comment/v1/digg_reply/",m.a.stringify({id:e,reply_id:t,action:n}),{params:{aid:b,app_name:h}})}function j(e){return f["a"].post("/api/pc/feedback/2/report_user_comment/",m.a.stringify(Object.assign(Object.assign({},e),{report_source:0,source:1,aid:24})),{params:{aid:24,app_name:"toutiao-web",app_key:"toutiao-web",webid:e.webid}})}function O(e){return f["a"].post("/api/pc/user/follow",{user_token:e})}function x(e){return f["a"].post("/c/user/unfollow/",m.a.stringify({user_token:e}))}function C(){return f["a"].get("https://lf3-config.bytetcc.com/obj/tcc-config-web/tcc-v2-data-toutiao.fe.toutiao_web_pc-default")}function I(e){return f["a"].get(e)}var S={search:l,hotboard:r,ugc:a,comment:i,relation:o,weather:c,login:u};var T=t["a"]=S},ac9414e2d47df986f7f3:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("9f4f4b9798be7ce1394c");var m=n.n(v);var p=n("6af3fb42e7368ad6a775");var b=n.n(p);var h=n("2dae468170cb074c18ce");var g=n.n(h);var _=n("5877b71c460e33b640ac");var y=n.n(_);var w=n("a441a1cddaa9c253f395");var k=n.n(w);var E=n("6cf195ddfada1b0033e1");function j(e,t){var n=b()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)j(Object(n),true).forEach((function(t){m()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else j(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var x=function e(t){var n=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(n)window.addEventListener("pagehide",t,false);else window.addEventListener("beforeunload",t,false)};var C=12*60*60*1e3;var I={event:"stay_page",params:{}};var S=function(){function e(t){var n=this;y()(this,e);this.config=I;this.startTime=0;this.canSendCloseEvent=false;this._handleVisibilitychange=function(){if("hidden"===document.visibilityState){n._sendEvent();n.canSendCloseEvent=false}else if("visible"===document.visibilityState){n.startTime=g()();n.canSendCloseEvent=true}};this._handlePageUnload=function(){if(n.canSendCloseEvent){n._sendEvent();n.end()}};this.config=t||I;this.startTime=g()();if("visible"===document.visibilityState)this.canSendCloseEvent=true}k()(e,[{key:"_sendEvent",value:function e(){var t=g()()-this.startTime;if(t>C)return;var n=[].concat(this.config);n.forEach((function(e){var n=b()(e.params).reduce((function(t,n){t[n]="function"===typeof e.params[n]?e.params[n]():e.params[n];return t}),{});Object(E["a"])(e.event,O(O({},n),{},{stay_time:t}))}))}},{key:"start",value:function e(){document.addEventListener("visibilitychange",this._handleVisibilitychange);x(this._handlePageUnload)}},{key:"end",value:function e(){document.removeEventListener("visibilitychange",this._handleVisibilitychange);window.removeEventListener("beforeunload",this._handlePageUnload);window.removeEventListener("pagehide",this._handlePageUnload)}}]);return e}()},acb455effcf8850d4323:function(e,t,n){},acc155cddbd190919d07:function(e,t,n){},acff6c447f863638e55f:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n.d(t,"b",(function(){return a}));var r;(function(e){e["ARTICLE"]="article";e["WTT"]="wtt";e["VIDEO"]="video";e["SELF_VIDEO"]="self_video"})(r||(r={}));function a(e,t){var n=null;switch(e){case r.WTT:n="https://www.toutiao.com/w/".concat(t,"/");break;case r.VIDEO:n="https://www.ixigua.com/".concat(t);break;case r.SELF_VIDEO:n="https://www.toutiao.com/video/".concat(t,"/");break;default:n="https://www.toutiao.com/article/".concat(t,"/");break}return n}},ae17adf1c28fabf1305a:function(e,t,n){},b185499127a129210d8e:function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("ed0e645fb10944a4fb8f");var o=n("1fbd449e565d9fe73e34");var c=n.n(o);var u=n("59c079e31d780aa10ab3");var l=n.n(u);var f=n("17182ec21c9e45f48693");var s=n.n(f);var d=n("4da96d66510db0326cde");var v=n.n(d);var m=n("62ff606f30425beb0057");var p=n.n(m);var b=n("6af3fb42e7368ad6a775");var h=n.n(b);var g=n("9f4f4b9798be7ce1394c");var _=n.n(g);var y=n("b400c18478ff55657723");var w=n.n(y);var k=n("174811872339f1d02c40");var E=n.n(k);var j=n("ae17adf1c28fabf1305a");var O=n("fb622297466e7a637f99");var x=n("41e81a6b6b2e87160a0d");var C=n("53955f9dab771af04369");function I(e,t){var n=h()(e);if(p.a){var r=p()(e);if(t)r=r.filter((function(t){return v()(e,t).enumerable}));n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)I(Object(n),true).forEach((function(t){_()(e,t,n[t])}));else if(s.a)l()(e,s()(n));else I(Object(n)).forEach((function(t){c()(e,t,v()(n,t))}))}return e}var T=function e(t){var n;var i=t.cell,o=t.logParams,c=t.onDislike,u=t.onItemClick;var l=Object(r["useState"])(false),f=w()(l,2),s=f[0],d=f[1];var v={groupId:i.group_id,itemId:i.item_id,articleType:i.article_type,title:i.title,coverUrls:i.is_stick?[]:i.__cover_urls,articleUrl:i.__detail_url,userInfo:i.__user_info,source:i.source,commentCount:i.comment_count,timestamp:i.publish_time,isStick:i.is_stick,stickIndex:i.__stick_index,stickStyle:i.stick_style,filterWords:null===(n=i.filter_words)||void 0===n?void 0:n.filter_words};var m=null;if(0===i.article_type){var p,b;m={impr_id:null===(p=i.log_pb)||void 0===p?void 0:p.impr_id,impr_type:Object(O["k"])(i),group_type:Object(O["j"])(v.coverUrls.length),category_name:Object(O["h"])(i),enter_from:Object(O["i"])(i),page_name:o.page_name,channel_id:i.__channel_id,section:i.__log_section||"feed",is_following:(null===(b=i.user_info)||void 0===b?void 0:b.follow)?"1":"0",is_top_content:i.is_stick?"1":"0",show_rank:i.__log_show_rank}}function h(e){var t;c(i);Object(O["m"])(i,{is_following:(null===(t=i.user_info)||void 0===t?void 0:t.follow)?"1":"0",article_type:"text",position:o.position,dislike_type:e,content_type:"single"})}function g(){var e;null===u||void 0===u?void 0:u();d(true);Object(O["c"])(S(S({area:i.__log_area||("all"===(null===(e=i.__channel_info)||void 0===e?void 0:e.key)?"feed":"category"),gid:i.group_id,href:i.__detail_url},o),{},{enter_from:Object(O["i"])(i),category_name:Object(O["h"])(i),is_top_content:i.is_stick?"1":"0",section:"list"===o.position?"feed":"detail_feed",group_source:i.group_source,article_type:"text",group_id:i.group_id,show_rank:i.__log_show_rank}))}function _(){var e;Object(O["f"])(i,{is_following:(null===(e=i.user_info)||void 0===e?void 0:e.follow)?"1":"0",article_type:"text",position:o.position})}return a.a.createElement(x["a"],{cell:i},a.a.createElement("div",{className:E()("feed-card-wrapper feed-card-article-wrapper",{visited:s,"sticky-cell":v.isStick&&"list"===o.position})},a.a.createElement(C["a"],{data:v,logInfo:m,logParams:S(S({},o),{},{enter_from:Object(O["i"])(i)}),onDislike:h,onClickToDetail:g,onDislikeClick:_})))};var N=T;var L=n("7c4288154d94f45c1e67");var R=n("7009f854fb449fc1b23d");var A=n("988714ff9eba2503d80f");var D=n("10130cfc2ba27a09b7e5");var P=n("b6051f0fa8998ea16e97");function U(e,t){var n=h()(e);if(p.a){var r=p()(e);if(t)r=r.filter((function(t){return v()(e,t).enumerable}));n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)U(Object(n),true).forEach((function(t){_()(e,t,n[t])}));else if(s.a)l()(e,s()(n));else U(Object(n)).forEach((function(t){c()(e,t,v()(n,t))}))}return e}var F=function e(t){var n,i;var o=t.cell,c=t.logParams,u=t.onDislike,l=t.onSubscribe,f=t.onLikeChange,s=t.onItemClick;var d=Object(r["useContext"])(R["a"]);var v=Object(r["useState"])(false),m=w()(v,2),p=m[0],b=m[1];var h=o.__channel_id===D["a"].get().follow.channelId;var g=null;if(56===o.cell_type){var _,y,k,j,C,I,S,T,N,L;g={subType:A["a"].COMMENT,groupId:o.id_str,itemId:o.id_str,userInfo:o.__user_info,showSubscribe:!(null===(_=o.comment_base)||void 0===_?void 0:null===(y=_.user)||void 0===y?void 0:null===(k=y.relation)||void 0===k?void 0:k.is_following),commentCount:null===(j=o.comment_base)||void 0===j?void 0:j.action.comment_count,userDigg:null===(C=o.comment_base)||void 0===C?void 0:C.action.user_digg,likeCount:null===(I=o.comment_base)||void 0===I?void 0:I.action.digg_count,timestamp:null===(S=o.comment_base)||void 0===S?void 0:S.create_time,content:null===(T=o.comment_base)||void 0===T?void 0:T.content,articleUrl:o.__detail_url,coverUrls:[],filterWords:null===(N=o.filter_words)||void 0===N?void 0:N.filter_words,title:o.title,repostParams:null===(L=o.comment_base)||void 0===L?void 0:L.repost_params,commentType:o.comment_type,originGroup:o.origin_group,originThread:o.origin_thread,originUgcVideo:o.origin_ugc_video,originCommonContent:o.origin_common_content}}else{var U,F,V;g={subType:A["a"].UGC,groupId:o.item_id,itemId:o.item_id,userInfo:M(M({},o.__user_info),{},{avatarUrl:null===(U=o.user)||void 0===U?void 0:U.avatar_url,isFollow:!!(null===(F=o.user)||void 0===F?void 0:F.is_following)}),showSubscribe:o.__show_subscribe,commentCount:o.comment_count,userDigg:o.user_digg,likeCount:o.digg_count,timestamp:o.publish_time,content:o.content,articleUrl:o.__detail_url,coverUrls:o.__cover_urls,filterWords:null===(V=o.filter_words)||void 0===V?void 0:V.filter_words,title:o.title,repostParams:o.repost_params,originGroup:null,originThread:null,originUgcVideo:null,originCommonContent:null}}var H={impr_id:null===(n=o.log_pb)||void 0===n?void 0:n.impr_id,impr_type:Object(O["k"])(o),group_type:Object(O["j"])(g.coverUrls.length),category_name:Object(O["h"])(o),enter_from:Object(O["i"])(o),page_name:c.page_name,channel_id:o.__channel_id,section:o.__log_section||"feed",is_following:(null===(i=o.__user_info)||void 0===i?void 0:i.isFollow)?"1":"0",is_top_content:"0",show_rank:o.__log_show_rank};var B={position:c.position,article_type:"wtt"};function W(e){l(e,o);if(e)Object(O["n"])(o,d);else Object(O["q"])(o,d)}function z(e){var t;u(M(M({},o),{},{dislikeType:e}));Object(O["m"])(o,M(M({},B),{},{is_following:(null===(t=o.__user_info)||void 0===t?void 0:t.isFollow)?"1":"0",dislike_type:e,content_type:"single"}))}function q(e){f(o,e);if(1===e)Object(O["o"])(o,d,B);else Object(O["r"])(o,d,B)}function G(){var e;null===s||void 0===s?void 0:s();b(true);Object(O["c"])(M(M({area:o.__log_area||("all"===(null===(e=o.__channel_info)||void 0===e?void 0:e.key)?"feed":"category"),gid:o.group_id,href:o.__detail_url},c),{},{enter_from:Object(O["i"])(o),category_name:Object(O["h"])(o),is_top_content:o.is_stick?"1":"0",section:"list"===c.position?"feed":"detail_feed",group_source:o.group_source,article_type:"wtt",group_id:o.group_id,show_rank:o.__log_show_rank}))}function Q(e){Object(O["p"])(o,d,M(M({},B),{},{share_platform:e}))}function K(e){Object(O["s"])(o,M(M({},B),{},{action_type:e}))}function Y(){Object(O["x"])(o,B)}function Z(){var e;Object(O["f"])(o,{is_following:(null===(e=o.__user_info)||void 0===e?void 0:e.isFollow)?"1":"0",article_type:"wtt",position:c.position})}return a.a.createElement(x["a"],{cell:o},a.a.createElement("div",{className:E()("feed-card-wrapper feed-card-wtt-wrapper",{visited:p})},a.a.createElement(P["a"],{data:g,disableSubscribe:h,hideAuthInfo:h,logInfo:H,onDislike:z,onSubscribe:W,onLikeChange:q,onClickToDetail:G,onShare:Q,onDislikeClick:Z,onShareAction:K,onWttSubmit:Y})))};var V=F;var H=n("f888a5b741084f046b7a");var B=n("b65c96faf0c123cf88e4");var W=n("5616f33a71e39794ee3e");var z=n("546ca7f10f62589ab9f4");var q=function e(t){var n;var r=t.data;var i=(null===(n=r.coverUrls)||void 0===n?void 0:n.length)||0;var o=(r.coverUrls||[]).slice(0,4);return a.a.createElement("div",{className:E()("feed-card-wenda",{"single-cover":i>0&&i<4,"multi-cover":i>3})},a.a.createElement("div",{className:"feed-card-wenda-r"},i>0&&i<4&&a.a.createElement(B["a"],{cover:r.coverUrls[0],articleUrl:r.articleUrl})),a.a.createElement("div",{className:"feed-card-wenda-l"},a.a.createElement("p",{className:"title"},a.a.createElement("a",{href:r.articleUrl,target:"_blank",rel:"noopener"},r.title)),a.a.createElement("p",{className:"content"},a.a.createElement("a",{href:r.articleUrl,target:"_blank",rel:"noopener"},r.content))),i>=4&&a.a.createElement("ul",{className:"cover-list"},o.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement(B["a"],{cover:e,articleUrl:r.articleUrl}))}))),a.a.createElement("div",{className:"feed-card-wenda-footer"},a.a.createElement(W["a"],{leftTools:[a.a.createElement(z["f"],{key:"tag",text:"\u95ee\u7b54"}),a.a.createElement(z["a"],{key:"author",userInfo:r.userInfo}),a.a.createElement(z["b"],{key:"comment",commentCount:r.commentCount,articleUrl:r.articleUrl}),a.a.createElement(z["g"],{key:"time",timestamp:r.timestamp})],rightTools:[a.a.createElement(z["c"],{key:"dislike"})]})))};var G=q;var Q=function e(){var t={title:"\u8001\u7238\u7528500+\u5f20\u7167\u7247\uff0c\u628a\u5973\u513f\u62cd\u6210\u5bab\u5d0e\u9a8f\u52a8\u753b",content:"\u65e5\u672c\u4e00\u8001\u7238\u75285000+\u5f20\u7167\u7247\uff0c\u628a\u5973\u513f\u62cd\u6210\u5bab\u5d0e\u9a8f\u52a8\u753b\uff0c\u6bcf\u5929\u4e0a\u4e07\u4eba\u50ac\u4ed6\u6652\u5a03\u628a\u5973\u513f\u62cd\u6210\u5bab\u5d0e\u9a8f\u52a8\u753b\uff0c\u6bcf\u5929\u4e0a\u4e07\u4eba\u50ac\u4ed6\u6652\u5a03\uff01\u65e5\u672c\u4e00\u8001\u7238\u75285000+\u5f20\u7167\u7247\uff0c\u628a\u5973\u513f\u62cd\u6210\u5bab\u5d0e\u9a8f\u52a8\u753b\uff0c\u6bcf\u5929\u4e0a\u4e07\u4eba\u50ac\u4ed6\u6652\u5a03\u628a\u5973\u513f\u62cd\u6210\u5bab\u5d0e\u9a8f\u52a8\u753b\uff0c\u6bcf\u5929\u4e0a\u4e07\u4eba\u50ac\u4ed6\u6652\u5a03\uff01",coverUrls:[],articleUrl:"/group/6925507697294967309/",userInfo:{name:"\u65b0\u534e\u7f51\u5ba2\u6237\u7aef",userId:"",userSecToken:""},commentCount:123456,timestamp:1612703779};return a.a.createElement("div",{className:"feed-card-wenda-wrapper"},a.a.createElement(G,{data:t}))};var K=Q;var Y=n("91ccd34fe1d322fa1c32");var Z=n("da718d76f9b51529dd59");var J=n("be6323750fae7868d676");var X=n("54b2d6dda1f17486c719");var $=function e(t){var n=t.data,r=t.onRefresh;function i(){r();var e=document.querySelector(".ttp-feed-module");if(e){var t=e.getBoundingClientRect();var n=t.top;if(n>-39)return}X["a"].emit.scrollToTop()}return a.a.createElement("div",{className:"feed-card-refresh-wrapper"},a.a.createElement("button",{type:"button",className:"inner-tips",onClick:i},Object(J["k"])(n.behot_time),"\u770b\u5230\u8fd9\u91cc\uff0c\u70b9\u51fb\u5237\u65b0"))};var ee=$;var te=n("60ea5d854a4999bbf092");var ne=n("2422758950d9f66b7423");var re=n("d4449abe3d2ba6591a15");var ae=n("78e411ccf7a9a0caceb3");var ie=function e(t){var n=t.data,i=t.logParams,o=t.onClickToDetail;var c=Object(r["useState"])(false),u=w()(c,2),l=u[0],f=u[1];var s=Object(ae["b"])(n);function d(){f(true);o()}return a.a.createElement(x["a"],{cell:n},a.a.createElement(C["a"],{className:E()("feed-card-article-multi-item",{visited:l}),data:n,logInfo:s,logParams:i,onDislike:J["c"],onClickToDetail:d,onDislikeClick:J["c"],footer:a.a.createElement(W["a"],{leftTools:[a.a.createElement(z["b"],{key:"comment",inside:0===n.articleType,commentCount:n.commentCount,articleUrl:n.articleUrl,logInfo:s,onClickToDetail:d}),a.a.createElement(z["g"],{key:"time",timestamp:n.timestamp})]})}))};var oe=function e(t){var n=t.data,i=t.logParams,o=t.onDislike,c=t.onClickToDetail,u=t.onDislikeClick,l=t.onMoreClick;var f=n[0];var s=n.slice(2).length;var d=Object(r["useState"])(n.slice(0,2)),v=w()(d,2),m=v[0],p=v[1];var b=Object(r["useRef"])(null);function h(){l();p(n)}function g(e){e.stopPropagation();var t=e.keyCode;if(13===t||32===t){e.preventDefault();h();setTimeout((function(){var e,t;var n=[].slice.call((null===(e=b.current)||void 0===e?void 0:e.childNodes)||[])[2];var r=Object(J["m"])(n);null===(t=r[0])||void 0===t?void 0:t.focus()}))}}return a.a.createElement("div",{className:"feed-card-article-multi"},a.a.createElement("div",{className:"feed-card-article-multi-header"},a.a.createElement(re["a"],{userInfo:f.userInfo,source:f.source,sourceAvatar:f.sourceAvatar,logInfo:i}),a.a.createElement(z["c"],{data:{itemId:f.id,groupId:f.id,filterWords:f.filterWords,source:ne["g"].ARTICLE},disableReport:true,onDislike:o,onDislikeClick:u})),a.a.createElement("div",{ref:b},m.map((function(e){return a.a.createElement(ie,{key:e.groupId,data:e,logParams:i,onClickToDetail:function t(){return c(e.groupId)}})}))),!!s&&m.length<n.length&&a.a.createElement("div",{className:"rest",tabIndex:0,role:"button",onClick:h,onKeyDown:g},"\u5c55\u5f00\u4f59\u4e0b",s,"\u7bc7"))};var ce=oe;function ue(e,t){var n=h()(e);if(p.a){var r=p()(e);if(t)r=r.filter((function(t){return v()(e,t).enumerable}));n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)ue(Object(n),true).forEach((function(t){_()(e,t,n[t])}));else if(s.a)l()(e,s()(n));else ue(Object(n)).forEach((function(t){c()(e,t,v()(n,t))}))}return e}function fe(e){if(102===e.cell_type)return e.sub_items||[];return[e]}function se(e,t){var n;if(102===e.cell_type){var r;return null===(r=e.filter_words)||void 0===r?void 0:r.filter_words}return null===(n=t.filter_words)||void 0===n?void 0:n.filter_words}var de=function e(t){var n=t.cell,o=t.logParams,c=t.onDislike,u=t.onItemClick,l=t.onLikeChange;var f=Object(r["useContext"])(R["a"]);var s=fe(n).map((function(e){return{groupId:e.group_id,itemId:e.item_id,articleType:e.article_type,title:e.title,coverUrls:e.__cover_urls||Object(i["f"])(e),articleUrl:Object(i["g"])(e,"article"),userInfo:e.__user_info||Object(i["k"])(e),source:e.source,sourceAvatar:e.source_avatar,commentCount:e.comment_count,userDigg:e.user_digg,likeCount:e.digg_count,timestamp:e.publish_time,isStick:n.is_stick,stickIndex:n.__stick_index,stickStyle:n.stick_style,filterWords:se(n,e),subItems:e.sub_items,id:n.id,mediaInfo:Object(i["i"])(n),group_id:e.group_id,group_source:e.group_source,cell_type:n.cell_type,log_pb:n.log_pb,__channel_id:n.__channel_id,__channel_info:n.__channel_info,__type:n.__type,__log_enter_from:n.__log_enter_from,__log_impr_type:n.__log_impr_type,__log_category_name:n.__log_category_name,__log_show_rank:n.__log_show_rank,__log_section:n.__log_section}}));var d={position:o.position,article_type:"text"};function v(e){c(le(le({},n),{},{dislikeType:e}));Object(O["m"])(s[0],le(le({},d),{},{dislike_type:e,content_type:"mix"}))}function m(e){var t;var r=s.filter((function(t){return t.group_id===e}))[0];null===u||void 0===u?void 0:u();Object(O["c"])(le(le({area:n.__log_area||("all"===(null===(t=n.__channel_info)||void 0===t?void 0:t.key)?"feed":"category"),gid:r.group_id,href:r.articleUrl},o),{},{enter_from:Object(O["i"])(r),category_name:Object(O["h"])(r),is_top_content:"0",section:"feed",group_source:r.group_source,article_type:"text",group_id:r.group_id,show_rank:r.__log_show_rank}))}function p(){var e;Object(O["f"])(s[0],le(le({},d),{},{is_following:(null===(e=s[0].userInfo)||void 0===e?void 0:e.follow)?"1":"0"}))}function b(e){l(n,e);if(1===e)Object(O["o"])(n,f,d);else Object(O["r"])(n,f,d)}function h(e){Object(O["p"])(n,f,le(le({},d),{},{share_platform:e}))}function g(e){Object(O["s"])(n,le(le({},d),{},{action_type:e}))}function _(){Object(O["x"])(n,d)}function y(){Object(O["e"])(n)}if(!s.length)return null;return a.a.createElement("div",{className:"feed-card-wrapper feed-card-article-wrapper"},s.length>1?a.a.createElement(ce,{data:s,logParams:o,onDislike:v,onClickToDetail:m,onDislikeClick:p,onMoreClick:y}):a.a.createElement(ae["a"],{data:s[0],logParams:le(le({},o),{},{enter_from:Object(O["i"])(n)}),onDislike:v,onClickToDetail:function e(){return m(s[0].groupId)},onDislikeClick:p,onShare:h,onLikeChange:b,onShareAction:g,onWttSubmit:_}))};var ve=de;var me=function e(t){var n=t.list,r=t.logParams,o=t.onSubscribe,c=t.onDislike,u=t.onRefresh,l=t.onLikeChange,f=t.onItemClick;function s(e){var t=e.group_id;switch(e.__type){case i["a"].ARTICLE:var n=e.__channel_id===D["a"].get().follow.channelId?ve:N;return a.a.createElement(n,{key:t,cell:e,logParams:r,onDislike:c,onItemClick:f,onLikeChange:l});case i["a"].WTT:return a.a.createElement(V,{key:t,cell:e,logParams:r,onSubscribe:o,onDislike:c,onLikeChange:l,onItemClick:f});case i["a"].VIDEO:return a.a.createElement(Y["a"],{key:t,cell:e,logParams:r,onDislike:c,onItemClick:f,onLikeChange:l});case i["a"].REFRESH:return a.a.createElement(ee,{key:"refresh",data:e,onRefresh:function e(){return u("click_refresh_card")}});default:return null}}return a.a.createElement(a.a.Fragment,null,n.map((function(e){return s(e)})))};var pe=t["a"]=me},b201cefb7d33145ac7ad:function(e,t,n){"use strict";n.r(t);n.d(t,"cancelRequest",(function(){return c}));n.d(t,"isCancel",(function(){return u}));n.d(t,"getSearchSug",(function(){return l}));n.d(t,"getHotWord",(function(){return f}));var r=n("214eccfc06814c553a3c");var a=n.n(r);var i=n("167789bd516d2baf7295");var o=n("a99d8596674b8a971a00");var c=null;var u=function e(t){return a.a.isCancel(t)};function l(e){return o["a"].get("/2/article/search_sug/",{params:{keyword:e,ps_type:"sug",aid:4916},cancelToken:new a.a.CancelToken((function(e){c=e}))})}function f(){var e="https://tsearch.snssdk.com/search/suggest/hot_words/";if(i["e"]||i["a"])e="/search/suggest/hot_words/";return o["a"].get(e)}},b3d627bf45117b33693e:function(e,t,n){e.exports=n.p+"svgs/article_icon.c91fb7e0.svg"},b47836c813468e99d194:function(e,t,n){},b4d0aca2d3771c85657d:function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("174811872339f1d02c40");var o=n.n(i);var c=n("89b38c63c8b1758f68ac");var u=n.n(c);function l(e){return null===e||void 0===e?void 0:e.clientWidth}var f=function e(t){var n=t.children,i=t.visible,c=t.transformOrigin,u=void 0===c?"center":c,f=t.transform,s=void 0===f?"":f;var d=Object(r["useRef"])(null);var v=Object(r["useRef"])(-1);Object(r["useEffect"])((function(){if(d.current)d.current.style.transformOrigin=u}),[]);function m(){if(d.current){clearTimeout(v.current);d.current.classList.add("popup-show");d.current.classList.remove("popup-hide");l(d.current);d.current.classList.add("popup-anime-show");d.current.classList.remove("popup-anime-hide");d.current.style.transform="".concat(s," scale(1)")}}function p(){if(d.current){d.current.classList.add("popup-anime-hide");d.current.classList.remove("popup-anime-show");d.current.style.transform="".concat(s," scale(0.8)")}v.current=window.setTimeout((function(){var e,t;null===(e=d.current)||void 0===e?void 0:e.classList.add("popup-hide");null===(t=d.current)||void 0===t?void 0:t.classList.remove("popup-show")}),400)}Object(r["useEffect"])((function(){if(i){if(d.current)m()}else p()}),[i]);return a.a.cloneElement(n,{ref:d,className:o()(n.props.className,"ttp-popup-container"),style:{transform:"".concat(s," scale(0.8)")}})};t["a"]=f},b6051f0fa8998ea16e97:function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("174811872339f1d02c40");var o=n.n(i);var c=n("93fd3eb7060d3a0ca436");var u=n("20c6f2e62cf94b7db59c");var l=n("be6323750fae7868d676");var f=n("2422758950d9f66b7423");var s=n("988714ff9eba2503d80f");var d=n("42d4f6648edde20f9953");var v=n("0e07c12661fbe9d3d4af");var m=n("b65c96faf0c123cf88e4");var p=n("4367ed43a6bb5319d01d");var b=n.n(p);var h=n("ac1c7ccad675d280253b");var g=n.n(h);var _=n("028f84ba6d27e52aa246");var y=n("663529bce6ee6d8996f5");var w=n("7009f854fb449fc1b23d");var k=n("a5b25f8e99db71c1fcf2");var E=n("d84b833f284337beaf9b");var j=function e(t){var n=t.userInfo,i=t.onSubscribe;var c=Object(r["useRef"])(false);var u=Object(r["useContext"])(w["a"]);function l(){return f.apply(this,arguments)}function f(){f=g()(b.a.mark((function e(){var t,r,a,o,l;return b.a.wrap((function e(f){while(1)switch(f.prev=f.next){case 0:if(!c.current){f.next=2;break}return f.abrupt("return");case 2:if(Object(k["a"])(u)){f.next=4;break}return f.abrupt("return");case 4:t=!n.isFollow;f.prev=5;l=null;c.current=true;if(!t){f.next=14;break}f.next=11;return y["a"].relation.followUser(n.userSecToken);case 11:l=f.sent;f.next=17;break;case 14:f.next=16;return y["a"].relation.unfollowUser(n.userSecToken);case 16:l=f.sent;case 17:if(!("success"===(null===(r=l)||void 0===r?void 0:r.data.message))){f.next=20;break}i(t);return f.abrupt("return");case 20:if(!(null===(a=l)||void 0===a?void 0:a.data.message.includes("\u9ed1\u540d\u5355"))){f.next=23;break}E["a"].info("\u60a8\u5df2\u62c9\u9ed1\u5bf9\u65b9\uff0c\u8bf7\u5148\u5728app\u7aef\u9690\u79c1\u8bbe\u7f6e\u4e2d\u53d6\u6d88\u62c9\u9ed1");return f.abrupt("return");case 23:throw new Error(null===(o=l)||void 0===o?void 0:o.message);case 26:f.prev=26;f.t0=f["catch"](5);E["a"].info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");void 0;case 30:f.prev=30;c.current=false;return f.finish(30);case 33:case"end":return f.stop()}}),e,null,[[5,26,30,33]])})));return f.apply(this,arguments)}function s(e){var t=e.keyCode;if(32===t||13===t){e.preventDefault();l()}}return a.a.createElement("div",{tabIndex:0,role:"button","aria-label":n.isFollow?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8",className:o()("feed-card-subscribe-cmp",{followed:n.isFollow}),onClick:l,onKeyDown:s},a.a.createElement("i",null),a.a.createElement("span",null,n.isFollow?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"))};var O=j;var x=n("5616f33a71e39794ee3e");var C=n("546ca7f10f62589ab9f4");var I=n("38c58096afa111fcdfd2");var S=function e(t){var n,i,p,b,h,g,_,y,w,k,E;var j=t.data,S=t.logInfo,T=t.footer,N=t.origin,L=t.disableSubscribe,R=t.hideAuthInfo,A=t.onDislike,D=t.onSubscribe,P=t.onLikeChange,U=t.onClickToDetail,M=t.onShare,F=t.onDislikeClick,V=t.onShareAction,H=t.onWttSubmit;var B=j.userInfo.userSecToken?"/c/user/token/".concat(j.userInfo.userSecToken,"/?source=").concat(null===S||void 0===S?void 0:S.page_name):"";var W=(null===(n=j.coverUrls)||void 0===n?void 0:n.length)||0;var z=(null===(i=j.coverUrls)||void 0===i?void 0:i.slice(0,4))||[];var q=Object(r["useMemo"])((function(){return Object(c["a"])(Object(l["d"])(j.content))}),[j.content]);var G=R&&Object(d["b"])(j.userInfo.userAuthInfo.auth_type);function Q(e){e.preventDefault();if(B){var t=Object(u["b"])(B,{section:"detail"===S.position?"detail_related":"feed",position:S.position,enter_from:S.enter_from});window.open(t)}}return a.a.createElement("div",{className:o()("feed-card-wtt",{"single-cover":W>0&&W<4,"multi-covers":W>3,"origin-cover":j.originGroup||j.originThread||j.originUgcVideo})},a.a.createElement("div",{className:"feed-card-wtt-r"},a.a.createElement(m["a"],{cover:null===(p=j.coverUrls)||void 0===p?void 0:p[0],articleUrl:j.articleUrl,number:W>1?W:0,numberDirection:"bottom",logInfo:S,onClickToDetail:U})),a.a.createElement("div",{className:"feed-card-wtt-l"},a.a.createElement("div",{className:o()("feed-card-wtt-header",{"padding-r":j.showSubscribe})},a.a.createElement("div",{className:"feed-card-wtt-user-info"},a.a.createElement("a",{href:B,target:"_blank",rel:"noopener nofollow",title:j.userInfo.name,onClick:Q},a.a.createElement("img",{"aria-hidden":true,src:j.userInfo.avatarUrl}),a.a.createElement("span",null,j.userInfo.name))),a.a.createElement(d["a"],{size:16,userAuthInfo:null===(b=j.userInfo)||void 0===b?void 0:b.userAuthInfo}),a.a.createElement("div",{className:"time"},Object(l["k"])(j.timestamp)),!L&&!j.showSubscribe&&(null===(h=j.userInfo)||void 0===h?void 0:h.isFollow)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"dot"},"\xb7"),a.a.createElement("div",{className:"text"},"\u5df2\u5173\u6ce8")),!G&&(null===(g=j.userInfo)||void 0===g?void 0:null===(_=g.userAuthInfo)||void 0===_?void 0:_.auth_info)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"dot"},"\xb7"),a.a.createElement("div",{className:"user-auth-desc",title:null===(y=j.userInfo)||void 0===y?void 0:null===(w=y.userAuthInfo)||void 0===w?void 0:w.auth_info},null===(k=j.userInfo)||void 0===k?void 0:null===(E=k.userAuthInfo)||void 0===E?void 0:E.auth_info)),!L&&j.showSubscribe&&a.a.createElement("div",{className:"subscribe-wrapper"},a.a.createElement(O,{userInfo:j.userInfo,onSubscribe:D}))),a.a.createElement("p",{className:"content"},a.a.createElement(I["a"],{href:j.articleUrl,target:"_blank",rel:"noopener",logInfo:S,onClick:U,dangerouslySetInnerHTML:{__html:q||"[\u65e0\u6587\u5b57]"}},null))),W>3&&a.a.createElement("ul",{className:"covers-list"},z.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement(m["a"],{cover:e,articleUrl:j.articleUrl,number:t===z.length-1&&W>4?W-4:0,numberDirection:"middle",logInfo:S,onClickToDetail:U}))}))),N||a.a.createElement(v["a"],{commentType:j.commentType,originGroup:j.originGroup,originThread:j.originThread,originUgcVideo:j.originUgcVideo,originCommonContent:j.originCommonContent,logInfo:S}),a.a.createElement("div",{className:"feed-card-wtt-footer"},T||a.a.createElement(x["a"],{leftTools:[a.a.createElement(C["e"],{key:"share",data:j,wttRepostParams:{fw_id_type:2,opt_id_type:2,repost_type:212},onSuccess:M,onShareAction:V,onWttSubmit:H}),a.a.createElement(C["b"],{key:"comment",styleType:"2",commentCount:j.commentCount,articleUrl:j.articleUrl,logInfo:S,onClickToDetail:U}),a.a.createElement(C["d"],{key:"like",groupId:j.groupId,likeCount:j.likeCount,isLiked:!!j.userDigg,diggType:j.subType===s["a"].UGC?f["c"].WTT:f["c"].COMMENT,onLikeChange:P})],rightTools:[a.a.createElement(C["c"],{key:"dislike",data:{itemId:j.itemId,groupId:j.groupId,filterWords:j.filterWords||[],source:f["g"].WTT},onDislike:A,onDislikeClick:F})]})))};var T=t["a"]=S},b65c96faf0c123cf88e4:function(e,t,n){"use strict";var r=n("b15d7f08aae7868a2784");var a=n.n(r);var i=n("69084d01d3449fc1bc27");var o=n.n(i);var c=n("174811872339f1d02c40");var u=n.n(c);var l=n("1b6e0af22b27be14137b");var f=n("a0833d654de0f1e77a8a");var s=n.n(f);var d=["p3.toutiaoimg.com","p6.toutiaoimg.com","p9.toutiaoimg.com"];function v(e,t){if(!e||!t)return e;var n=e.split("?");var r=n[0].replace(/\.[a-z]*$/,"");var a=r+t;if(n[1])a+="?".concat(n[1]);return a}function m(e){var t=e&&s()(e)||[].concat(d);return function(e){var n;if(!e)return e;var r=null===(n=e.match(/\/\/(.+com)\//))||void 0===n?void 0:n[1];var a=t.shift();if(r&&a)return e.replace(r,a);return e}}var p=n("38c58096afa111fcdfd2");var b=function e(t){var n=Object(i["useRef"])(null);var r=Object(i["useRef"])(0);var c=Object(i["useRef"])(m());var l=Object(i["useMemo"])((function(){var e;var n=t.cover;if(!n)return n;var r=null===(e=n.match(/\/\/(.+com)\//))||void 0===e?void 0:e[1];if("p26.toutiaoimg.com"===r)n=n.replace(r,"p3.toutiaoimg.com");return n}),[t.cover]);var f=Object(i["useCallback"])((function(e,t){var n,i;if(r.current>=3||!l)return;var o=t||(null===e||void 0===e?void 0:e.target);var u=v(l,".jpg");u=c.current(u);o.src=u;r.current+=1;null===(n=(i=window).Slardar)||void 0===n?void 0:n.call(i,"emit","log",{value:a()({name:"load_feed_cover_error",origin:l,retry:u,retryCount:r.current}),level:"error"})}),[l]);Object(i["useEffect"])((function(){if(!n.current)return;if(r.current>0)return;if(n.current.complete&&!n.current.naturalWidth)f(null,n.current)}),[f]);if(!l)return null;return o.a.createElement("div",{className:"feed-card-cover"},o.a.createElement(p["a"],{href:t.articleUrl,target:"_blank",rel:"noopener",logInfo:t.logInfo,onClick:t.onClickToDetail,title:t.desc,"aria-hidden":!t.desc,tabIndex:t.desc?0:-1,jumpQuery:t.jumpQuery},o.a.createElement("img",{ref:n,src:l,alt:t.alt||"",onError:f})),!!t.number&&o.a.createElement("div",{className:u()("cover-num",{middle:"middle"===t.numberDirection})},o.a.createElement("div",{className:"num"},"middle"===t.numberDirection&&"+",o.a.createElement("span",null,t.number,"bottom"===t.numberDirection&&o.a.createElement(o.a.Fragment,null,"\xa0")),"bottom"===t.numberDirection&&"\u56fe")))};var h=t["a"]=b},b6f62385568b426907ed:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABCBAMAAAAGWI0SAAAAJ1BMVEVHcEzvQEDwQULwQELxQEHwQUHvQEDwQUHvQEDwQUHwQUHwQELwQUJ3RBxpAAAADHRSTlMAI9+FW7kQ70Cgz2+lx2XXAAABmElEQVRIx7WWsU7DMBCGbWgLtAyoC0IwMCEhZWBjYQhCYmJA6oY65AEYgJmhG0Ji4AG6sDPwAF1IWkrTeyjsNCT22ecLA//SKvrknO/+u4sQpuTxSLDqQRqzUBcg3eGgAwDIOGisIHgNMzLSUJ4EoXUA/qj+CgpHdbaCIJQsWTJwFIDWfqGswdtgnvBvAzjh7qZ1R0LDGvpmMhmOfGJAKR+2UnG9OBS2kjaVdCrdiSwoLoLEld4CB+o78U9cSBXgIxB2AelH97gDLCmztNXPzIKuEJSU5bayYN8NciFajrNa6KCFEE/Fn6XPblWBe9WRlV4QdNgZunYfI+j81GM/FDdEHvvhVBr6JC9naOk1JVJd4zYNzcg0eY28QUPzCtqmIfgHqFHgXRrK/5anRhkP1G5aty8NfXlHE9I12b+olUvdkpCxs8gcLIxu2eTdG4jcmlC7fEhkzjNyiJudbEPe9+GlLdm7+caYM8IIJ0wFM+11N42ofW/ojVtT9Kbas8xNfbM8Gwy99vffS2YQ+hSRFzeP8DC4tJ/+ADFNuYdM8+umAAAAAElFTkSuQmCC"},b9e2ac6f626cdcc37066:function(e,t,n){"use strict";var r=n("f4095745be08d782d539");var a=n("d2cc329ce222e2406492");var i=n("352fe4c99a6fff2f363c");var o=n("056606c89293aa5bef85");var c=n("f9c528707353f5b6df95");var u=n("fa2a44115ff2bd1a0d71");var l=n("514e048378a284fc2dcd");var f=n("4fa4ba9dede71d4f591e");var s=n("a2b92cfef2eaa695ad2f");var d=n("2810e53ad7174f3c046d");var v=n("93d7a148460d9069f5a3");var m=n("69084d01d3449fc1bc27");var p=n.n(m);var b=n("96ef8f9d6deb54673902");var h=n("abbf799a026c91d8612e");var g=n("98ad94a9d064c7351e07");var _=n("20c6f2e62cf94b7db59c");var y=n("3932ea183dfbf8496e71");var w=n("bd8ea4fd9e1bc4efca14");function k(e,t,n){if(!e)return[];var r=e.map((function(e,t){return Object.assign(Object.assign({},e),{rank:t+1})}));if(!(null===t||void 0===t?void 0:t.length))return r;var a=t.map((function(e){return{Url:e.Url,Title:e.Title,ClusterIdStr:Object(w["b"])("groupid",e.Schema.split("?")[1]),rank:0}}));if("0"===n)return a.concat(r);if("1"===n){var i=Math.floor(Math.random()*t.length);r.unshift(a[i]);return r}return r}function E(e,t,n,r){var a=r;var i=window.innerHeight>=750;if(i&&0===n)a+=t;var o=e.slice(n,n+a);if(o.length<5)return E(e,t,0,r);return{list:o,offset:n+a>=e.length?0:n+a}}function j(e){return e.map((function(e){return{id:e.ClusterIdStr,url:e.Url,title:e.Title,label:e.Label,labelDesc:e.LabelDesc,rank:e.rank}}))}function O(e,t,n,r,a){var i=k(e,t,n);var o=E(i,i.length-e.length,r,a);return{offsetList:j(o.list),offsetNum:o.offset}}var x=n("174811872339f1d02c40");var C=n.n(x);var I=function e(t){var n=t.title,r=t.loading,a=t.onClick;return p.a.createElement("div",{className:"title-bar"},p.a.createElement("h2",{className:"title"},n),p.a.createElement("button",{type:"button",className:C()("refresh",{loading:r}),onClick:a},"\u6362\u4e00\u6362"))};var S=I;var T=n("4948fbe5c6d0ea899cb0");function N(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){N(i,r,a,o,c,"next",e)}function c(e){N(i,r,a,o,c,"throw",e)}o(void 0)}))}}function R(e,t){return M(e)||U(e,t)||D(e,t)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}function P(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function M(e){if(Array.isArray(e))return e}var F=Object(m["forwardRef"])((function(e,t){var n=e||{},r=n.count,a=void 0===r?10:r,i=n.logParams,o=n.onClickItem,c=n.onSuccess,u=n.onEnd;var l=Object(m["useRef"])(null);var f=Object(m["useRef"])(false);var s=Object(m["useRef"])(0);var d=Object(m["useState"])([]),v=R(d,2),b=v[0],y=v[1];var w=Object(m["useState"])(false),k=R(w,2),E=k[0],j=k[1];function x(e){Object(g["a"])("category_refresh",Object.assign(Object.assign({},i),{section:"hot_spot",reload_type:"change",is_null:e}))}function C(e,t){return I.apply(this,arguments)}function I(){I=L(regeneratorRuntime.mark((function e(t,n){var r,i,o,l,d,v;return regeneratorRuntime.wrap((function e(m){while(1)switch(m.prev=m.next){case 0:if(!f.current){m.next=2;break}return m.abrupt("return");case 2:f.current=true;j(true);m.prev=4;m.next=7;return h["a"].hotboard.getHotBoard();case 7:r=m.sent;i=r.data;if("success"===i.status){o=void 0===t?s.current:t;l=O(i.data,i.fixed_top_data,i.fixed_top_style,o,a),d=l.offsetList,v=l.offsetNum;y(d);s.current=v;null===c||void 0===c?void 0:c()}if("change"===n)x(0);m.next=17;break;case 13:m.prev=13;m.t0=m["catch"](4);void 0;if("change"===n)x(1);case 17:m.prev=17;null===u||void 0===u?void 0:u();f.current=false;j(false);return m.finish(17);case 22:case"end":return m.stop()}}),e,null,[[4,13,17,22]])})));return I.apply(this,arguments)}Object(m["useEffect"])((function(){C()}),[]);Object(m["useImperativeHandle"])(t,(function(){return{dom:l.current,refresh:function e(){C(0)}}}));function N(e){Object(g["a"])("detail_page_widget_click",{group_id:i.from_gid||"",widget_name:"hot_board_card",from_position:e})}function A(){C(void 0,"change");N("change")}function D(e,t){Object(g["a"])("content_click",Object.assign(Object.assign({},i),{area:"toutiao_hot",gid:e.id,href:e.url,show_rank:e.rank||0,section:"hot_spot",group_id:e.id,is_top_content:0===e.rank?"1":"0"}));N("list");null===o||void 0===o?void 0:o(e);if(0===e.rank){t.preventDefault();var n=Object(_["b"])(e.url,Object.assign(Object.assign({},i),{show_rank:e.rank||0,is_top_content:0===e.rank?"1":"0"}));window.open(n)}}function P(e){var t=Object(_["a"])()||{},n=t.enter_from,r=void 0===n?"":n,a=t.category_name,o=void 0===a?"":a;Object(g["a"])("client_show",Object.assign(Object.assign({category_name:o,enter_from:r},i),{show_rank:e.rank||0,section:"hot_spot",group_id:e.id,is_top_content:0===e.rank?"1":"0"}))}return p.a.createElement("div",{className:"ttp-hot-board",ref:l},p.a.createElement(S,{title:"\u5934\u6761\u70ed\u699c",loading:E,onClick:A}),p.a.createElement("ol",null,b.map((function(e){return p.a.createElement(T["a"],{onVisible:function t(n){return n&&P(e)},once:true,key:e.id},p.a.createElement("li",null,p.a.createElement("a",{"aria-label":"".concat(e.title,"\uff0c").concat(e.labelDesc||""),className:"article-item",href:e.url,target:"_blank",rel:"noopener nofollow",onClick:function t(n){return D(e,n)}},0===e.rank&&p.a.createElement("i",{className:"icon-stick"}),0!==e.rank&&p.a.createElement("span",{className:"news-index num-".concat(e.rank)},e.rank),p.a.createElement("p",{className:"news-title",title:e.title},e.title),e.label&&p.a.createElement("i",{className:"news-icon ".concat(e.label)}))))}))))}));F.defaultProps={count:10};var V=t["a"]=F},ba5c9f6f094cd420b97f:function(e,t,n){"use strict";var r=n("b400c18478ff55657723");var a=n.n(r);var i=n("69084d01d3449fc1bc27");var o=n.n(i);var c=n("174811872339f1d02c40");var u=n.n(c);var l=n("2cfd2ca28fcaddaf4ef6");var f=n.n(l);var s=n("19e1e56018f7274819f9");var d=n.n(s);var v={hotList:{imgUrl:n("b6f62385568b426907ed"),title:"\u5934\u6761\u70ed\u699c"},hotVideo:{imgUrl:n("1f905cf4bd7dbd1c2573"),title:"\u70ed\u95e8\u89c6\u9891"}};var m=function e(t){var n=t.type,r=t.className,c=t.title,l=t.right,f=t.onClick;var s=v[n]||{},m=s.imgUrl,p=s.title;var b=Object(i["useState"])(0),h=a()(b,2),g=h[0],_=h[1];var y=function e(){_(g+180);null===f||void 0===f?void 0:f()};var w=o.a.createElement("button",{type:"button",className:"right","aria-label":"\u6362\u4e00\u6362".concat(c||p),onClick:y},o.a.createElement("img",{src:d.a,style:{transform:"rotate(".concat(g,"deg)")},alt:""}),o.a.createElement("span",null,"\u6362\u4e00\u6362"));return o.a.createElement("div",{className:u()("pane-header",r)},o.a.createElement("h2",{className:"header"},o.a.createElement("img",{src:m,alt:c}),c||p),l?l:w)};t["a"]=m},bd59e351304c36b262a0:function(e,t,n){},bd8ea4fd9e1bc4efca14:function(e,t,n){"use strict";n.d(t,"e",(function(){return B}));n.d(t,"b",(function(){return W}));n.d(t,"c",(function(){return q}));n.d(t,"d",(function(){return G}));n.d(t,"a",(function(){return K}));var r=n("056606c89293aa5bef85");var a=n.n(r);var i=n("f9c528707353f5b6df95");var o=n.n(i);var c=n("d2cc329ce222e2406492");var u=n.n(c);var l=n("352fe4c99a6fff2f363c");var f=n.n(l);var s=n("4fa4ba9dede71d4f591e");var d=n.n(s);var v=n("a2b92cfef2eaa695ad2f");var m=n.n(v);var p=n("93d7a148460d9069f5a3");var b=n.n(p);var h=n("514e048378a284fc2dcd");var g=n.n(h);var _=n("5f3cfa39f909ef854538");var y=n.n(_);var w=n("fa2a44115ff2bd1a0d71");var k=n.n(w);var E=n("5a1a865b1553fc84c0ed");var j=n.n(E);var O=n("195c70dfe6078b3eff76");var x=n.n(O);var C=n("cdb71740c9275bd99b2e");var I=n.n(C);var S=n("3932ea183dfbf8496e71");var T=n.n(S);var N=n("0b745d6dadd3c3037485");var L=n.n(N);function R(e,t){return H(e)||A(e,t)||M(e,t)||U()}function A(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function D(e){"@babel/helpers - typeof";if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator)D=function e(t){return typeof t};else D=function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return D(e)}function P(e){return H(e)||V(e)||M(e)||U()}function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}function F(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function H(e){if(Array.isArray(e))return e}function B(e,t){var n=0;var r;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var c=Date.now();if(c-n>=t){e.apply(void 0,i);n=c}else{clearTimeout(r);r=setTimeout((function(){n=c;e.apply(void 0,i)}),t)}}}function W(e,t){if(void 0===t)t="undefined"!==typeof window?window.location&&window.location.search.substr(1):"";var n={};t&&t.split("&").forEach((function(e){if(""===e)return;var t=e.split("="),r=P(t),a=r[0],i=r.slice(1);var o=decodeURIComponent(a);var c=decodeURIComponent(i.join("="));if(o.match(/\[\]$/)){var u=o.replace(/\[\]$/,"");if(n[u]&&n[u]instanceof Array)n[u].push(c);else n[u]=[c]}else n[o]=c}));return e?n[e]:n}function z(e,t){var n=[];var r=function r(){var o=i[a];var c=e[o];if(null!==c&&void 0!==c)if("object"===D(c))if(t&&c instanceof Array&&c.every((function(e){return"object"!==D(e)})))c.forEach((function(e){n.push("".concat(encodeURIComponent(o),"[]=").concat(encodeURIComponent(e)))}));else n.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(JSON.stringify(c))));else n.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(c)))};for(var a=0,i=Object.keys(e);a<i.length;a++)r();return n.join("&")}function q(e,t,n){if(void 0===t||0===Object.keys(t).length)return e;var r=e.split("?"),a=R(r,2),i=a[0],o=a[1],c=void 0===o?"":o;var u;if(c){var l=c.split("#");var f=R(l,2);c=f[0];var s=f[1];u=void 0===s?"":s}else{var d=e.split("#");var v=R(d,2);i=v[0];var m=v[1];u=void 0===m?"":m}var p=W(void 0,c);p=Object.assign(p,t);c=z(p,n);c=c&&"?".concat(c);u=u&&"#".concat(u);return"".concat(i).concat(c).concat(u)}function G(e){try{return JSON.parse(e)}catch(t){void 0;return null}}function Q(e,t){if(t<=0)return"".concat(Math.floor(e));var n=Math.pow(10,t);var r="".concat(Math.floor(e*n));return"".concat(r.slice(0,-t),".").concat(r.slice(-t))}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:true;if(t){var r="".concat(e);if(r.indexOf(".")>=0){var a=r.split("."),i=R(a,2),o=i[0],c=i[1];return"".concat(o.replace(/(?=\B(?:\d{3})+$)/g,","),".").concat(c.replace(/\d{3}\B/g,"$&,"))}return r.replace(/(?=\B(?:\d{3})+$)/g,",")}var u;if("number"!==typeof e)e=parseFloat(e)?parseFloat(e):0;if(e<1e4)return"".concat(e);if(e<1e5&&n){u=Q(e/1e4,1);return"0"===u.split(".")[1]?"".concat(u.split(".")[0],"\u4e07"):"".concat(u,"\u4e07")}if(e<1e8)return"".concat(Math.floor(e/1e4),"\u4e07");if(e<1e9&&n){u=Q(e/1e8,1);return"0"===u.split(".")[1]?"".concat(u.split(".")[0],"\u4ebf"):"".concat(u,"\u4ebf")}return"".concat(Math.floor(e/1e8),"\u4ebf")}},be6323750fae7868d676:function(e,t,n){"use strict";n.d(t,"n",(function(){return _}));n.d(t,"g",(function(){return w}));n.d(t,"h",(function(){return k}));n.d(t,"k",(function(){return E}));n.d(t,"s",(function(){return O}));n.d(t,"t",(function(){return x}));n.d(t,"u",(function(){return C}));n.d(t,"i",(function(){return I}));n.d(t,"e",(function(){return S}));n.d(t,"j",(function(){return T}));n.d(t,"b",(function(){return N}));n.d(t,"o",(function(){return L}));n.d(t,"d",(function(){return R}));n.d(t,"p",(function(){return A}));n.d(t,"q",(function(){return D}));n.d(t,"l",(function(){return P}));n.d(t,"c",(function(){return U}));n.d(t,"m",(function(){return M}));n.d(t,"f",(function(){return F}));n.d(t,"r",(function(){return V}));n.d(t,"a",(function(){return B}));var r=n("24ad567240014c38c084");var a=n.n(r);var i=n("a3a1ced60541f1b5c9f6");var o=n.n(i);var c=n("b400c18478ff55657723");var u=n.n(c);var l=n("b15d7f08aae7868a2784");var f=n.n(l);var s=n("94d894fecb5c387f232e");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("2dae468170cb074c18ce");var b=n.n(p);var h=n("c291d2ef8b0fd7e88520");var g=n.n(h);function _(e,t){if(void 0===t)t="undefined"!==typeof window?window.location&&window.location.search.substr(1):"";var n={};t&&t.split("&").forEach((function(e){if(""===e)return;var t=e.split("="),r=g()(t),a=r[0],i=r.slice(1);var o=decodeURIComponent(a);var c=decodeURIComponent(i.join("="));if(o.match(/\[\]$/)){var u=o.replace(/\[\]$/,"");if(n[u]&&n[u]instanceof Array)n[u].push(c);else n[u]=[c]}else n[o]=c}));return e?n[e]:n}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;var n="".concat(e);return Array(Math.abs(n.length-(t+1))).join("0")+e}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM\u6708dd\u65e5 hh:mm:ss";var n=new Date(e);var r=n.getFullYear();var a=n.getMonth()+1;var i=n.getDate();var o=n.getHours();var c=n.getMinutes();var u=n.getSeconds();return t.replace(/Y|y|MM?|dd?|hh?|mm?|ss?/g,(function(e){return{M:"".concat(a),MM:y(a),Y:"".concat(r),d:"".concat(i),dd:y(i),h:"".concat(o),hh:y(o),m:"".concat(c),mm:y(c),s:"".concat(u),ss:y(u),y:"".concat(r%100)}[e]}))}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:false;var n=y(~~(e%60));if(t){var r=y(~~(e/3600));var a=y(~~(e/60)%60);if("00"!==r)return"".concat(r,":").concat(a,":").concat(n)}var i=y(~~(e/60));return"".concat(i,":").concat(n)}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t=b()()/1e3;var n=t-e;var r=60*(new Date).getTimezoneOffset();var a=~~((t-r)/86400);var i=~~((e-r)/86400);var o=1e3*e;if(n<60)return"\u521a\u521a";else if(n<3600)return"".concat(Math.floor(n/60),"\u5206\u949f\u524d");else if(n<3600*24)return"".concat(Math.floor(n/60/60),"\u5c0f\u65f6\u524d");else if(a-i===1)return"\u6628\u5929".concat(w(o,"hh:mm"));else if(a-i===2)return"\u524d\u5929".concat(w(o,"hh:mm"));else if(a-i<=9)return"".concat(a-i,"\u5929\u524d");else{var c=new Date(1e3*t).getFullYear();var u=new Date(1e3*e).getFullYear();if(c===u)return w(o,"MM\u6708dd\u65e5");else return w(o,"Y\u5e74MM\u6708dd\u65e5")}}function j(e,t){var n=[];var r=function r(){var o=i[a];var c=e[o];if(null!==c&&void 0!==c)if("object"===d()(c))if(t&&c instanceof Array&&c.every((function(e){return"object"!==d()(e)})))c.forEach((function(e){n.push("".concat(encodeURIComponent(o),"[]=").concat(encodeURIComponent(e)))}));else n.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(f()(c))));else n.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(c)))};for(var a=0,i=m()(e);a<i.length;a++)r();return n.join("&")}function O(e,t,n){if(void 0===t||0===m()(t).length)return e;var r=e.split("?"),a=u()(r,2),i=a[0],c=a[1],l=void 0===c?"":c;var f;if(l){var s=l.split("#");var d=u()(s,2);l=d[0];var v=d[1];f=void 0===v?"":v}else{var p=e.split("#");var b=u()(p,2);i=b[0];var h=b[1];f=void 0===h?"":h}var g=_(void 0,l);g=o()(g,t);l=j(g,n);l=l&&"?".concat(l);f=f&&"#".concat(f);return"".concat(i).concat(l).concat(f)}function x(e){try{return JSON.parse(e)}catch(t){void 0;return null}}function C(e,t){var n=0;var r;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var c=b()();if(c-n>=t){e.apply(void 0,i);n=c}else{clearTimeout(r);r=setTimeout((function(){n=c;e.apply(void 0,i)}),t)}}}function I(e){if(!e)return"";if(0===e.indexOf("http://"))return e.substr(5);return e}function S(e,t){if(t<=0)return"".concat(Math.floor(e));var n=Math.pow(10,t);var r="".concat(Math.floor(e*n));return"".concat(r.slice(0,-t),".").concat(r.slice(-t))}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:true;if(t){var r="".concat(e);if(r.indexOf(".")>=0){var i=r.split("."),o=u()(i,2),c=o[0],l=o[1];return"".concat(c.replace(/(?=\B(?:\d{3})+$)/g,","),".").concat(l.replace(/\d{3}\B/g,"$&,"))}return r.replace(/(?=\B(?:\d{3})+$)/g,",")}var f;if("number"!==typeof e)e=a()(e)?a()(e):0;if(e<1e4)return"".concat(e);if(e<1e5&&n){f=S(e/1e4,1);return"0"===f.split(".")[1]?"".concat(f.split(".")[0],"\u4e07"):"".concat(f,"\u4e07")}if(e<1e8)return"".concat(Math.floor(e/1e4),"\u4e07");if(e<1e9&&n){f=S(e/1e8,1);return"0"===f.split(".")[1]?"".concat(f.split(".")[0],"\u4ebf"):"".concat(f,"\u4ebf")}return"".concat(Math.floor(e/1e8),"\u4ebf")}function N(e){var t=0;var n=0;var r=e;while(null!==r&&r!==document.body){t+=r.offsetLeft;n+=r.offsetTop;r=r.offsetParent}return{left:t,top:n}}function L(){return Math.floor(b()()/1e3)}function R(e){if(!e||"string"!==typeof e)return e;return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return"";var n=1e3*60*60*24;var r=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"];var a=new Date(1e3*Number(e)+t*n).getDay();return r[a]}function D(e){if(!e)return false;var t=window.innerWidth;var n=window.innerHeight;var r=null===e||void 0===e?void 0:e.getBoundingClientRect(),a=r.top,i=r.left,o=r.height;if(!o)return false;if(a>0&&a<n&&i>0&&i<t)return true;return false}function P(e){if(!e)return"";return e.replace(/^http[s]?:/,"")}function U(){}function M(e){if(!e)return[];return Array.prototype.slice.call(e.querySelectorAll('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])')).filter((function(e){return!e.hasAttribute("disabled")&&!e.getAttribute("aria-hidden")}))}function F(e,t){var n;var r=-1;t.some((function(t,n){if(t===e){r=n;return true}return false}));if(r<0)return;var a=(r+1)%t.length;null===(n=t[a])||void 0===n?void 0:n.focus()}function V(e){if(!e)return false;return(new Date).setHours(0,0,0,0)===new Date(e).setHours(0,0,0,0)}var H=function e(t){return Object.prototype.toString.call(t).slice(8,-1)};function B(e,t){if("object"===d()(e)&&null!==e&&"object"===d()(t)&&null!==t){if(H(e)!==H(t))return false;switch(H(e)){case"Object":var n=m()(e);if(n.length!==m()(t).length)return false;return n.every((function(n){return B(e[n],t[n])}));case"Array":if(e.length!==t.length)return false;return e.every((function(e,n){return B(e,t[n])}));case"RegExp":return e.toString()===t.toString();case"Date":return!(e-t);case"String":case"Boolean":case"Number":return e.valueOf()===t.valueOf();default:return e===t}}return e===t}},c0148195f357fac179f5:function(e,t,n){},c1a4a6788571259bceaa:function(e,t,n){},c1c90d8f2436b65746ff:function(e,t,n){"use strict";var r=n("f4095745be08d782d539");var a=n("fa2a44115ff2bd1a0d71");var i=n("2810e53ad7174f3c046d");var o=n("93d7a148460d9069f5a3");var c=n("214eccfc06814c553a3c");var u=n.n(c);var l=n("626346d0a60969063da7");var f=n.n(l);var s=["/tt-anti-token","/video/urls/v/1/toutiao/mp4/"];var d=["/hot-event/hot-board/","/api/pc/user/follow"];function v(e){if(e)return!s.some((function(t){return e.indexOf(t)>-1}));return true}function m(e){return!d.some((function(t){return e.indexOf(t)>-1}))}function p(e,t){var n,r;var a="".concat(location.protocol,"//").concat(location.host);if(m(e))a+="/toutiao";if(false);var i={url:a+e};if(t.data)i.body=t.data;var o=(null===(r=null===(n=window.byted_acrawler)||void 0===n?void 0:n.sign)||void 0===r?void 0:r.call(n,i))||"";return o}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function g(e,t,n){if(t)h(e.prototype,t);if(n)h(e,n);return e}var _="toutiao_web";function y(e){if(!window.TTGCaptcha){void 0;return}window.TTGCaptcha.render({verify_data:e.verifyData,captchaOptions:{app_name:_,showMode:"mask",successCb:function t(n){var r;null===(r=e.successCb)||void 0===r?void 0:r.call(e,n)},errorCb:function t(n){var r;null===(r=e.errorCb)||void 0===r?void 0:r.call(e,n)},closeCb:function t(){var n;null===(n=e.closeCb)||void 0===n?void 0:n.call(e)}}})}var w=function(){function e(){b(this,e);this.show=false;this.success=false;this.waitVerify=null}g(e,[{key:"verify",value:function e(t){var n=this;this.waitVerify=new Promise((function(e){n.show=true;y({verifyData:t,successCb:function t(){n.show=false;n.success=true;e()},closeCb:function t(){n.show=false;n.success=false;e()}})}));return this.waitVerify}},{key:"waitVerifyFinish",value:function e(){var t=this;return new Promise((function(e){if(!t.waitVerify){e();return}t.waitVerify.then((function(){e()}))}))}}]);return e}();var k=new w;function E(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){E(i,r,a,o,c,"next",e)}function c(e){E(i,r,a,o,c,"throw",e)}o(void 0)}))}}var O=u.a.create({timeout:1e4});O.interceptors.request.use((function(e){if(void 0==="true"&&!/^http/.test(e.url||""))e.url="http://dev.eden.net".concat(e.url);return e}));O.interceptors.request.use((function(e){if("post"===e.method)e.headers=Object.assign(Object.assign({},e.headers),{"X-CSRFToken":f.a.get("csrftoken"),"tt-anti-token":f.a.get("tt_anti_token")});return e}));O.interceptors.request.use((function(e){var t;if(!v(e.url))return e;if(null===(t=e.params)||void 0===t?void 0:t._signature)delete e.params._signature;var n=O.getUri(e);var r=p(n,e);e.params=Object.assign(Object.assign({},e.params),{_signature:r});return e}));O.interceptors.response.use(function(){var e=j(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:r=null===(n=null===t||void 0===t?void 0:t.data)||void 0===n?void 0:n.decision;if(!r){a.next=19;break}if(k.show){a.next=13;break}window.Slardar&&window.Slardar("emit","counter",{name:"show-captcha",value:1,tags:{type:"api"}});a.next=6;return k.verify(r);case 6:if(!k.success){a.next=11;break}window.Slardar&&window.Slardar("emit","counter",{name:"pass-captcha",value:1,tags:{type:"api"}});a.next=10;return O.request(t.config);case 10:return a.abrupt("return",a.sent);case 11:a.next=19;break;case 13:a.next=15;return k.waitVerifyFinish();case 15:if(!k.success){a.next=19;break}a.next=18;return O.request(t.config);case 18:return a.abrupt("return",a.sent);case 19:return a.abrupt("return",t);case 20:case"end":return a.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var x=t["a"]=O},c2e67fcd203473e40384:function(e,t,n){},c3cdc631e8328a3bec0b:function(e,t,n){"use strict";n.d(t,"c",(function(){return c}));n.d(t,"b",(function(){return u}));n.d(t,"a",(function(){return f}));var r=n("2dae468170cb074c18ce");var a=n.n(r);var i=n("a79cb04363dcc4858702");var o=n.n(i);function c(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function u(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}function l(e,t,n,r){var a=n-t;e/=r/2;if(e<1)return a/2*e*e*e+t;return a/2*((e-=2)*e*e+2)+t}function f(e,t){var n=t||{},r=n.container,i=void 0===r?window:r,c=n.callback,u=n.duration,f=void 0===u?450:u;var s=i.scrollY||i.scrollTop;var d=a()();var v=function t(){var n=a()();var r=n-d;var u=l(r>f?f:r,s,e,f);if(i===i.window)i.scrollTo(window.scrollX,u);else if(i instanceof Document)i.documentElement.scrollTop=u;else i.scrollTop=u;if(r<f)o()(t);else if(c)c()};o()(v)}},c9cd1e0339c82648866e:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));n.d(t,"b",(function(){return N}));var r=n("4fa4ba9dede71d4f591e");var a=n.n(r);var i=n("a2b92cfef2eaa695ad2f");var o=n.n(i);var c=n("f9c528707353f5b6df95");var u=n.n(c);var l=n("fa2a44115ff2bd1a0d71");var f=n.n(l);var s=n("0193be145c15b0751246");var d=n.n(s);var v=n("056606c89293aa5bef85");var m=n.n(v);var p=n("93d7a148460d9069f5a3");var b=n.n(p);var h=n("69084d01d3449fc1bc27");var g=n.n(h);function _(e){"@babel/helpers - typeof";if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator)_=function e(t){return typeof t};else _=function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return _(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function k(e,t,n){if(t)w(e.prototype,t);if(n)w(e,n);return e}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)j(e,t)}function j(e,t){j=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return j(e,t)}function O(e){var t=I();return function n(){var r=S(e),a;if(t){var i=S(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return x(this,a)}}function x(e,t){if(t&&("object"===_(t)||"function"===typeof t))return t;return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}var T=function(e){E(n,e);var t=O(n);function n(){y(this,n);return t.apply(this,arguments)}k(n,[{key:"componentDidCatch",value:function e(t,n){var r,a;if(window.Slardar){window.Slardar("captureException",t,Object.assign({type:"ErrorBoundary-catch-error",stackInfo:n.componentStack},this.props.extraReportParams));null===(a=(r=this.props).onError)||void 0===a?void 0:a.call(r,t,n)}}},{key:"render",value:function e(){return this.props.children}}]);return n}(g.a.Component);function N(e,t){var n=function n(r){return g.a.createElement(T,Object.assign({},t),g.a.createElement(e,Object.assign({},r)))};var r=e.displayName||e.name||"Unknown";n.displayName="withErrorBoundary(".concat(r,")");return n}},cb1df0af3c49a4eae849:function(e,t,n){},cee282056923df468c92:function(e,t,n){},d1168368cb87a97d8ea2:function(e,t,n){"use strict";var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);var h=n("b400c18478ff55657723");var g=n.n(h);var _=n("69084d01d3449fc1bc27");var y=n.n(_);var w=n("174811872339f1d02c40");var k=n.n(w);var E=n("e101535ac9d197332c92");var j=n.n(E);var O=n("c3cdc631e8328a3bec0b");var x=n("6cf195ddfada1b0033e1");var C=n("be6323750fae7868d676");var I=n("20c6f2e62cf94b7db59c");var S=n("583766baffb257cbf38f");var T=n("62ea6c1add15eea97123");function N(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)N(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else N(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function R(e,t){var n=e.keyCode;if(32===n||13===n){e.preventDefault();t()}}var A=function e(t){var n=t.logParams,r=t.showHome,a=t.showRefresh,i=t.isFeedbackShow,o=t.refresh,c=t.onFeedbackClick;var u=Object(_["useState"])(false),l=g()(u,2),f=l[0],s=l[1];var d=Object(_["useRef"])(null);var v=Object(_["useRef"])(null);var m=Object(_["useRef"])(-1);var p=Object(_["useRef"])({});function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";var a=Object(I["a"])()||{},i=a.channel_id;Object(x["a"])("function_bar_click",L(L({channel_id:i},n),{},{action_type:t,section:"function_bar",click_type:e},r?{}:{is_top_page:f?"0":"1"}))}function h(){b("feed_page");window.open("//www.toutiao.com","_self")}function w(){b("top");Object(O["a"])(0)}function E(){b("refresh");null===o||void 0===o?void 0:o()}function j(){b("feedback");c()}function N(e){b(e,"hover")}Object(_["useEffect"])((function(){var e=window.innerHeight;var t=Object(C["u"])((function(){var t=Object(O["c"])();if(t>e)s(true);else{if(d.current){d.current.style.display="none";m.current=window.setTimeout((function(){if(d.current)d.current.style.display="inherit"}),350)}s(false)}}),300);window.addEventListener("scroll",t);return function(){return window.removeEventListener("scroll",t)}}),[]);Object(_["useEffect"])((function(){if(!v.current)return;if(i){var e=Object(S["a"])();p.current=Object(T["a"])({paddingRight:"".concat(e,"px")},v.current)}else Object(T["a"])(p.current,v.current)}),[i]);return y.a.createElement("div",{className:"toolbar",ref:v},y.a.createElement("ul",{className:"tool-container",style:f?{transform:"translateY(-52px)"}:{}},r&&y.a.createElement("li",{tabIndex:0,role:"button","aria-label":"\u53bb\u9996\u9875",className:"tool-item home",onClick:h,onMouseEnter:function e(){return N("feed_page")},onKeyDown:function e(t){return R(t,h)}},"\u9996\u9875"),a&&y.a.createElement("li",{tabIndex:0,role:"button","aria-label":"\u5237\u65b0",className:"tool-item refresh",onClick:E,onMouseEnter:function e(){return N("refresh")},onKeyDown:function e(t){return R(t,E)}},"\u5237\u65b0"),y.a.createElement("li",{tabIndex:0,role:"button","aria-label":"\u53cd\u9988",className:"tool-item feedback",onClick:j,onMouseEnter:function e(){return N("feedback")},onKeyDown:function e(t){return R(t,j)}},"\u53cd\u9988"),y.a.createElement("li",{ref:d,tabIndex:0,role:"button","aria-label":"\u56de\u5230\u9876\u90e8",className:k()("tool-item top",{show:f}),onClick:w,onMouseEnter:function e(){return N("top")},onKeyDown:function e(t){return R(t,w)}},"\u9876\u90e8")))};t["a"]=A},d33c2300cbe78d91d36c:function(e,t,n){},d4449abe3d2ba6591a15:function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("20c6f2e62cf94b7db59c");var o=n("e0e7afec53e5c6f0976a");var c=n.n(o);var u=n("be6323750fae7868d676");var l=n("42d4f6648edde20f9953");var f=function e(t){var n,r,o,c;var f=t.userInfo,s=t.source,d=t.sourceAvatar,v=t.timestamp,m=t.logInfo;var p=Object(l["b"])(null===f||void 0===f?void 0:null===(n=f.userAuthInfo)||void 0===n?void 0:n.auth_type);var b="";if(f)b=f.userSecToken?"/c/user/token/".concat(f.userSecToken,"/"):"";function h(e){e.preventDefault();if(""!==b){var t=Object(i["b"])(b,{section:"detail"===m.position?"detail_related":"feed",position:m.position,enter_from:m.enter_from});window.open(t)}}return a.a.createElement("div",{className:"feed-card-media-header"},a.a.createElement("div",{className:"feed-card-user-info"},b&&a.a.createElement("a",{href:b,target:"_blank",rel:"noopener nofollow",title:null===f||void 0===f?void 0:f.name,onClick:h},a.a.createElement("img",{"aria-hidden":true,src:null===f||void 0===f?void 0:f.avatarUrl}),a.a.createElement("span",null,null===f||void 0===f?void 0:f.name)),!b&&a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{"aria-hidden":true,src:d}),a.a.createElement("span",null,s))),a.a.createElement(l["a"],{size:16,userAuthInfo:null===f||void 0===f?void 0:f.userAuthInfo}),v&&a.a.createElement("div",{className:"time"},Object(u["k"])(v)),!p&&(null===f||void 0===f?void 0:null===(r=f.userAuthInfo)||void 0===r?void 0:r.auth_info)&&a.a.createElement(a.a.Fragment,null,v&&a.a.createElement("div",{className:"dot"},"\xb7"),a.a.createElement("div",{className:"user-auth-desc",title:null===f||void 0===f?void 0:null===(o=f.userAuthInfo)||void 0===o?void 0:o.auth_info},null===f||void 0===f?void 0:null===(c=f.userAuthInfo)||void 0===c?void 0:c.auth_info)))};t["a"]=f},d4dbca4e48dfe706de8d:function(e,t,n){"use strict";var r=n("d2cc329ce222e2406492");var a=n("352fe4c99a6fff2f363c");var i=n("056606c89293aa5bef85");var o=n("f9c528707353f5b6df95");var c=n("fa2a44115ff2bd1a0d71");var u=n("514e048378a284fc2dcd");var l=n("4fa4ba9dede71d4f591e");var f=n("a2b92cfef2eaa695ad2f");var s=n("93d7a148460d9069f5a3");var d=n("69084d01d3449fc1bc27");var v=n.n(d);var m=n("174811872339f1d02c40");var p=n.n(m);var b=n("a79cb04363dcc4858702");var h=n.n(b);var g=n("d33c2300cbe78d91d36c");var _=n("98ad94a9d064c7351e07");var y=n("47244cda85051673e101");function w(e,t){return x(e)||O(e,t)||E(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}function j(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function x(e){if(Array.isArray(e))return e}var C=function(){var e;return function(){var t;if(void 0===e)e=null===(t=window.CSS)||void 0===t?void 0:t.supports("position","sticky");return e}}();var I=function e(t){var n=t.children,r=t.className,a=t.activeOffset,i=void 0===a?0:a,o=t.position,c=void 0===o?{top:0,left:0}:o,u=t.placeholderHeight,l=void 0===u?0:u;var f=Object(d["useRef"])(null);var s=Object(d["useRef"])(null);var m=Object(d["useRef"])(false);var b=Object(d["useState"])(false),g=w(b,2),_=g[0],y=g[1];var k=Object(d["useState"])(true),E=w(k,2),j=E[0],O=E[1];var x=Object(d["useCallback"])((function(){if(C())return true;var e=_?s.current:f.current;var t=null===e||void 0===e?void 0:e.getBoundingClientRect();if(t&&t.top<=i)return true;return false}),[_]);var I=Object(d["useCallback"])((function(){if(m.current)return;m.current=true;h()((function(){var e=window.scrollX;if(e>=0&&f.current&&_)f.current.style.transform="translateX(-".concat(e,"px)");y(x());m.current=false}))}),[x,_]);Object(d["useEffect"])((function(){O(C())}),[]);Object(d["useEffect"])((function(){if(!C()){window.addEventListener("scroll",I);I()}return function(){window.removeEventListener("scroll",I)}}),[I]);return v.a.createElement(v.a.Fragment,null,!j&&_&&v.a.createElement("div",{ref:s,style:{height:l}}),v.a.createElement("div",{className:p()("ttp-sticky-container",{active:_},r),ref:f,style:Object.assign({},c)},n))};var S=I;var T=n("0193be145c15b0751246");var N=n("c2e67fcd203473e40384");var L=n("5f3cfa39f909ef854538");var R=n("202506cc70eca62fdfa0");function A(e){return M(e)||U(e)||P(e)||D()}function D(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}function U(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function M(e){if(Array.isArray(e))return F(e)}function F(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function B(e,t,n){if(t)H(e.prototype,t);if(n)H(e,n);return e}var W={follow:{key:"follow",category:"news_follow",channelId:60021127260,name:"\u5173\u6ce8"},all:{key:"all",category:"__all__",channelId:0,name:"\u63a8\u8350"},hot:{key:"hot",category:"news_hot",channelId:3189398996,name:"\u70ed\u70b9"},xigua:{key:"xigua",category:"xigua",channelId:-1,name:"\u897f\u74dc\u89c6\u9891",url:"https://www.ixigua.com/"},local:{key:"local",category:"news_local",channelId:3202164529,name:"\u5317\u4eac"},finance:{key:"finance",category:"news_finance",channelId:3189399007,name:"\u8d22\u7ecf"},tech:{key:"tech",category:"news_tech",channelId:3189398999,name:"\u79d1\u6280"},entertainment:{key:"entertainment",category:"news_entertainment",channelId:3189398972,name:"\u5a31\u4e50"},sports:{key:"sports",category:"news_sports",channelId:3189398957,name:"\u4f53\u80b2"},dcd:{key:"dcd",category:"dcd",channelId:-1,name:"\u61c2\u8f66\u5e1d",url:"https://www.dongchedi.com/?zt=tt_pc_home_channel"},live:{key:"live",category:"live",channelId:94349530259,name:"\u76f4\u64ad",url:"https://live.ixigua.com"},gallery:{key:"gallery",category:"\u7ec4\u56fe",channelId:5443492141,name:"\u56fe\u7247"},word:{key:"word",category:"news_world",channelId:3189398968,name:"\u56fd\u9645"},digital:{key:"digital",category:"digital",channelId:3189398981,name:"\u6570\u7801"},military:{key:"military",category:"news_military",channelId:3189398960,name:"\u519b\u4e8b"},game:{key:"game",category:"news_game",channelId:3189398995,name:"\u6e38\u620f"},history:{key:"history",category:"news_history",channelId:3189398965,name:"\u5386\u53f2"},food:{key:"food",category:"news_food",channelId:3189399002,name:"\u7f8e\u98df"},essay:{key:"essay",category:"news_essay",channelId:3189399001,name:"\u7f8e\u6587"},regimen:{key:"regimen",category:"news_regimen",channelId:3189398959,name:"\u517b\u751f"},travel:{key:"travel",category:"news_travel",channelId:3189398983,name:"\u65c5\u6e38"},discovery:{key:"discovery",category:"news_discovery",channelId:3189398978,name:"\u63a2\u7d22"},fashion:{key:"fashion",category:"news_fashion",channelId:3189398984,name:"\u65f6\u5c1a"},baby:{key:"baby",category:"news_baby",channelId:3189399004,name:"\u80b2\u513f"}};function z(e){return Object.values(W).filter((function(t){return t.channelId===e}))[0]}var q={default:[W.follow.key,W.all.key,W.hot.key,W.local.key,W.xigua.key,W.finance.key,W.tech.key,W.entertainment.key],more:[W.sports.key,W.live.key,W.fashion.key,W.food.key,W.word.key,W.dcd.key,W.regimen.key,W.travel.key,W.military.key,W.gallery.key,W.baby.key,W.history.key,W.game.key,W.digital.key]};var G=function(){function e(t){V(this,e);this.channelOrder={default:A(t.default),more:A(t.more)}}B(e,[{key:"process",value:function e(t){this.channelOrder=t(this.channelOrder);return this}},{key:"get",value:function e(){return this.channelOrder}}]);return e}();function Q(){var e=window.innerWidth;if(e>=1280)return 8;else if(e>=1200)return 7;else return 5}function K(e){var t=Q();var n=A(e.default);var r=A(e.more);var a=n.splice(t);return{default:n,more:a.concat(r)}}function Y(e,t){var n=e;if(n.key===W.local.key&&t){n.name=t.name;n.channelId=t.channelId}return n}function Z(e){var t=new G(q);t.process((function(e){return K(e)}));var n=t.get();var r={default:n.default.map((function(t,n){var r=Y(W[t],e);return Object.assign(Object.assign({},r),{rank:n+1,inMore:0})})),more:n.more.map((function(t,n){var r=Y(W[t],e);return Object.assign(Object.assign({},r),{rank:n+1,inMore:1})}))};return r}var J=n("d5c06b6cf3948fb34e9d");var X=n("4948fbe5c6d0ea899cb0");var $=n("076bf3210b3d303da0b6");var ee=n("bd8ea4fd9e1bc4efca14");var te=n("b4d0aca2d3771c85657d");function ne(e){"@babel/helpers - typeof";if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator)ne=function e(t){return typeof t};else ne=function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return ne(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function ie(e,t,n){if(t)ae(e.prototype,t);if(n)ae(e,n);return e}function oe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)ce(e,t)}function ce(e,t){ce=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return ce(e,t)}function ue(e){var t=se();return function n(){var r=de(e),a;if(t){var i=de(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return le(this,a)}}function le(e,t){if(t&&("object"===ne(t)||"function"===typeof t))return t;return fe(e)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function de(e){de=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return de(e)}var ve=function e(t){var n=t.channel;if(n.url)return v.a.createElement("a",{href:n.url,target:"_blank",rel:"noopener nofollow",tabIndex:-1,"aria-hidden":true},n.name);return v.a.createElement(v.a.Fragment,null,n.name)};var me=function(e){oe(n,e);var t=ue(n);function n(){var e;re(this,n);e=t.apply(this,arguments);e.state={config:{default:[],more:[]},localCityInfo:e.props.localCityInfo,morePanelVisible:false};e.moreBtnTimer=0;e.moreBtnEl=null;e.moreNavShow=false;e.handleResize=Object(ee["e"])((function(){var t=e.state.localCityInfo;var n=Z(t);e.setState({config:n})}),300);e.handleClickChannel=function(t){if(t.url)return;window.open("https://www.toutiao.com?channel=".concat(t.key,"&source=").concat(e.props.logParams.page_name))};e.emitClickEvent=function(t){e.handleClickChannel(t);Object(_["a"])("category_click",Object.assign(Object.assign({},e.props.logParams),{category_rank:t.rank||0,category_name:t.category,is_in_category_more:t.inMore||0,category_name_cn:t.name,channel_id:t.channelId}))};e.handleKeyDown=function(t,n){var r=t.keyCode;if(13===r||32===r){t.preventDefault();t.stopPropagation();e.emitClickEvent(n);if(n.url)window.open(n.url)}};e.openMorePanel=function(){e.setState({morePanelVisible:true});if(e.moreNavShow)return;e.state.config.more.forEach((function(t){e.navVisible(t)}));e.moreNavShow=true};e.closeMorePanel=function(){e.setState({morePanelVisible:false})};e.navVisible=function(t){Object(_["a"])("channel_show",Object.assign(Object.assign({},e.props.logParams),{category_rank:t.rank||0,category_name:t.category,is_in_category_more:t.inMore||0,category_name_cn:t.name,channel_id:t.channelId}))};e.handleLocalCityChange=function(t){e.setState({config:Z(t),localCityInfo:t});e.handleClickChannel(Object.assign({},W.local))};e.renderDefaultNav=function(t){var n=e.props.theme;var r=e.state.localCityInfo;if(t.key===W.local.key)return v.a.createElement($["a"],{cityInfo:r,logParams:{switch_position:"category"},theme:n,onChange:e.handleLocalCityChange});return v.a.createElement(ve,{channel:t})};return e}ie(n,[{key:"componentDidMount",value:function e(){this.handleResize();window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function e(){var t=this;var n=this.state,r=n.config,a=n.morePanelVisible;if(!r.default.length)return v.a.createElement(v.a.Fragment,null);return v.a.createElement("div",{className:"ttp-channel-nav"},v.a.createElement("ul",{className:"ttp-channel-default-nav"},r.default.map((function(e){return v.a.createElement("li",{key:e.key,tabIndex:0,role:"button","aria-label":"".concat(e.name,"\u9891\u9053"),onKeyDown:function n(r){return t.handleKeyDown(r,e)}},v.a.createElement(X["a"],{onVisible:function n(r){r&&t.navVisible(e)},once:true},v.a.createElement("div",{className:"ttp-channel-default-nav-item",onClick:function n(){return t.emitClickEvent(e)}},t.renderDefaultNav(e))))})),v.a.createElement(J["a"],{onOpen:this.openMorePanel,onClose:this.closeMorePanel},v.a.createElement(J["a"].MenuButton,null,v.a.createElement("li",{"aria-label":"\u66f4\u591a\u9891\u9053",className:"more-btn-wrapper"},v.a.createElement("div",{className:p()("more-btn",{hover:a}),ref:function e(n){return t.moreBtnEl=n}},"\u66f4\u591a"),v.a.createElement(te["a"],{visible:a,transform:"translateX(-50%)",transformOrigin:"center top"},v.a.createElement("div",{className:"ttp-channel-more-nav-wrapper"},v.a.createElement(J["a"].MenuList,null,v.a.createElement("ul",{className:"ttp-channel-more-nav"},r.more.map((function(e){return v.a.createElement(J["a"].MenuItem,{key:e.key,onKeyDown:function n(r){return t.handleKeyDown(r,e)}},v.a.createElement("li",{"aria-label":"".concat(e.name,"\u9891\u9053")},v.a.createElement("div",{className:"ttp-channel-more-nav-item",onClick:function n(){return t.emitClickEvent(e)}},v.a.createElement(ve,{channel:e}))))})))))))))))}}]);return n}(v.a.Component);var pe=n("f4095745be08d782d539");var be=n("0b745d6dadd3c3037485");var he=n("2810e53ad7174f3c046d");var ge=n("437c345b2a5779f983fd");var _e=n("abbf799a026c91d8612e");var ye=n("3932ea183dfbf8496e71");var we=n("195c70dfe6078b3eff76");function ke(e){return window.btoa&&window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function e(t,n){return String.fromCharCode("0x"+n)})))}function Ee(e){return window.atob&&decodeURIComponent(window.atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}var je=n("f663fadc4eb5841c48bb");function Oe(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function xe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Oe(i,r,a,o,c,"next",e)}function c(e){Oe(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Ce(e,t){return Le(e)||Ne(e,t)||Se(e,t)||Ie()}function Ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(e,t){if(!e)return;if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}function Te(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function Le(e){if(Array.isArray(e))return e}var Re=40;var Ae=38;var De=13;var Pe={focusStart:0,pressDown:0};var Ue=function e(t){var n=t.className,r=t.newSearch,a=t.autoFocus,i=void 0===a?false:a,o=t.logParams;var c=Object(d["useRef"])(null);var u=Object(d["useRef"])(null);var l=Object(d["useRef"])(false);var f=Object(d["useState"])(""),s=Ce(f,2),m=s[0],b=s[1];var h=Object(d["useState"])(false),g=Ce(h,2),y=g[0],w=g[1];var k=Object(d["useState"])([]),E=Ce(k,2),j=E[0],O=E[1];var x=Object(d["useState"])(-1),C=Ce(x,2),I=C[0],S=C[1];var T=Object(d["useRef"])(m);T.current=m;var N=Object(d["useMemo"])((function(){if(!y||I>-1)return function(){return};return Object(ee["e"])(xe(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;if(!T.current){i.next=9;break}null===je["cancelRequest"]||void 0===je["cancelRequest"]?void 0:Object(je["cancelRequest"])();i.next=5;return _e["a"].search.getSearchSug(T.current);case 5:a=i.sent;if("success"===(null===(t=null===a||void 0===a?void 0:a.data)||void 0===t?void 0:t.message))O(null===(r=null===(n=null===a||void 0===a?void 0:a.data)||void 0===n?void 0:n.data)||void 0===r?void 0:r.slice(0,8));i.next=11;break;case 9:O([]);S(-1);case 11:i.next=19;break;case 13:i.prev=13;i.t0=i["catch"](0);if(!Object(je["isCancel"])(i.t0)){i.next=17;break}return i.abrupt("return");case 17:O([]);S(-1);case 19:case"end":return i.stop()}}),e,null,[[0,13]])}))),300)}),[y,I]);Object(d["useEffect"])(N,[m,y]);var L=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.current;var n=arguments.length>1?arguments[1]:void 0;var a=arguments.length>2?arguments[2]:void 0;if(!t.trim())return;var i=r?"//so.toutiao.com/search?dvpf=pc&source=".concat(n,"&keyword=").concat(encodeURIComponent(t)):"//www.toutiao.com/search/?keyword=".concat(encodeURIComponent(t));window.open(i);Object(_["a"])("search_click_toutiao_pc",Object.assign(Object.assign({},o),{search_hot_word:t,from_position:"sug"===n?"detail_sug":"search"}));Object(_["a"])("search_start",Object.assign(Object.assign({},o),{tab_type:"category_bar",query_type:n,query:t,is_init_enter:0}));var c={query_input_time:Date.now()-Pe.focusStart,search_press_duration:Date.now()-Pe.pressDown,search_viewport_x:(null===a||void 0===a?void 0:a.clientX)||-1,search_viewport_y:(null===a||void 0===a?void 0:a.clientY)||-1};document.cookie="tt_search_log=".concat(ke(JSON.stringify(c)),"; domain=.toutiao.com")};var R=Object(d["useCallback"])((function(e){S(-1);b(e.target.value)}),[]);var A=Object(d["useCallback"])((function(){Pe.focusStart=Date.now();w(true);Object(_["a"])("search_tab_enter",Object.assign(Object.assign({},o),{tab_type:"category_bar",is_init_enter:0}))}),[]);var D=Object(d["useCallback"])((function(){setTimeout((function(){var e;null===(e=u.current)||void 0===e?void 0:e.blur();w(false);S(-1)}),250)}),[]);var P=Object(d["useCallback"])((function(e){var t=e.which||e.keyCode||e.charCode;var n=-1;if(t===Re){e.preventDefault();n=(I+1)%j.length}else if(t===Ae){e.preventDefault();n=(j.length+I-1)%j.length}else if(t===De)Pe.pressDown=Date.now();if(n>-1){S(n);b(j[n].keyword)}}),[I,j]);var U=Object(d["useCallback"])((function(e){if(l.current){l.current=false;return}var t=e.which||e.keyCode||e.charCode;if(t===De){var n=I>-1?j[I].keyword:void 0;L(n,I>-1?"sug":"input")}}),[I,j]);var M=Object(d["useCallback"])((function(){Pe.pressDown=Date.now()}),[]);var F=Object(d["useCallback"])((function(){l.current=true}),[]);var V=Object(d["useCallback"])((function(e,t){b(e);L(e,"sug",t)}),[]);Object(d["useEffect"])((function(){i&&A()}),[]);Object(d["useEffect"])((function(){var e=Object(ee["e"])((function(){var e;if(!u.current||!y)return;var t=null===(e=u.current)||void 0===e?void 0:e.getBoundingClientRect().bottom;if(t<0)D()}),300);window.addEventListener("scroll",e);return function(){return window.removeEventListener("scroll",e)}}),[y]);return v.a.createElement("div",{ref:c,className:p()("ttp-search-wrapper",[n])},v.a.createElement("div",{className:"search"},v.a.createElement("input",{type:"text","aria-label":"\u641c\u7d22",placeholder:"",value:m,ref:u,autoFocus:i,onChange:R,onFocus:A,onBlur:D,onKeyDown:P,onKeyUp:U,onCompositionEnd:F}),v.a.createElement("button",{type:"button","aria-label":"\u641c\u7d22",onClick:function e(t){return L(m,I>-1?"sug":"input",t)},onMouseDown:M},v.a.createElement("i",null),v.a.createElement("span",null,"\u641c\u7d22")),y&&!!j.length&&v.a.createElement("div",{className:"sug"},j.map((function(e,t){var n=e.keyword.indexOf(m);var r=e.keyword;if(n>-1)r=v.a.createElement(v.a.Fragment,null,e.keyword.slice(0,n),v.a.createElement("em",null,m),e.keyword.slice(n+m.length));return v.a.createElement("div",{className:p()("sug-item",{current:t===I}),onClick:function t(n){return V(e.keyword,n)},onMouseDown:M,key:e.keyword},r)})))))};var Me=Ue;var Fe=n("b59a12a7801739f5bea2");var Ve=n("276d50ce18af04546ef9");var He=n("89fc23cc70b02aad75a9");var Be=n("20c6f2e62cf94b7db59c");function We(e,t){return Ke(e)||Qe(e,t)||qe(e,t)||ze()}function ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qe(e,t){if(!e)return;if("string"===typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}function Ge(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function Ke(e){if(Array.isArray(e))return e}var Ye="https://sso.toutiao.com/login/";var Ze=function e(t){var n=t.redirectUrl,r=t.onLogin;var a=Object(d["useState"])(Ye),i=We(a,2),o=i[0],c=i[1];Object(d["useEffect"])((function(){c("https://sso.toutiao.com/login/?service=".concat(window.encodeURIComponent(n||window.location.href)))}),[]);function u(e){e.preventDefault();if(r){r();return}window.open(o)}return v.a.createElement("a",{className:"login-button",href:o,rel:"nofollow",onClick:u},"\u767b\u5f55")};var Je=function e(t){var n=t||{},r=n.logParams,a=n.className,i=n.userInfo,o=n.loginRedirectUrl,c=n.onLogin,u=n.onLogout;var l=Object(d["useState"])(false),f=We(l,2),s=f[0],m=f[1];var b=Object(d["useRef"])(null);var h=[{href:"//www.toutiao.com/c/user/token/".concat(null===i||void 0===i?void 0:i.userId,"/?source=").concat(r.pageType),text:"\u4e2a\u4eba\u4e3b\u9875",position:"home_page",section:"top_bar_homepage"},{href:"//mp.toutiao.com",text:"\u521b\u4f5c\u5e73\u53f0",position:"creator"},{href:"//www.toutiao.com/c/user/token/".concat(null===i||void 0===i?void 0:i.userId,"/?tab=fav&source=").concat(r.pageType),text:"\u6211\u7684\u6536\u85cf",position:"my_favorite",section:"top_bar_favorite"},{href:"//sso.toutiao.com/logout/",text:"\u9000\u51fa\u767b\u5f55",target:"_self",position:"un_login"}];function g(){Object(_["a"])("top_bar_click",{from_position:"author",action_type:"expand",icon_type:"avatar",section:r.section});Object(_["a"])("top_bar_card_expo",{page_type:null===r||void 0===r?void 0:r.pageType,card_name:"author"});m(true)}function y(e,t){e.preventDefault();Object(_["a"])("card_click",{page_type:null===r||void 0===r?void 0:r.pageType,from_position:t.position,card_name:"author"});var n=t.href;if(n.includes("/c/user/token"))n=Object(Be["b"])(n,{section:r.section,position:r.position,enter_from:r.enter_from});if(n.includes("logout")&&u){u();return}if(t.target){window.location.href=n;return}window.open(n)}function w(e){e.preventDefault();Object(_["a"])("top_bar_click",{from_position:"author",action_type:"click",icon_type:"avatar",section:r.section});var t=Object(Be["b"])("//www.toutiao.com/c/user/token/".concat(null===i||void 0===i?void 0:i.userId,"/?source=").concat(r.pageType),{section:r.section,position:r.position,enter_from:r.enter_from});window.open(t)}var k=v.a.createElement("div",{className:"user-icon",ref:b,onMouseEnter:g,onMouseLeave:function e(){return m(false)}},v.a.createElement("a",{"aria-label":null===i||void 0===i?void 0:i.name,href:"//www.toutiao.com/c/user/token/".concat(null===i||void 0===i?void 0:i.userId,"/?source=").concat(r.pageType),target:"_blank",rel:"noopener nofollow",onClick:w},v.a.createElement("img",{src:null===i||void 0===i?void 0:i.avatarUrl,alt:""})),v.a.createElement(te["a"],{visible:s,transformOrigin:"70px top"},v.a.createElement("div",{className:"user-list"},v.a.createElement("div",{className:"user-list-content"},h.map((function(e){return v.a.createElement("a",{href:e.href,target:e.target||"_blank",key:e.href,rel:"noopener nofollow",onClick:function t(n){return y(n,e)}},e.text)}))))));return v.a.createElement("div",{className:p()("ttp-header-profile",[a])},(null===i||void 0===i?void 0:i.userId)?k:v.a.createElement(Ze,{redirectUrl:o,onLogin:c}))};var Xe=Je;var $e=n("edc2b76b5d9ea09775b6");var et=n("8b900033d90a865fc913");function tt(e,t){return ot(e)||it(e,t)||rt(e,t)||nt()}function nt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rt(e,t){if(!e)return;if("string"===typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}function at(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function ot(e){if(Array.isArray(e))return e}var ct=function e(t){var n=t||{},r=n.logParams,a=n.className,i=n.userInfo,o=n.theme,c=n.loginRedirectUrl,u=n.abtestInfo,l=n.localCityInfo,f=n.onLogoClick,s=n.onLogin,m=n.onLogout;var b=Object(d["useRef"])(false);var g=Object(d["useState"])(false),y=tt(g,2),w=y[0],k=y[1];var E=Object(d["useCallback"])((function(){if(b.current)return;b.current=true;h()((function(){var e=window.scrollY||window.pageYOffset;if(e>0)k(true);else k(false);b.current=false}))}),[]);Object(d["useEffect"])((function(){window.addEventListener("scroll",E);return function(){window.removeEventListener("scroll",E)}}),[]);function j(){null===f||void 0===f?void 0:f();Object(_["a"])("header_logo_click",Object.assign(Object.assign({},r),{from_position:"logo"}))}function O(){if(s){s();return}$e["a"].show()}function x(){if(m){m();return}$e["a"].logout()}return v.a.createElement(S,{placeholderHeight:64,position:{top:0,left:0,zIndex:200}},v.a.createElement("div",{role:"banner",className:p()("ttp-site-header-wrapper",a,{dark:"dark"===o,black:"black"===o,shadow:w})},v.a.createElement("div",{className:"ttp-site-header"},v.a.createElement("a",{"aria-label":"\u4eca\u65e5\u5934\u6761\u5fbd\u6807",className:"logo",href:"/",target:"_blank",rel:"nofollow",onClick:j}),v.a.createElement("div",{className:"channel-wrapper"},v.a.createElement(me,{abtestInfo:u,localCityInfo:l,logParams:r,theme:o})),v.a.createElement("div",{style:{flex:1,minWidth:40}}),v.a.createElement(Me,{newSearch:true,logParams:Object.assign(Object.assign({},r),{page_name:r.page_name,group_id:r.group_id,if_login:i?"1":"0"})}),v.a.createElement("div",{className:"header-publisher-wrapper",style:{flexShrink:0}},v.a.createElement(et["a"],{logParams:{page_type:null===r||void 0===r?void 0:r.page_name},isLogin:!!(null===i||void 0===i?void 0:i.userId),theme:o})),v.a.createElement("div",{className:"header-profile-wrapper",style:{flexShrink:0}},v.a.createElement(Xe,{logParams:Object.assign(Object.assign({},r),{pageType:null===r||void 0===r?void 0:r.page_name}),userInfo:i,loginRedirectUrl:c,onLogin:O,onLogout:x})))))};var ut=t["a"]=ct},d5c06b6cf3948fb34e9d:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n("4fa4ba9dede71d4f591e");var a=n("a2b92cfef2eaa695ad2f");var i=n("f9c528707353f5b6df95");var o=n("fa2a44115ff2bd1a0d71");var c=n("0193be145c15b0751246");var u=n("69084d01d3449fc1bc27");var l=n.n(u);var f=l.a.createContext({disable:false,expand:false,listEl:null,buttonEl:null,setListEl:function e(){},setButtonEl:function e(){},setFocusStatus:function e(){},focusListItem:function e(){},openMenu:function e(){},closeMenu:function e(){}});var s=f;var d=n("9ab2f1ff086dee039972");var v=function e(t){var n=t.onFocus,r=t.onBlur,a=t.onMouseEnter,i=t.onMouseLeave,o=t.onKeyDown,c=t.children;var f=Object(u["useContext"])(s);var v=Object(u["useRef"])(null);Object(u["useEffect"])((function(){if(v.current)f.setButtonEl(v.current)}),[]);function m(e){e.stopPropagation();f.setFocusStatus(true);null===n||void 0===n?void 0:n()}function p(e){e.stopPropagation();f.setFocusStatus(false);null===r||void 0===r?void 0:r()}function b(){f.setFocusStatus(true);f.openMenu();null===a||void 0===a?void 0:a()}function h(){f.setFocusStatus(false);null===i||void 0===i?void 0:i()}function g(e){if(!f.disable){e.stopPropagation();switch(e.keyCode){case d["a"].ENTER:case d["a"].SPACE:e.preventDefault();f.openMenu();f.focusListItem("next");break;case d["a"].UP:e.preventDefault();f.openMenu();f.focusListItem("prev");break;case d["a"].DOWN:e.preventDefault();f.openMenu();f.focusListItem("next");break;default:return}null===o||void 0===o?void 0:o(e)}}return l.a.cloneElement(c,{tabIndex:0,role:"button","aria-haspopup":true,"aria-expanded":f.expand,ref:v,onFocus:m,onBlur:p,onMouseEnter:b,onMouseLeave:h,onKeyDown:g})};var m=v;var p=function e(t){var n=t.children,r=t.onMouseEnter,a=t.onMouseLeave;var i=Object(u["useContext"])(s);var o=Object(u["useRef"])(null);Object(u["useEffect"])((function(){if(o.current)i.setListEl(o.current)}),[]);function c(e){e.stopPropagation();i.setFocusStatus(true);i.openMenu();null===r||void 0===r?void 0:r()}function f(e){e.stopPropagation();i.setFocusStatus(false);null===a||void 0===a?void 0:a()}return l.a.cloneElement(n,{role:"menu",ref:o,onMouseEnter:c,onMouseLeave:f})};var b=p;var h=function e(t){var n=t.children,r=t.onKeyDown,a=t.onFocus,i=t.onBlur,o=t.getListItems;var c=Object(u["useContext"])(s);var f=!!o;function v(){var e=(null===o||void 0===o?void 0:o())||[];setTimeout((function(){var t;null===(t=e[0])||void 0===t?void 0:t.focus()}))}function m(e){e.stopPropagation();c.setFocusStatus(true);null===a||void 0===a?void 0:a(e)}function p(e){e.stopPropagation();c.setFocusStatus(false);null===i||void 0===i?void 0:i(e)}function b(e){var t;if(!c.disable){e.stopPropagation();switch(e.keyCode){case d["a"].ESC:c.closeMenu();null===(t=c.buttonEl)||void 0===t?void 0:t.focus();break;case d["a"].UP:e.preventDefault();c.openMenu();c.focusListItem("prev");break;case d["a"].DOWN:e.preventDefault();c.openMenu();c.focusListItem("next");break;case d["a"].ENTER:case d["a"].SPACE:if(f){e.preventDefault();v()}break;default:break}null===r||void 0===r?void 0:r(e)}}return l.a.cloneElement(n,{role:"menuitem",tabIndex:-1,onFocus:m,onBlur:p,onKeyDown:b})};var g=h;var _=function e(t){var n=t.children,r=t.onKeyDown,a=t.onFocus,i=t.onBlur,o=t.getListItems,c=t.getParant;var f=Object(u["useContext"])(s);function v(e){e.stopPropagation();f.setFocusStatus(true);null===a||void 0===a?void 0:a(e)}function m(e){e.stopPropagation();f.setFocusStatus(false);null===i||void 0===i?void 0:i(e)}function p(e){var t=o()||[];var n=-1;t.some((function(e,t){if(e===document.activeElement){n=t;return true}return false}));if("next"===e)n=(n+1)%t.length;else{n=n<0?0:n;n=(n-1+t.length)%t.length}setTimeout((function(){var e;null===(e=t[n])||void 0===e?void 0:e.focus()}))}function b(e){if(!f.disable){e.stopPropagation();switch(e.keyCode){case d["a"].ESC:var t=null===c||void 0===c?void 0:c();null===t||void 0===t?void 0:t.focus();break;case d["a"].UP:e.preventDefault();f.openMenu();p("prev");break;case d["a"].DOWN:e.preventDefault();f.openMenu();p("next");break;default:break}null===r||void 0===r?void 0:r(e)}}return l.a.cloneElement(n,{role:"menuitem",tabIndex:-1,onFocus:v,onBlur:m,onKeyDown:b})};var y=_;function w(e){"@babel/helpers - typeof";if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator)w=function e(t){return typeof t};else w=function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return w(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function j(e,t,n){if(t)E(e.prototype,t);if(n)E(e,n);return e}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)x(e,t)}function x(e,t){x=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return x(e,t)}function C(e){var t=T();return function n(){var r=N(e),a;if(t){var i=N(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return I(this,a)}}function I(e,t){if(t&&("object"===w(t)||"function"===typeof t))return t;return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function N(e){N=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return N(e)}var L=function(e){O(n,e);var t=C(n);function n(){var e;k(this,n);e=t.apply(this,arguments);e.state={expand:false,listEl:null,buttonEl:null};e.hasFocus=false;e.closeTimer=void 0;e.setFocusStatus=function(t){e.hasFocus=t;if(!t)e.closeTimer=window.setTimeout((function(){if(!e.hasFocus)e.closeMenu()}),e.props.closeTimeout||300)};e.setListEl=function(t){e.setState({listEl:t})};e.setButtonEl=function(t){e.setState({buttonEl:t})};e.openMenu=function(){e.props.onOpen();e.setState({expand:true})};e.closeMenu=function(){e.props.onClose();e.setState({expand:false})};e.getListItems=function(){var t;return Array.prototype.slice.call((null===(t=e.state.listEl)||void 0===t?void 0:t.childNodes)||[])};e.focusListItem=function(t){if(!e.state.listEl)return;var n=e.props.getListItems?e.props.getListItems(e.state.listEl):e.getListItems();var r=-1;n.some((function(e,t){if(e===document.activeElement){r=t;return true}return false}));if("next"===t)r=(r+1)%n.length;else{r=r<0?0:r;r=(r-1+n.length)%n.length}setTimeout((function(){var e;null===(e=n[r])||void 0===e?void 0:e.focus()}))};return e}j(n,[{key:"componentWillUnmount",value:function e(){window.clearTimeout(this.closeTimer)}},{key:"render",value:function e(){return l.a.createElement(s.Provider,{value:{disable:this.props.disable||false,expand:this.state.expand,listEl:this.state.listEl,buttonEl:this.state.buttonEl,setListEl:this.setListEl,setButtonEl:this.setButtonEl,setFocusStatus:this.setFocusStatus,focusListItem:this.focusListItem,openMenu:this.openMenu,closeMenu:this.closeMenu}},this.props.children)}}]);return n}(l.a.Component);L.MenuButton=m;L.MenuList=b;L.MenuItem=g;L.MenuSubItem=y},d7eda47c4265102ff5f2:function(e,t,n){"use strict";n.d(t,"a",(function(){return Nr}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("a64d180a93f05247c622");var b=n.n(p);var h=n("4367ed43a6bb5319d01d");var g=n.n(h);var _=n("ac1c7ccad675d280253b");var y=n.n(_);var w=n("9f4f4b9798be7ce1394c");var k=n.n(w);var E=n("5877b71c460e33b640ac");var j=n.n(E);var O=n("a441a1cddaa9c253f395");var x=n.n(O);var C=n("76580fe2fcfe92db6633");var I=n.n(C);var S=n("c4aa52e085c59e3d7b93");var T=n.n(S);var N=n("3330101ffc52d61bba35");var L=n.n(N);var R=n("69084d01d3449fc1bc27");var A=n.n(R);var D=n("edc2b76b5d9ea09775b6");var P=n("d4dbca4e48dfe706de8d");var U=n("e51434d8d152e1ba8c58");var M=n("dd0427b409c46a6ca302");var F=n("2422758950d9f66b7423");var V=n("be6323750fae7868d676");var H=n("36091a6286193bdd62ec");var B=n("733b0b7fc50b301159ca");var W=n("d1168368cb87a97d8ea2");var z=n("5261bf3449e88fd34744");var q=n("6e0d59f75f94a76048b3");var G=n("c9cd1e0339c82648866e");var Q=n("20c6f2e62cf94b7db59c");var K=n("6cf195ddfada1b0033e1");var Y=n("4e16ef1abe038022cfb8");var Z=n("fb622297466e7a637f99");var J=n("ac9414e2d47df986f7f3");function X(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)X(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else X(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function ee(e){var t=te();return function n(){var r=L()(e),a;if(t){var i=L()(this).constructor;a=b()(r,arguments,i)}else a=r.apply(this,arguments);return T()(this,a)}}function te(){if("undefined"===typeof Reflect||!b.a)return false;if(b.a.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(b()(Date,[],(function(){})));return true}catch(e){return false}}var ne=function(e){I()(n,e);var t=ee(n);function n(){var e;j()(this,n);e=t.apply(this,arguments);e.readPCT=0;e.handleScroll=Object(V["u"])((function(){e.calcReadPCT()}),300);e.calcReadPCT=function(){var t,n;if(100===e.readPCT)return;var r=null;if("article"===(null===(t=e.props)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.articleType))r=document.querySelector(".article-content");else r=document.querySelector(".wtt-content");if(!r)return;var a=r.getBoundingClientRect();var i=a.top;var o=a.height||r.clientHeight;var c=Math.floor((window.innerHeight-i)/o*100);c=Math.min(c,100);e.readPCT=Math.max(c,e.readPCT)};return e}x()(n,[{key:"componentDidMount",value:function e(){var t,n=this;var r=(null===(t=this.props)||void 0===t?void 0:t.data)||{},a=r.isSelf,i=r.loginUserInfo,o=r.identity,c=r.groupId,u=r.groupSource,l=r.articleType,f=r.mediaInfo,s=r.relation,d=r.abtestInfo;var v=l===F["a"].article||l===F["a"].gallery;Object(Y["a"])({pid:"news_article_detail"},o);Object(K["b"])(o,d);Object(K["a"])("pageview",{page_type:"detail_new",is_login:i?1:0,is_self:a?1:0,is_author:(null===i||void 0===i?void 0:i.isPgc)?1:0,referrer:document.referrer,source:Object(V["n"])("source")});Object(B["a"])(v?"tuwen_detail":"weitoutiao_detail");Object(B["b"])();var m={group_id:c,group_source:u,group_format:v?"tuwen":"weitoutiao",page_type:"detail",author_id:null===f||void 0===f?void 0:f.userId,is_following:s.isFollowing?"1":"0",is_login:i?1:0,url:window.location.href,from_url:document.referrer};Object(Z["l"])($($({},Object(Q["a"])()),m));var p=new J["a"]([{event:"stay_page",params:$($({},Object(Q["a"])()),m)},{event:"read_pct",params:$($($({},Object(Q["a"])()),m),{},{percent:function e(){if(!n.readPCT)n.calcReadPCT();return n.readPCT},page_count:1})}]);p.start();window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function e(){return null}}]);return n}(A.a.Component);var re=Object(G["b"])(ne);var ae=n("a3a1ced60541f1b5c9f6");var ie=n.n(ae);var oe=n("0d95bde6a93458823cd2");var ce=n.n(oe);var ue=n("b400c18478ff55657723");var le=n.n(ue);var fe=n("93d7a148460d9069f5a3");var se=n("f4095745be08d782d539");var de=n("d2cc329ce222e2406492");var ve=n("352fe4c99a6fff2f363c");var me=n("056606c89293aa5bef85");var pe=n("f9c528707353f5b6df95");var be=n("fa2a44115ff2bd1a0d71");var he=n("514e048378a284fc2dcd");var ge=n("4fa4ba9dede71d4f591e");var _e=n("a2b92cfef2eaa695ad2f");var ye=n("2810e53ad7174f3c046d");var we=n("174811872339f1d02c40");var ke=n.n(we);var Ee=n("abbf799a026c91d8612e");var je=n("252c081bebbc869ac3ed");var Oe=n("98ad94a9d064c7351e07");var xe=n("bd8ea4fd9e1bc4efca14");var Ce=n("67b082cf07e160d3a308");var Ie=n("e06df67fb68d40eb8959");function Se(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function Te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Se(i,r,a,o,c,"next",e)}function c(e){Se(i,r,a,o,c,"throw",e)}o(void 0)}))}}function Ne(e,t){return Pe(e)||De(e,t)||Re(e,t)||Le()}function Le(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Re(e,t){if(!e)return;if("string"===typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}function Ae(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function Pe(e){if(Array.isArray(e))return e}var Ue=A.a.forwardRef((function(e,t){var n=e.loginUserInfo,r=e.groupId,a=e.itemId,i=e.webid,o=e.isReplyList,c=void 0===o?false:o,u=e.previewCount,l=e.defaultCount,f=void 0===l?10:l,s=e.onInitEnd;var d=Object(R["useState"])(0),v=Ne(d,2),m=v[0],p=v[1];var b=Object(R["useState"])([]),h=Ne(b,2),g=h[0],_=h[1];var y=Object(R["useState"])(false),w=Ne(y,2),k=w[0],E=w[1];var j=Object(R["useState"])(false),O=Ne(j,2),x=O[0],C=O[1];var I=Object(R["useRef"])(0);var S=Object(Q["a"])()||{},T=S.is_top_content,N=void 0===T?"0":T;var L=Object.assign(Object.assign({},e.logParams),{is_top_content:N,section:"content_detail"});function D(e,t,n){return P.apply(this,arguments)}function P(){P=Te(regeneratorRuntime.mark((function e(t,n,r){var i,o;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return Ee["a"].comment.getTabComments(t,a,n,r);case 2:i=c.sent;o=i.data;if(!("success"===o.message)){c.next=6;break}return c.abrupt("return",{total:o.total_number,list:Object(je["a"])(o.data),hasMore:o.has_more});case 6:return c.abrupt("return",null);case 7:case"end":return c.stop()}}),e)})));return P.apply(this,arguments)}function U(e,t,n,r){return M.apply(this,arguments)}function M(){M=Te(regeneratorRuntime.mark((function e(t,n,r,a){var i,o;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return Ee["a"].comment.getReplyList(t,n,r,a);case 2:i=c.sent;o=i.data;if(!("success"===o.message)){c.next=6;break}return c.abrupt("return",{total:o.data.total_count,list:Object(je["b"])(o.data.data),hasMore:o.data.has_more});case 6:return c.abrupt("return",null);case 7:case"end":return c.stop()}}),e)})));return M.apply(this,arguments)}function F(e,t){return V.apply(this,arguments)}function V(){V=Te(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.prev=0;a=null;if(!c){i.next=8;break}i.next=5;return U(r,t,n,1);case 5:a=i.sent;i.next=11;break;case 8:i.next=10;return D(r,t,n);case 10:a=i.sent;case 11:if(!a){i.next=18;break}_(g.concat(Object(je["e"])(g,a.list)));p(a.total);E(a.hasMore);null===s||void 0===s?void 0:s(a.total);i.next=19;break;case 18:throw new Error("");case 19:i.next=24;break;case 21:i.prev=21;i.t0=i["catch"](0);void 0;case 24:case"end":return i.stop()}}),e,null,[[0,21]])})));return V.apply(this,arguments)}function H(){F(g.length,f)}Object(R["useEffect"])((function(){F(0,f)}),[]);Object(R["useEffect"])((function(){if(0===I.current){I.current=Date.now();return}if(x){I.current=Date.now();Object(Oe["a"])("comment_enter",L)}else Object(Oe["a"])("comment_exit",Object.assign(Object.assign({},L),{stay_time:Date.now()-I.current}))}),[x]);function B(e,t){return W.apply(this,arguments)}function W(){W=Te(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return U(t,n,5);case 2:r=i.sent;if(r){a=Object(je["c"])(t,Object.assign(Object.assign({},r),{offset:n}),g);_(a)}case 4:case"end":return i.stop()}}),e)})));return W.apply(this,arguments)}function z(e){return q.apply(this,arguments)}function q(){q=Te(regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function e(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return Ee["a"].comment.submitComment(r,a,t);case 2:n=c.sent;i=n.data;if(!("success"===i.message)){c.next=9;break}o=Object(je["a"])([{comment:i.data}]);_(o.concat(g));p(m+1);return c.abrupt("return");case 9:case"end":return c.stop()}}),e)})));return q.apply(this,arguments)}function G(e,t,n){return K.apply(this,arguments)}function K(){K=Te(regeneratorRuntime.mark((function e(t,n,a){var i,o,u,l,f;return regeneratorRuntime.wrap((function e(s){while(1)switch(s.prev=s.next){case 0:o={id:r,content:t};if(c){if(n){o.replyCommentId=n.id;o.replyUserId=n.user.uid}}else{o.id=(null===n||void 0===n?void 0:n.id)||r;if(a){o.id=a.id;o.replyCommentId=null===n||void 0===n?void 0:n.id;o.replyUserId=null===n||void 0===n?void 0:n.user.uid}}s.next=4;return Ee["a"].comment.submitReply(o);case 4:u=s.sent;l=u.data;if(!("success"===l.message)){s.next=12;break}f=Object(je["d"])(l.data.comment,g,n,a,c);_(f);return s.abrupt("return");case 12:throw new Error(null===(i=l.err_alert)||void 0===i?void 0:i.err_content);case 13:case"end":return s.stop()}}),e)})));return K.apply(this,arguments)}function Y(e,t,n){var r=Object(je["f"])(t,e,g,n);_(r)}function Z(){C(true)}function J(){C(false)}Object(R["useImperativeHandle"])(t,(function(){return{openCommentPanel:function e(){Z()}}}));return A.a.createElement("div",{role:"region","aria-label":"\u8bc4\u8bba\u533a",className:"ttp-comment-block"},A.a.createElement(Ce["a"],{loginUserInfo:n,groupId:r,itemId:a,webid:i,isReplyList:c,total:m,list:u?g.slice(0,u):g,logParams:L,onGetReplyListByCommentId:B,onSubmitComment:z,onSubmitReply:G,onLikeChange:Y}),!!u&&m>u&&A.a.createElement("button",{className:"side-drawer-btn",onClick:Z},A.a.createElement("span",null,"\u67e5\u770b\u5168\u90e8 ",m," \u6761\u8bc4\u8bba")),A.a.createElement(Ie["a"],{ariaLabel:"\u8bc4\u8bba",className:"ttp-comment-drawer",title:A.a.createElement("div",{className:"title"},"\u8bc4\u8bba ",!!m&&A.a.createElement("span",null,Object(xe["a"])(m))),visible:x,style:{width:442},onClose:J},A.a.createElement(A.a.Fragment,null,A.a.createElement(Ce["a"],{anchorId:"",className:"small",loginUserInfo:n,groupId:r,itemId:a,webid:i,isReplyList:c,total:m,list:g,logParams:L,onGetReplyListByCommentId:B,onSubmitComment:z,onSubmitReply:G,onLikeChange:Y}),k&&A.a.createElement("div",{className:"load-more-btn-wrapper"},A.a.createElement("button",{className:"load-more-btn",onClick:H},A.a.createElement("span",null,"\u67e5\u770b\u66f4\u591a\u8bc4\u8bba"))),!k&&A.a.createElement("div",{className:ke()("no-more",{"no-data":!g.length})},!!g.length?"\u6682\u65e0\u66f4\u591a\u8bc4\u8bba":"\u6682\u65e0\u8bc4\u8bba\uff0c\u53d1\u8868\u7b2c\u4e00\u6761\u8bc4\u8bba\u62a2\u6c99\u53d1"))))}));var Me=Ue;var Fe=A.a.forwardRef((function(e,t){var n=Object(R["useRef"])(null);Object(R["useEffect"])((function(){setTimeout((function(){if("#comment"===window.location.hash){var e=document.querySelector("#comment-area");if(e){var t=e.getBoundingClientRect().top;var n=t+window.pageYOffset-64-20;window.scrollTo(0,n)}}}),1e3)}),[]);Object(R["useImperativeHandle"])(t,(function(){return{openCommentPanel:function e(){var t;null===(t=n.current)||void 0===t?void 0:t.openCommentPanel()}}}));return A.a.createElement(Me,Object.assign({},e,{ref:n}))}));var Ve=Fe;var He=n("e21f3ef9e0e4c7ac448b");var Be=n("7009f854fb449fc1b23d");var We=n("8da0d466807af5fb475a");var ze=1e3;var qe=function(){function e(){j()(this,e);this.loaded=false;var t=document.createElement("iframe");this.iframe=t;t.setAttribute("id","diversion2transcode");t.setAttribute("sandbox","allow-scripts allow-same-origin");t.style.width="0px";t.style.height="0px";t.style.display="none";document.documentElement.appendChild(t);this.loaded=false}x()(e,[{key:"loadAsync",value:function e(t){var n=this;if(this.loaded||!t||!this.iframe)return;this.cancel();this.loadTimer=window.setTimeout((function(){n.iframe.src=t;n.loaded=true}),ze)}},{key:"cancel",value:function e(){window.clearTimeout(this.loadTimer)}},{key:"destroy",value:function e(){this.cancel();if(!this.loaded)return;this.iframe.src="about:blank";this.loaded=false}}]);return e}();var Ge=n("acff6c447f863638e55f");var Qe=n("a79cb04363dcc4858702");var Ke=n.n(Qe);var Ye=function e(t){var n=t.children,r=t.offset,a=void 0===r?0:r,i=t.onViewChange;var o=Object(R["useRef"])(null);var c=Object(R["useRef"])(false);var u=Object(R["useRef"])(false);var l=Object(R["useCallback"])((function(){if(c.current)return;c.current=true;Ke()((function(){if(!o.current){c.current=false;return}var e=o.current.getBoundingClientRect();var t=e.top;var n=e.height||o.current.clientHeight;var r=u.current;var l=null;if(t-a<-n)l=true;else l=false;if(l!==r)null===i||void 0===i?void 0:i(l);u.current=l;c.current=false}))}),[a,i]);Object(R["useEffect"])((function(){window.addEventListener("scroll",l);l();return function(){window.removeEventListener("scroll",l)}}),[l]);return A.a.createElement("div",{ref:o},n)};var Ze=Ye;var Je=n("7ecc01cf6c85b1ef1c34");var Xe=n("e2097d7c28f72f984fd6");var $e=n("9c433afd1e0a4a1aafd7");function et(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)et(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else et(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var nt=.55;var rt=8;var at=70;function it(e){var t=e.getBoundingClientRect();return{x:t.x||t.left||0,y:t.y||t.top||0,width:t.width,height:t.height}}function ot(e,t){var n=document.createElement("img");n.src=e.getAttribute("src");n.className="carousel-zoomed-img";n.style.cssText="position: absolute;top: ".concat(t.y,"px;left: ").concat(t.x,"px;")+"width: ".concat(t.width,"px;height: ").concat(t.height,"px");return n}function ct(e,t){var n=document.createElement("img");n.src=e.getAttribute("src");n.className="carousel-img-list-item";n.style.cssText="position: absolute;top: 0px;left: 0px;width: ".concat(t.width,"px;height: ").concat(t.height,"px");return n}function ut(e){if(!e)return"";var t=document.documentElement.clientWidth;var n=document.documentElement.clientHeight;var r=t*nt/e.width;var a=(n-rt-at)/e.height;var i=Math.min(r,a);var o=((t-e.width)/2-e.x)/i;var c=((n-e.height-at)/2-e.y)/i;return"scale(".concat(i,") translate3d(").concat(o,"px, ").concat(c,"px, 0)")}function lt(e,t,n){var r=it(e);var a=ot(e,r);t.appendChild(a);Ke()((function(){a.style.transform=ut(r);a.style.transitionDuration="".concat(n,"ms")}));e.style.visibility="hidden";return{origin:e,originRect:r,copy:a}}function ft(e,t,n,r){t.style.transform="none";setTimeout((function(){e.style.visibility="visible";Ke()((function(){n.removeChild(t)}))}),r)}function st(e){return e.map((function(e){var t=it(e);var n=ct(e,t);n.style.transform=ut({x:0,y:0,width:t.width,height:t.height});return{origin:e,originRect:t,copy:n}}))}function dt(e){return e.map((function(e){return e.getAttribute("src")}))}function vt(e,t,n){var r=it(e);var a=ot(e,r);a.style.transform=ut(r);a.style.transitionDuration="".concat(n,"ms");a.onclick=function(e){return e.stopPropagation()};t.appendChild(a);return a}function mt(e,t,n){Ke()((function(){e.style.transform="none";setTimeout((function(){t.removeChild(e)}),n)}))}function pt(e){Object(K["a"])("detail_picture_click",tt({},e))}var bt=15;var ht=72;var gt=8;function _t(e,t,n,r){var a=Math.floor(n/2);if(r>bt&&e>a){var i=e-a;return i+n>r?t:i}return 0}var yt=function e(t){var n=t.list,r=t.currentIndex,a=t.onChange;var i=Object(R["useState"])(0),o=le()(i,2),c=o[0],u=o[1];function l(e){if(e!==r)a(e)}Object(R["useEffect"])((function(){var e=n.length;var t=_t(r,c,bt,e);u(t)}),[r,n.length]);return A.a.createElement("div",{className:"bottom-nav-wrapper",onClick:function e(t){return t.stopPropagation()}},A.a.createElement("div",{className:"bottom-nav",style:{maxWidth:bt*ht+(bt-1)*gt}},A.a.createElement("ul",{style:{transform:"translateX(-".concat(c*(ht+gt),"px)")}},n.map((function(e,t){return A.a.createElement("li",{key:t,className:ke()({active:r===t}),style:{width:ht},onClick:function e(){return l(t)}},A.a.createElement("img",{src:e}))})))))};var wt=yt;function kt(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)kt(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else kt(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function jt(e){var t=Ot();return function n(){var r=L()(e),a;if(t){var i=L()(this).constructor;a=b()(r,arguments,i)}else a=r.apply(this,arguments);return T()(this,a)}}function Ot(){if("undefined"===typeof Reflect||!b.a)return false;if(b.a.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(b()(Date,[],(function(){})));return true}catch(e){return false}}var xt=function e(t){var n=t.direction,r=t.onClick;return A.a.createElement("div",{className:ke()("switch-btn",n),onClick:r})};var Ct=function(e){I()(n,e);var t=jt(n);function n(){var e;j()(this,n);e=t.apply(this,arguments);e.state={list:[],navList:[],prevShow:e.props.show,currentIndex:e.props.defaultIndex};e.prev=function(t){t.stopPropagation();e.setState((function(t){var n=t.list,r=t.currentIndex;if(0===r)return null;pt(Et(Et({},e.props.logParams),{},{action_type:"last"}));var a=(r-1+n.length)%n.length;return{currentIndex:a}}))};e.next=function(t){t.stopPropagation();e.setState((function(t){var n=t.list,r=t.currentIndex;if(r===n.length-1)return null;pt(Et(Et({},e.props.logParams),{},{action_type:"next"}));var a=(r+1)%n.length;return{currentIndex:a}}))};e.handleKeyUp=function(t){if(!e.props.show)return;var n=t.keyCode;if(37===n)e.prev(t);else if(39===n)e.next(t);else if(27===n)e.handleClose()};e.handleNavChange=function(t){e.setState({currentIndex:t})};e.handleClose=function(t){null===t||void 0===t?void 0:t.stopPropagation();var n=e.props.list[e.state.currentIndex];e.props.onClose(n)};return e}x()(n,[{key:"componentDidMount",value:function e(){var t=st(this.props.list);var n=dt(this.props.list);this.setState({list:t,navList:n});window.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("keyup",this.handleKeyUp)}},{key:"render",value:function e(){var t=this.props.show;var n=this.state,r=n.list,a=n.navList,i=n.currentIndex;return A.a.createElement("div",{className:"carousel-img-list",style:{display:t?"block":"none"}},A.a.createElement("ul",{style:{width:"".concat(100*r.length,"%"),transform:"translateX(".concat(100*-i,"%)")},onClick:this.handleClose},r.map((function(e,t){return A.a.createElement("li",{key:t,dangerouslySetInnerHTML:{__html:e.copy.outerHTML}})}))),r.length>1&&i>0&&A.a.createElement(xt,{direction:"left",onClick:this.prev}),r.length>1&&i<r.length-1&&A.a.createElement(xt,{direction:"right",onClick:this.next}),A.a.createElement(wt,{list:a,currentIndex:i,onChange:this.handleNavChange}))}}],[{key:"getDerivedStateFromProps",value:function e(t,n){if(t.show!==n.prevShow)return{currentIndex:t.defaultIndex,prevShow:t.show};return null}}]);return n}(A.a.Component);function It(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)It(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else It(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function Tt(e){var t=Nt();return function n(){var r=L()(e),a;if(t){var i=L()(this).constructor;a=b()(r,arguments,i)}else a=r.apply(this,arguments);return T()(this,a)}}function Nt(){if("undefined"===typeof Reflect||!b.a)return false;if(b.a.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(b()(Date,[],(function(){})));return true}catch(e){return false}}var Lt=function(e){I()(n,e);var t=Tt(n);function n(){var e;j()(this,n);e=t.apply(this,arguments);e.state={initialIndex:0,listVisible:false};e.containerEl=null;e.zoomInfo=null;e.animating=false;e.open=function(){if(e.animating)return;e.animating=true;setTimeout((function(){var t=e.props,n=t.target,r=t.transitionDuration,a=t.list;if(!n||!e.containerEl){e.animating=false;return}e.zoomInfo=lt(n,e.containerEl,r);document.body.style.overflow="hidden";var i=e.getInitialIndex(n,a);e.setState({initialIndex:i});e.openList()}))};e.close=function(){if(e.zoomInfo&&e.containerEl){ft(e.zoomInfo.origin,e.zoomInfo.copy,e.containerEl,e.props.transitionDuration);document.body.style.overflow=""}};e.closeList=function(t){if(e.animating||!e.containerEl)return;var n=e.props.transitionDuration;var r=vt(t,e.containerEl,n);setTimeout((function(){e.setState({listVisible:false});if(e.containerEl)mt(r,e.containerEl,n);e.closeCarousel()}))};e.closeCarousel=function(){if(e.animating)return;e.props.onClose()};return e}x()(n,[{key:"componentDidUpdate",value:function e(t){if(this.props.visible!==t.visible)if(this.props.visible){this.open();pt(St(St({},this.props.logParams),{},{action_type:"open"}))}else{this.close();pt(St(St({},this.props.logParams),{},{action_type:"close"}))}}},{key:"getInitialIndex",value:function e(t,n){var r=n.indexOf(t);return r<0?0:r}},{key:"openList",value:function e(){var t=this;setTimeout((function(){t.setState({listVisible:true});Ke()((function(){if(t.zoomInfo)t.zoomInfo.copy.style.display="none";t.animating=false}))}),this.props.transitionDuration)}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.visible,a=n.transitionDuration,i=n.list,o=n.logParams;var c=this.state,u=c.initialIndex,l=c.listVisible;return A.a.createElement(Xe["a"],{className:"detail-image-carousel",visible:r,closeTimeout:a},A.a.createElement("div",{ref:function e(n){t.containerEl=n},onClick:this.closeCarousel},A.a.createElement("div",{className:"mask",style:{transitionDuration:"".concat(a,"ms")}}),A.a.createElement(Ct,{show:l,defaultIndex:u,list:i,logParams:o,onClose:this.closeList})))}}]);return n}(A.a.Component);Lt.defaultProps={transitionDuration:300};var Rt=function(e){return A.a.createElement(Je["a"],null,A.a.createElement(Lt,ie()({},e)))};var At=n("2fb346eb9d0bf63cb593");var Dt=n("d730d7860c0acceffb23");var Pt=n.n(Dt);var Ut=n("43db26ce2aeac2dfc381");var Mt=n("d3f1f89e92b4f6782fd7");var Ft=n("83a311389b32f14cef31");var Vt=n("8400655226bf61906365");var Ht=function e(t){var n,r;var a=t.data,i=t.onClickContent;if(!a)return null;function o(e){null===i||void 0===i?void 0:i(e.target)}return A.a.createElement("div",{className:"article-content"},A.a.createElement("h1",{dangerouslySetInnerHTML:{__html:a.title}}),A.a.createElement("div",{className:ke()("article-meta",{"mt-4":a.showResearch})},a.isOriginal&&A.a.createElement("span",{className:"original-tag"},"\u539f\u521b"),A.a.createElement("span",null,a.publishTime),A.a.createElement("span",{className:"dot"},"\xb7"),A.a.createElement("span",{className:"name"},(null===(n=a.mediaInfo)||void 0===n?void 0:n.name)?A.a.createElement(Vt["a"],{href:"/c/user/token/".concat(a.mediaInfo.userId,"/?source=tuwen_detail"),logInfo:{position:"detail",section:"content_detail"}},null===(r=a.mediaInfo)||void 0===r?void 0:r.name):a.source),a.showResearch&&A.a.createElement("div",{className:"detail-research-wrapper"},A.a.createElement(Ft["a"],{size:"mini"}))),A.a.createElement(G["a"],null,A.a.createElement(Pt.a,{articleClassName:"tt-article-content",execInlineScripts:true,needPreRender:true,platform:"tt_article_pc",forceDevice:Dt["DEVICE_CLASS"].PC,appearance:Dt["APPEARANCE"].LIGHT,cardSettings:{config:{lifeCycle:true,uid:a.sylpageConfig.card.id}},videoSettings:{xiguaConfig:{needAria:true,closeDelayBlur:true}},content:a.content||"",onInteraction:o})),a.hasExtraLink&&A.a.createElement("a",{className:"pc-extra-link",href:"//i.snssdk.com/pgcui/extern_redirect/?item_id=".concat(a.itemId),target:"_blank",rel:"noopener noreferrer nofollow"},"\u4e86\u89e3\u66f4\u591a"))};var Bt=Ht;var Wt=n("5c205b27178ea18852dc");var zt=function e(t){var n=t.abstract,r=t.imgUrl,a=t.title;return A.a.createElement(A.a.Fragment,null,A.a.createElement("p",null,n),A.a.createElement("div",{className:"pgc-img"},A.a.createElement("img",{className:"syl-page-img",src:r,alt:a})))};var qt=function e(t){var n;var r=t.data,a=t.onClickContent;if(!r)return null;var i=r.gallery;var o=(null===i||void 0===i?void 0:i.sub_images)||[];var c=(null===i||void 0===i?void 0:i.sub_abstracts)||[];var u=(null===i||void 0===i?void 0:i.sub_titles)||[];function l(e){e.stopPropagation();null===a||void 0===a?void 0:a(e.target)}return A.a.createElement("div",{className:"article-content"},A.a.createElement("h1",{dangerouslySetInnerHTML:{__html:r.title}}),A.a.createElement("div",{className:ke()("article-meta",{"mt-4":r.showResearch})},A.a.createElement("span",null,r.publishTime),A.a.createElement("span",{className:"dot"},"\xb7"),A.a.createElement("span",null,(null===(n=r.mediaInfo)||void 0===n?void 0:n.name)||r.source),r.showResearch&&A.a.createElement("div",{className:"detail-research-wrapper"},A.a.createElement(Ft["a"],{size:"mini"}))),A.a.createElement("article",{className:"syl-page-article syl-device-pc syl-article-base tt-article-content tt-gallery-content",onClick:l},o.map((function(e,t){return A.a.createElement(zt,{key:t,title:u[t],abstract:c[t],imgUrl:e.url})}))))};var Gt=qt;var Qt=n("86458b0d0c4daedfcb4f");var Kt=n("4948fbe5c6d0ea899cb0");var Yt=n("9b9d3218952e7795f17c");var Zt=n("663529bce6ee6d8996f5");var Jt=n("4d09ad27fd704dfe94be");var Xt=n("f9711afae4ca86286b3f");var $t=n("42d4f6648edde20f9953");var en=n("ed8d16f3f8c4d22e1fe9");var tn=n("d84b833f284337beaf9b");var nn=n("a5b25f8e99db71c1fcf2");var rn=function e(t){var n=t.isFollowing,r=t.isFollowed,a=t.userId,i=t.loginUserInfo;var o=Object(R["useRef"])(false);var c=Object(R["useState"])(n),u=le()(c,2),l=u[0],f=u[1];function s(){return d.apply(this,arguments)}function d(){d=y()(g.a.mark((function e(){var t,n,r,c;return g.a.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:if(!o.current){u.next=2;break}return u.abrupt("return");case 2:if(Object(nn["a"])(i)){u.next=4;break}return u.abrupt("return");case 4:u.prev=4;c=null;o.current=true;if(!l){u.next=14;break}Object(K["a"])("unfollow_user");u.next=11;return Zt["a"].relation.unfollowUser(a);case 11:c=u.sent;u.next=18;break;case 14:Object(K["a"])("follow_user");u.next=17;return Zt["a"].relation.followUser(a);case 17:c=u.sent;case 18:if(!("success"===(null===(t=c)||void 0===t?void 0:t.data.message))){u.next=21;break}f(!l);return u.abrupt("return");case 21:if(!(null===(n=c)||void 0===n?void 0:n.data.message.includes("\u9ed1\u540d\u5355"))){u.next=24;break}tn["a"].info("\u60a8\u5df2\u62c9\u9ed1\u5bf9\u65b9\uff0c\u8bf7\u5148\u5728app\u7aef\u9690\u79c1\u8bbe\u7f6e\u4e2d\u53d6\u6d88\u62c9\u9ed1");return u.abrupt("return");case 24:throw new Error(null===(r=c)||void 0===r?void 0:r.message);case 27:u.prev=27;u.t0=u["catch"](4);tn["a"].info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");void 0;case 31:u.prev=31;o.current=false;return u.finish(31);case 34:case"end":return u.stop()}}),e,null,[[4,27,31,34]])})));return d.apply(this,arguments)}function v(){if(l){if(r)return"\u4e92\u76f8\u5173\u6ce8";return"\u5df2\u5173\u6ce8"}return"\u5173\u6ce8"}return A.a.createElement("button",{"aria-pressed":l,type:"button",className:ke()("user-subscribe-wrapper",{following:l}),onClick:s},A.a.createElement("i",{className:ke()("bui-icon",{"icon-add_small":!l,"icon-check":l})}),A.a.createElement("span",null,v()))};var an=rn;var on=n("6d28fddc554cfed6e598");var cn=function e(){var t=Object(R["useState"])(false),n=le()(t,2),r=n[0],a=n[1];Object(R["useEffect"])((function(){if(window.SVGAnimateElement)a(true)}),[]);return A.a.createElement(on["a"],{animate:r,viewBox:"0 0 298 520",uniqueKey:"author-related-list-loading"},A.a.createElement("rect",{x:"5",y:"16",rx:"5",ry:"5",width:"96",height:"72"}),A.a.createElement("rect",{x:"113",y:"20",rx:"2",ry:"2",width:"160",height:"10"}),A.a.createElement("rect",{x:"114",y:"40",rx:"2",ry:"2",width:"100",height:"10"}),A.a.createElement("rect",{x:"5",y:"120",rx:"5",ry:"5",width:"96",height:"72"}),A.a.createElement("rect",{x:"113",y:"124",rx:"2",ry:"2",width:"160",height:"10"}),A.a.createElement("rect",{x:"114",y:"144",rx:"2",ry:"2",width:"100",height:"10"}),A.a.createElement("rect",{x:"5",y:"224",rx:"5",ry:"5",width:"96",height:"72"}),A.a.createElement("rect",{x:"113",y:"228",rx:"2",ry:"2",width:"160",height:"10"}),A.a.createElement("rect",{x:"113",y:"248",rx:"2",ry:"2",width:"100",height:"10"}),A.a.createElement("rect",{x:"5",y:"326",rx:"5",ry:"5",width:"96",height:"72"}),A.a.createElement("rect",{x:"113",y:"330",rx:"2",ry:"2",width:"160",height:"10"}),A.a.createElement("rect",{x:"113",y:"350",rx:"2",ry:"2",width:"100",height:"10"}),A.a.createElement("rect",{x:"5",y:"428",rx:"5",ry:"5",width:"96",height:"72"}),A.a.createElement("rect",{x:"113",y:"432",rx:"2",ry:"2",width:"160",height:"10"}),A.a.createElement("rect",{x:"113",y:"452",rx:"2",ry:"2",width:"100",height:"10"}))};var un=cn;function ln(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)ln(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else ln(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function sn(e){var t;var n=[];if(e.large_image_list)n=e.large_image_list;else if(e.image_list)n=e.image_list;else if(e.middle_image)n=[].concat(e.middle_image);return Object(V["l"])(null===(t=n[0])||void 0===t?void 0:t.url)}function dn(e){return function(t,n){var r=t[e];var a=n[e];return a-r}}function vn(e,t){var n=[];var r=[];(e.data||[]).forEach((function(e){var a,i,o;var c=Object(Jt["a"])(e.raw_data);c=c&&Object(V["t"])(c)||{};var u=sn(c);var l=(null===(a=c.log_pb)||void 0===a?void 0:a.group_id_str)||c.group_id;var f={itemId:c.item_id_str||c.item_id,groupId:l,groupSource:c.group_source,title:c.title,url:Object(Ge["b"])(Ge["a"].ARTICLE,l),behotTime:Object(V["k"])(c.behot_time),imageUrl:u,commentsCount:Object(V["j"])(c.comment_count),readCount:c.read_count,readCountStr:Object(V["j"])(c.read_count),imprId:null===(i=c.log_pb)||void 0===i?void 0:i.impr_id,isFollowing:null===(o=c.log_pb)||void 0===o?void 0:o.is_following,isStick:c.is_stick};if(f.groupId===t)return;if(u)n.push(f);else r.push(f)}));return(n.length?n:r).sort(dn("readCount")).slice(0,5).map((function(e,t){return fn(fn({},e),{},{rank:t+1})}))}var mn=function e(t){var n;var r=t.gid,a=t.mediaInfo,i=t.relation,o=t.isSelf,c=t.loginUserInfo,u=t.logParams;var l=Object(R["useState"])(true),f=le()(l,2),s=f[0],d=f[1];var v=Object(R["useState"])([]),m=le()(v,2),p=m[0],b=m[1];var h=Object(R["useState"])(false),_=le()(h,2),w=_[0],k=_[1];var E=(null===a||void 0===a?void 0:a.userVerified)&&(null===a||void 0===a?void 0:null===(n=a.userAuthInfo)||void 0===n?void 0:n.auth_info)?a.userAuthInfo.auth_info:(null===a||void 0===a?void 0:a.description)||"";var j=Object(R["useCallback"])(function(){var e=y()(g.a.mark((function e(t){var n,a,i;return g.a.wrap((function e(o){while(1)switch(o.prev=o.next){case 0:if(t){o.next=2;break}return o.abrupt("return");case 2:o.prev=2;o.next=5;return Zt["a"].feed.getDetailHotList({userId:t});case 5:n=o.sent;a=n.data;if("success"===a.message){i=vn(a,r);b(i);k(!i.length)}else k(true);d(false);o.next=16;break;case 11:o.prev=11;o.t0=o["catch"](2);void 0;d(false);k(true);case 16:case"end":return o.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),[r]);Object(R["useEffect"])((function(){if(!a)return;j(a.userId)}),[a,j]);if(!a)return null;function O(e,t){t.preventDefault();Object(Z["c"])(fn(fn({},u),{},{area:"author_related",gid:e.groupId,href:e.url,show_rank:e.rank||0,section:"author_card",group_source:e.groupSource,group_id:e.groupId,article_type:"text",is_top_content:e.isStick?"1":"0"}));var n=Object(H["a"])()||{},r=n.category_name,a=n.channel_id,i=n.enter_from;var o=Object(Q["b"])(e.url,{category_name:r,channel_id:a,enter_from:i,impr_id:e.imprId,is_following:e.isFollowing,is_top_content:e.isStick?"1":"0",show_rank:e.rank||0,section:"author_card"});window.open(o)}function x(e){Object(K["a"])("detail_page_widget_click",{group_id:r,widget_name:"author_card",from_position:e})}function C(e,t){var n,r;e.preventDefault();e.stopPropagation();x(t);var i=(null===(n=e.currentTarget)||void 0===n?void 0:n.getAttribute("href"))||"/c/user/token/".concat(null===a||void 0===a?void 0:a.userId,"/?source=").concat(u.page_name);var o=Object(Q["b"])(i,{position:"detail",enter_from:(null===(r=Object(H["a"])())||void 0===r?void 0:r.enter_from)||"",section:"content_detail"});window.open(o)}function I(e){Object(K["a"])("client_show",fn(fn({},u),{},{show_rank:e.rank||0,section:"author_card",group_source:e.groupSource,group_id:e.groupId,article_type:"text",is_top_content:e.isStick?"1":"0"}))}var S=A.a.createElement(A.a.Fragment,null,A.a.createElement("div",{className:"related-title"},A.a.createElement("span",null,"TA\u7684\u70ed\u95e8\u4f5c\u54c1")),s&&A.a.createElement(un,null),!!p.length&&A.a.createElement("ul",{className:"related-list",onClick:function e(){return x("list")}},p.map((function(e){return A.a.createElement(Kt["a"],{onVisible:function t(n){return n&&I(e)},once:true,key:e.itemId},A.a.createElement("li",{className:"related-list-item"},e.imageUrl&&A.a.createElement("a",{tabIndex:-1,"aria-hidden":true,className:"left-img",href:e.url,target:"_blank",rel:"noopener nofollow",onClick:function t(n){return O(e,n)}},A.a.createElement("i",{className:"pic",style:{backgroundImage:"url(".concat(e.imageUrl,")")}})),A.a.createElement("div",{className:"right-content"},A.a.createElement("a",{className:"title",href:e.url,"aria-label":"".concat(e.title,"\uff0c").concat(e.readCountStr,"\u9605\u8bfb\uff0c").concat(e.behotTime,"\u53d1\u5e03"),target:"_blank",rel:"noopener nofollow",onClick:function t(n){return O(e,n)}},e.title),A.a.createElement("p",{className:"info"},A.a.createElement("span",null,e.readCountStr,"\u9605\u8bfb"),A.a.createElement("span",null,e.behotTime)))))}))),A.a.createElement("a",{className:"look-more",href:"/c/user/token/".concat(a.userId,"/?source=").concat(u.page_name),target:"_blank",rel:"noopener nofollow",onClick:function e(t){return C(t,"more")}},A.a.createElement("span",null,"\u67e5\u770b\u66f4\u591a"),A.a.createElement("i",{className:"icon-arrow"})));return A.a.createElement("div",{role:"complementary","aria-label":"\u4f5c\u8005\u4fe1\u606f",className:"media-info"},A.a.createElement("div",{className:"user-info"},A.a.createElement("a",{"aria-label":"\u4f5c\u8005\u5934\u50cf",className:"user-avatar",target:"_blank",rel:"noopener nofollow",href:"/c/user/token/".concat(a.userId,"/?source=").concat(u.page_name),onClick:function e(t){return C(t,"author_profile")}},A.a.createElement("img",{src:a.avatarUrl,alt:"".concat(a.name," \u5934\u50cf")}),A.a.createElement($t["a"],{size:16,userAuthInfo:a.userAuthInfo})),A.a.createElement("a",{className:"user-name",target:"_blank",rel:"noopener nofollow",href:"/c/user/token/".concat(a.userId,"/?source=").concat(u.page_name),onClick:function e(t){return C(t,"author_name")}},a.name),E&&A.a.createElement("p",{className:"user-auth"},E),!o&&A.a.createElement(an,{isFollowing:!!(null===i||void 0===i?void 0:i.isFollowing),userId:a.userId,loginUserInfo:c})),!w&&S,!!p.length&&A.a.createElement(Xt["a"],{urls:p.map((function(e){return e.url}))}))};var pn=mn;var bn=n("b9e2ac6f626cdcc37066");var hn=n("e7201fa908046c02f513");function gn(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)gn(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else gn(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var yn=function e(t){var n=t.disable,r=void 0===n?false:n,a=t.position,i=t.placeholderWidth,o=void 0===i?0:i,c=t.placeholderHeight,u=void 0===c?0:c,l=t.children;var f=Object(R["useRef"])(false);var s=Object(R["useRef"])(null);var d=Object(R["useCallback"])((function(){if(r)return;var e=window.scrollX;f.current=true;Ke()((function(){if(s.current)s.current.style.transform="translateX(-".concat(e,"px)");f.current=false}))}),[r]);Object(R["useEffect"])((function(){window.addEventListener("scroll",d);d();return function(){window.removeEventListener("scroll",d)}}),[d]);Object(R["useEffect"])((function(){if(!s.current)return;if(r)s.current.style.transform="none";else s.current.style.transform="translateX(-".concat(window.scrollX,"px)")}),[r]);return A.a.createElement(A.a.Fragment,null,A.a.createElement("div",{style:{display:r?"none":"block",width:o,height:u}}),A.a.createElement("div",{style:_n({position:r?"static":"fixed"},a),ref:s},l))};var wn=yn;var kn=function e(t){var n=Object(R["useRef"])(null);var r=Object(R["useState"])(611),a=le()(r,2),i=a[0],o=a[1];function c(){setTimeout((function(){var e,t;var r=null===(e=n.current)||void 0===e?void 0:null===(t=e.dom)||void 0===t?void 0:t.clientHeight;if(r)o(r)}))}return A.a.createElement("div",{role:"complementary","aria-label":"\u5934\u6761\u70ed\u699c",className:"detail-hotboard"},A.a.createElement(wn,{disable:!t.fixed,placeholderWidth:298,placeholderHeight:i,position:{top:88,zIndex:100}},A.a.createElement(bn["a"],{ref:n,logParams:t.logParams,onSuccess:c})))};var En=kn;var jn=n("892f788fdb5a8ff13b0d");var On=n("1d7fcef557f69e9ba680");var xn=n("ba5c9f6f094cd420b97f");var Cn=n("e763df33e8176fe29b0e");function In(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)In(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else In(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function Tn(e){return e.filter((function(e){return 211===e.cell_type})).map((function(e,t){var n,r,a,i;return{itemId:e.item_id,groupId:e.group_id,gid:e.gid,groupSource:e.group_source,title:e.title,imgUrl:Object(V["l"])((null===(n=e.middle_image)||void 0===n?void 0:n.url)||(null===(r=e.video_detail_info)||void 0===r?void 0:null===(a=r.detail_video_large_image)||void 0===a?void 0:a.url)),sourceUrl:Object(Ge["b"])(Ge["a"].SELF_VIDEO,e.group_id),duration:Object(V["h"])(e.video_duration),watchCount:Object(V["j"])(null===(i=e.video_detail_info)||void 0===i?void 0:i.video_watch_count,false,false),rank:t+1,userInfo:e.user_info,logInfo:Sn(Sn({},e.log_pb),{},{item_id:e.item_id,show_rank:Number(e.rank)+1,section:"hot_video"})}}))}var Nn=function e(t){var n=t.onRef,r=t.logParams;var a=Object(R["useRef"])(null);var i=Object(R["useRef"])(false);var o=Object(R["useRef"])(0);var c=Object(R["useState"])([]),u=le()(c,2),l=u[0],f=u[1];var s=Object(R["useCallback"])((function(){var e=Math.floor(46*Math.random());if(e>o.current-5&&e<o.current+5)return s();return e}),[]);var d=Object(R["useCallback"])((function(e){Object(K["a"])("category_refresh",Sn(Sn({},r),{},{section:"hot_video",reload_type:"change",is_null:e}))}),[r]);var v=Object(R["useCallback"])(function(){var e=y()(g.a.mark((function e(t){var n,r,a,c,u,l;return g.a.wrap((function e(v){while(1)switch(v.prev=v.next){case 0:if(!i.current){v.next=2;break}return v.abrupt("return");case 2:i.current=true;v.prev=3;n=s();o.current=n;v.next=8;return Zt["a"].feed.getHotVideoData(n);case 8:r=v.sent;a=r.data||{},c=a.message,u=a.data;if(!("success"===c)){v.next=16;break}l=Tn(u);f(l.slice(0,5));if("change"===t)d(0);v.next=17;break;case 16:throw new Error(r.data.message);case 17:i.current=false;v.next=25;break;case 20:v.prev=20;v.t0=v["catch"](3);i.current=false;void 0;if("change"===t)d(1);case 25:case"end":return v.stop()}}),e,null,[[3,20]])})));return function(t){return e.apply(this,arguments)}}(),[s,d]);Object(R["useEffect"])((function(){v()}),[]);Object(R["useImperativeHandle"])(n,(function(){return{refresh:function e(){v()}}}));function m(e){Object(K["a"])("detail_page_widget_click",{group_id:r.from_gid,widget_name:"video_card",from_position:e})}function p(){v("change");m("change")}function b(e){Object(Z["c"])(Sn(Sn({},r),{},{area:"hot_videos",gid:e.gid,href:e.sourceUrl,show_rank:e.rank,section:"hot_video",group_source:e.groupSource,group_id:e.gid,article_type:"video",is_top_content:"0"}));m("list")}function h(e){var t;Object(K["a"])("client_show",Sn(Sn({},r),{},{show_rank:e.rank,section:"hot_video",group_source:e.groupSource,group_id:e.gid,article_type:"video",is_top_content:"0",is_following:(null===(t=e.userInfo)||void 0===t?void 0:t.follow)?"1":"0",key_name:"tt_pc_feed"}))}return A.a.createElement("div",{role:"complementary","aria-label":"\u7cbe\u5f69\u89c6\u9891",className:"hot-video",ref:a},A.a.createElement(xn["a"],{className:"video-header",type:"hotVideo",title:"\u7cbe\u5f69\u89c6\u9891",onClick:p}),A.a.createElement("div",{className:"video-list"},l.map((function(e){return A.a.createElement(Kt["a"],{onVisible:function t(n){return n&&h(e)},once:true,key:e.gid},A.a.createElement("div",{className:"video-item"},A.a.createElement(Cn["a"],{tabIndex:-1,"aria-hidden":true,className:"left-img",href:e.sourceUrl,logInfo:Object(On["b"])(e,r),onClick:function t(){return b(e)}},A.a.createElement("i",{className:"pic",style:{backgroundImage:"url(".concat(e.imgUrl,")")}}),A.a.createElement("p",{className:"duration"},e.duration)),A.a.createElement("div",{className:"right-content"},A.a.createElement(Cn["a"],{className:"title",href:e.sourceUrl,title:e.title,logInfo:Object(On["b"])(e,r),onClick:function t(){return b(e)}},e.title),A.a.createElement("p",{className:"info"},e.watchCount,"\u6b21\u64ad\u653e"))))}))))};var Ln=Nn;var Rn=n("5f50dd5472034bc9ced6");var An=n("a20f03753300ba348bc3");var Dn=n("fc2cfd1b6b52d60a2681");var Pn=function e(t){var n=t.groupId,r=t.likeCount,a=void 0===r?0:r,i=t.userLiked,o=void 0===i?false:i,c=t.loginUserInfo,u=t.logParams,l=t.diggType;var f=Object(R["useState"])(a),s=le()(f,2),d=s[0],v=s[1];var m=Object(R["useState"])(o),p=le()(m,2),b=p[0],h=p[1];var _=Object(R["useRef"])(false);function w(){return k.apply(this,arguments)}function k(){k=y()(g.a.mark((function e(){var t;return g.a.wrap((function e(r){while(1)switch(r.prev=r.next){case 0:Object(K["a"])("interaction_bar_action",{action_type:"click",from_position:"like"});if(b)Object(K["a"])("rt_unlike",u);else Object(K["a"])("rt_like",u);if(!(!Object(nn["a"])(c)||_.current)){r.next=4;break}return r.abrupt("return");case 4:r.prev=4;_.current=true;r.next=8;return Zt["a"].user.diggArticle(n,b?-1:1,l);case 8:t=r.sent;if(!("success"===t.data.message)){r.next=15;break}_.current=false;h(!b);v(b?d-1:d+1);r.next=16;break;case 15:throw new Error(t.data.message);case 16:r.next=23;break;case 18:r.prev=18;r.t0=r["catch"](4);tn["a"].info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");_.current=false;void 0;case 23:case"end":return r.stop()}}),e,null,[[4,18]])})));return k.apply(this,arguments)}function E(e){var t=e.keyCode;if(32===t||13===t){e.preventDefault();w()}}return A.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u70b9\u8d5e".concat(Object(V["j"])(d)),"aria-pressed":b,className:ke()("detail-like",{like:b}),onClick:w,onKeyDown:E},A.a.createElement("div",{className:"digg-icon"},A.a.createElement("div",{className:"inner"},A.a.createElement("i",null))),A.a.createElement("span",null,d>0?Object(V["j"])(d):"\u8d5e"))};var Un=Pn;var Mn=n("5183bcdddddfd7790485");var Fn=function e(t){var n=t.commentCountStr,r=t.onClick;function a(){Object(K["a"])("interaction_bar_action",{action_type:"click",from_position:"comment"});r()}function i(e){var t=e.keyCode;if(32===t||13===t){e.preventDefault();a()}}return A.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u6253\u5f00\u8bc4\u8bba\u9762\u677f\uff0c".concat(n,"\u8bc4\u8bba"),className:"detail-interaction-comment",onClick:a,onKeyDown:i},A.a.createElement("span",null,"0"===n?"\u8bc4\u8bba":n))};var Vn=Fn;var Hn=n("283705023d97b64a3c68");var Bn=function e(t){var n=t.collected,r=t.loginUserInfo,a=t.groupId,i=t.itemId,o=t.logParams;var c=Object(R["useState"])(n),u=le()(c,2),l=u[0],f=u[1];var s=Object(R["useRef"])(false);function d(){return v.apply(this,arguments)}function v(){v=y()(g.a.mark((function e(){var t,n,c;return g.a.wrap((function e(u){while(1)switch(u.prev=u.next){case 0:Object(K["a"])("interaction_bar_action",{action_type:"click",from_position:"favorite"});if(l)Object(K["a"])("rt_unfavorite",o);else Object(K["a"])("rt_favorite",o);if(!(!Object(nn["a"])(r)||s.current)){u.next=4;break}return u.abrupt("return");case 4:u.prev=4;s.current=true;c=null;if(!l){u.next=13;break}u.next=10;return Zt["a"].user.dislikeArticle(a,i);case 10:c=u.sent;u.next=16;break;case 13:u.next=15;return Zt["a"].user.likeArticle(a,i);case 15:c=u.sent;case 16:if(!("success"===(null===(t=c)||void 0===t?void 0:t.data.message))){u.next=20;break}f(!l);s.current=false;return u.abrupt("return");case 20:throw new Error(null===(n=c)||void 0===n?void 0:n.data.message);case 23:u.prev=23;u.t0=u["catch"](4);s.current=false;tn["a"].info("\u6536\u85cf\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");void 0;case 28:case"end":return u.stop()}}),e,null,[[4,23]])})));return v.apply(this,arguments)}function m(e){var t=e.keyCode;if(32===t||13===t){e.preventDefault();d()}}return A.a.createElement("div",{tabIndex:0,role:"button","aria-label":"\u6536\u85cf","aria-pressed":l,className:ke()("detail-interaction-collect",{collected:l}),onClick:d,onKeyDown:m},A.a.createElement("div",{className:"collect-icon"},A.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.448 18.0551C12.1658 17.9136 11.8334 17.9136 11.5513 18.0551L6.28528 20.6965C5.9852 20.847 5.64437 20.5832 5.71485 20.255L6.89736 14.7477C6.96955 14.4115 6.86391 14.0618 6.61765 13.8217L2.60748 9.91277C2.37007 9.68135 2.50108 9.27817 2.82916 9.23049L8.39769 8.42134C8.7234 8.37401 9.00496 8.16944 9.15062 7.8743L11.6409 2.82836C11.7877 2.53106 12.2116 2.53106 12.3583 2.82836L14.8487 7.8743C14.9943 8.16944 15.2759 8.37401 15.6016 8.42134L21.1701 9.23049C21.4982 9.27817 21.6292 9.68135 21.3918 9.91277L17.3816 13.8217C17.1354 14.0618 17.0297 14.4115 17.1019 14.7478L18.2846 20.255C18.3551 20.5832 18.0143 20.847 17.7142 20.6965L12.448 18.0551Z"}))),A.a.createElement("span",null,l?"\u5df2\u6536\u85cf":"\u6536\u85cf"))};var Wn=Bn;function zn(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)zn(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else zn(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var Gn=function e(t){var n=t.likeData,r=t.commentCount,a=t.isCollected,i=t.shareConfig,o=t.loginUserInfo,c=t.groupId,u=t.itemId,l=t.diggType,f=t.onCommentClick;var s=Object(Q["a"])()||{},d=s.is_top_content,v=void 0===d?"0":d,m=s.show_rank,p=void 0===m?0:m;var b=qn(qn({},t.logParams),{},{is_top_content:v,show_rank:p,section:"content_detail"});function h(e){Object(K["a"])("rt_share_to_platform",qn(qn({},b),{},{share_platform:e}))}function g(e){Object(K["a"])("share_button",qn(qn({},b),{},{action_type:e}))}function _(){Object(K["a"])("repost_publish_done",b)}return A.a.createElement(wn,{position:{top:164,zIndex:200},placeholderWidth:0,placeholderHeight:0},A.a.createElement("div",{role:"complementary","aria-label":"\u5de5\u5177\u680f",className:"detail-side-interaction"},A.a.createElement(Un,{groupId:c,likeCount:n.count,userLiked:!!n.userLikeStatus,loginUserInfo:o,diggType:l,logParams:b}),A.a.createElement("div",{className:"divide"}),A.a.createElement(Vn,{commentCountStr:r,onClick:f}),A.a.createElement("div",{style:{margin:"20px 0"}},A.a.createElement(Wn,{collected:a,loginUserInfo:o,groupId:c,itemId:u,logParams:b})),A.a.createElement("div",{style:{textAlign:"center"}},A.a.createElement(Rn["a"],{shareConfig:i.default,wtt:i.wtt,openType:"hover",onShare:h,onShareAction:g,onWttSubmit:_}))))};var Qn=Gn;var Kn=n("ed0e645fb10944a4fb8f");var Yn=n("f9e7ab430b1eaeaf2713");var Zn=n("7d92094057582d9db023");var Jn=n("b185499127a129210d8e");function Xn(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)Xn(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else Xn(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function er(e){var t=tr();return function n(){var r=L()(e),a;if(t){var i=L()(this).constructor;a=b()(r,arguments,i)}else a=r.apply(this,arguments);return T()(this,a)}}function tr(){if("undefined"===typeof Reflect||!b.a)return false;if(b.a.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(b()(Date,[],(function(){})));return true}catch(e){return false}}var nr=0;var rr=function(e){I()(n,e);var t=er(n);function n(){var e;j()(this,n);e=t.apply(this,arguments);e.state={refresh:false,loading:false,increasedCount:0,refreshErrTips:null,hasMore:true,list:[]};e.feedEl=null;e.refresh=function(){var t=y()(g.a.mark((function t(n){var r,a,i,o,c,u,l;return g.a.wrap((function t(f){while(1)switch(f.prev=f.next){case 0:if(!(e.state.refresh||e.state.loading)){f.next=2;break}return f.abrupt("return");case 2:e.setState({refresh:true});f.prev=3;f.next=6;return e.fetchFeedData({min_behot_time:n});case 6:r=f.sent;if(!("success"===r.data.message)){f.next=17;break}a=r.data.data||[];a=Object(Kn["b"])(a,{__log_area:"detail_feed",__log_impr_type:"__detail_feed",__log_enter_from:"click_headline",__log_category_name:"related",__log_section:"detail_feed"});i=e.state.list;o=0===n?"after":"before";c=Object(Kn["m"])(a,i,nr,o);u=c.length-(i.length?i.length:1);e.setState({increasedCount:u<0?0:u,refreshErrTips:null,hasMore:r.data.has_more,list:c},(function(){setTimeout((function(){e.setState({refresh:false,increasedCount:0})}),1500)}));f.next=18;break;case 17:throw new Error(r.data.message);case 18:f.next=25;break;case 20:f.prev=20;f.t0=f["catch"](3);void 0;l=null===f.t0||void 0===f.t0?void 0:f.t0.message;e.setState((function(){return{refreshErrTips:"Network Error"===l||l.indexOf("timeout")>-1?Zn["a"].NETWORK_ERR:Zn["a"].SERVICE_ERR}}),(function(){setTimeout((function(){e.setState({refresh:false,refreshErrTips:null})}),1500)}));case 25:case"end":return f.stop()}}),t,null,[[3,20]])})));return function(e){return t.apply(this,arguments)}}();e.loadMore=y()(g.a.mark((function t(){var n,r,a,i,o;return g.a.wrap((function t(c){while(1)switch(c.prev=c.next){case 0:if(!(e.state.loading||e.state.refresh)){c.next=2;break}return c.abrupt("return");case 2:e.setState({loading:true});n={category_name:"related",position:"detail",enter_from:"click_headline",section:"detail_feed",reload_type:"loadmore"};c.prev=4;r={max_behot_time:e.state.list.length?e.state.list[e.state.list.length-1].behot_time:0};c.next=8;return e.fetchFeedData(r);case 8:a=c.sent;if(!("success"===a.data.message)){c.next=17;break}i=a.data.data||[];i=Object(Kn["b"])(i,{__log_area:"detail_feed",__log_impr_type:"__detail_feed",__log_enter_from:"click_headline",__log_category_name:"related",__log_section:"detail_feed"});o=Object(Kn["l"])(i,e.state.list,nr);e.setState({list:o,hasMore:a.data.has_more},(function(){e.setState({loading:false})}));Object(Z["a"])($n($n({},n),{},{is_null:i.length?0:1}));c.next=18;break;case 17:throw new Error(a.data.message);case 18:c.next=25;break;case 20:c.prev=20;c.t0=c["catch"](4);void 0;e.setState({loading:false});Object(Z["a"])($n($n({},n),{},{is_null:1}));case 25:case"end":return c.stop()}}),t,null,[[4,20]])})));e.handleRefresh=function(){var t=e.state.list.length?e.state.list[0].behot_time:0;e.refresh(t)};e.handleSubscribe=function(t,n){e.setState((function(e){return{list:Object(Kn["n"])(t,n,e.list)}}))};e.handleDislike=function(t){var n=document.activeElement;var r=Object(V["m"])(e.feedEl);e.setState((function(e){return{list:Object(Kn["e"])(t.group_id,e.list)}}));Object(V["f"])(n,r)};e.handleLikeChange=function(t,n){e.setState((function(e){return{list:Object(Kn["o"])(t,n,e.list)}}))};return e}x()(n,[{key:"componentDidMount",value:function e(){var t=this;setTimeout((function(){if(t.props.hasRelated)t.init();else t.refresh(0)}),0)}},{key:"init",value:function(){var e=y()(g.a.mark((function e(){var t,n,r;return g.a.wrap((function e(a){while(1)switch(a.prev=a.next){case 0:this.setState({loading:true});a.prev=1;a.next=4;return Zt["a"].feed.getDetailRelatedList({gid:this.props.groupId});case 4:t=a.sent;if(!("success"===t.data.message)){a.next=12;break}n=t.data.data||[];r=Object(Kn["m"])(n,[],94349561185,"before");r=Object(Kn["b"])(r,{__log_area:"item_related",__log_impr_type:"__detail_related",__log_enter_from:"click_related",__log_category_name:"related",__log_section:"detail_feed"});this.setState({loading:false,list:r});a.next=13;break;case 12:throw new Error(t.data.message);case 13:a.next=19;break;case 15:a.prev=15;a.t0=a["catch"](1);void 0;this.setState({loading:false});case 19:this.refresh(0);case 20:case"end":return a.stop()}}),e,this,[[1,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchFeedData",value:function e(t){return Zt["a"].feed.getDetailFeedList(t)}},{key:"render",value:function e(){var t=this;var n=this.props.groupId;var r=this.state,a=r.refresh,i=r.loading,o=r.hasMore,c=r.increasedCount,u=r.refreshErrTips,l=r.list;var f=$n($n({},this.props.logParams),{},{from_gid:n,section:"detail_feed"});return A.a.createElement(Yn["a"],{toTopOffset:-84,refresh:a,loading:i,hasMore:o,onLoadMore:this.loadMore},A.a.createElement("div",{role:"region","aria-label":"\u76f8\u5173\u63a8\u8350",className:"detail-end-feed",ref:function e(n){t.feedEl=n}},a&&A.a.createElement(Zn["b"],{count:c,errorTips:u}),A.a.createElement("div",{style:{marginTop:20}},A.a.createElement(Jn["a"],{list:l,logParams:f,onSubscribe:this.handleSubscribe,onDislike:this.handleDislike,onRefresh:this.handleRefresh,onLikeChange:this.handleLikeChange}))))}}]);return n}(A.a.Component);var ar=Object(G["b"])(rr);function ir(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)ir(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else ir(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var cr=null;var ur=function e(t){var n=Object(R["useContext"])(M["a"]);var r=n||{},a=r.groupId,i=void 0===a?"":a,o=r.itemId,c=void 0===o?"":o,u=r.articleType,l=void 0===u?"article":u,f=r.relation,s=r.likeData,d=void 0===s?{count:0,userLikeStatus:0}:s,v=r.commentCount,m=void 0===v?"0":v,p=r.favorite,b=void 0===p?false:p,h=r.mediaInfo,g=r.mediaSite,_=r.isSelf,y=r.loginUserInfo,w=r.cover,k=void 0===w?"":w,E=r.title,j=void 0===E?"":E,O=r.identity,x=r.abtestInfo,C=r.setCommentCount;var I=Object(R["useRef"])(null);var S=Object(R["useState"])(false),T=le()(S,2),N=T[0],L=T[1];var D=Object(R["useState"])(null),P=le()(D,2),U=P[0],V=P[1];var B=Object(R["useState"])([]),W=le()(B,2),z=W[0],q=W[1];var G=Object(R["useState"])(false),Q=le()(G,2),Y=Q[0],Z=Q[1];var J=Object(R["useState"])(true),X=le()(J,2),$=X[0],ee=X[1];var te={origin:{content:j,cover:k,user:h&&{name:h.name,uid:h.userId}},repostParams:{fw_id:i,fw_id_type:4,fw_user_id:(null===h||void 0===h?void 0:h.unsafeUserId)||0,opt_id:i,opt_id_type:4,repost_to_comment:1,repost_type:211,title:j,group_id:i,item_id:c},loginUserInfo:y&&{uid:y.userId}};var ne=or(or({},cr),{},{page_name:F["e"][l],from_gid:i,position:"detail"});Object(R["useEffect"])((function(){cr=Object(H["a"])()||{};if(g){var e=new qe;e.loadAsync(g);Object(K["a"])("diversion_log",{site_url:g})}}),[]);var re=Object(R["useCallback"])((function(e){Z(e)}),[]);function ae(e){ee(!e)}function ie(e){null===C||void 0===C?void 0:C(e)}function oe(e){if(!e)return;if("img"===e.tagName.toLowerCase()&&"syl-page-img"===e.className){V(e);L(true);if(!z.length)q(Array.prototype.slice.call(document.querySelectorAll(".tt-article-content .syl-page-img")))}}function ce(){L(false);V(null)}function ue(e){var t=Object(H["a"])()||{},n=t.enter_from,r=void 0===n?"":n,a=t.channel_id,o=void 0===a?0:a,c=t.category_name,u=void 0===c?"":c;Object(K["a"])("content_section_show",{group_id:i,widget_name:e,position:"detail",category_name:u,channel_id:o,enter_from:r,section:e,is_has_following:(null===y||void 0===y?void 0:y.followingCount)?1:0})}function fe(){var e;null===(e=I.current)||void 0===e?void 0:e.openCommentPanel()}return A.a.createElement("div",{role:"main",className:"article-detail-container"},A.a.createElement("div",{className:"left-sidebar"},A.a.createElement("div",{style:{display:$?"block":"none"}},A.a.createElement(Qn,{loginUserInfo:y,groupId:i,itemId:c,likeData:d,commentCount:m,isCollected:b,shareConfig:{default:{title:j,url:Object(Ge["b"])(Ge["a"].ARTICLE,i),cover:k},wtt:te},diggType:F["c"].ARTICLE,logParams:t.logParams,onCommentClick:fe}))),A.a.createElement("div",{className:"main"},A.a.createElement(At["a"],{inViewHandler:function e(){return ue("content_detail")}},l===F["a"].gallery?A.a.createElement(Gt,{data:n,onClickContent:oe}):A.a.createElement(Bt,{data:n,onClickContent:oe})),A.a.createElement("div",{className:"action"},A.a.createElement(Qt["a"],{groupId:i,source:F["g"].ARTICLE,webid:(null===O||void 0===O?void 0:O.web_id)||""})),A.a.createElement("div",{style:{margin:"20px 0 40px"}},A.a.createElement(Ve,{ref:I,loginUserInfo:y&&{name:y.name,uid:y.userId,avatar:y.avatarUrl},isReplyList:false,groupId:i,itemId:c,webid:(null===O||void 0===O?void 0:O.web_id)||"",previewCount:3,defaultCount:20,logParams:t.logParams,onInitEnd:ie})),A.a.createElement(Ze,{offset:437,onViewChange:ae},A.a.createElement("div",{className:"divide"})),A.a.createElement(Be["a"].Provider,{value:y&&or(or({},y),{},{isPgc:y.isPgc?1:0})},A.a.createElement(We["a"].Provider,{value:{webid:(null===O||void 0===O?void 0:O.web_id)||"",abtestInfo:x}},A.a.createElement(At["a"],{inViewHandler:function e(){return ue("detail_feed")}},A.a.createElement(ar,{groupId:i,itemId:c,hasRelated:true,logParams:ne,abtestInfo:x}))))),A.a.createElement("div",{className:"right-sidebar"},A.a.createElement(At["a"],{inViewHandler:function e(){return ue("author_card")}},A.a.createElement(pn,{gid:i,relation:f,mediaInfo:h,isSelf:!!_,loginUserInfo:y||null,logParams:ne})),A.a.createElement(At["a"],{inViewHandler:function e(){return ue("hot_spot")}},A.a.createElement(En,{fixed:Y,logParams:ne})),A.a.createElement(Ze,{offset:64,onViewChange:re},A.a.createElement(At["a"],{inViewHandler:function e(){return ue("hot_video")}},A.a.createElement(Ln,{logParams:ne})))),A.a.createElement(Rt,{visible:N,target:U,list:z,logParams:{page_name:ne.page_name,group_id:i},onClose:ce}))};var lr=ur;var fr=n("3ec5a4f3c530463c912e");var sr=n("6740510cbb0e5ccf88eb");var dr=n("f379d8630b54b982148d");var vr=n("70793f6623c7d80d47e6");var mr=n("0e07c12661fbe9d3d4af");var pr=n("21ba294a771470c868d7");var br=function e(t){var n=t.userInfo,r=t.loginUserInfo,a=t.onSubscribe;var i=Object(R["useRef"])(false);var o=Object(R["useState"])(n.isFollow),c=le()(o,2),u=c[0],l=c[1];function f(){return s.apply(this,arguments)}function s(){s=y()(g.a.mark((function e(){var t,o,c,f,s;return g.a.wrap((function e(d){while(1)switch(d.prev=d.next){case 0:if(!i.current){d.next=2;break}return d.abrupt("return");case 2:if(Object(nn["a"])(r)){d.next=4;break}return d.abrupt("return");case 4:t=!u;d.prev=5;s=null;i.current=true;if(!t){d.next=14;break}d.next=11;return Zt["a"].relation.followUser(n.userSecToken);case 11:s=d.sent;d.next=17;break;case 14:d.next=16;return Zt["a"].relation.unfollowUser(n.userSecToken);case 16:s=d.sent;case 17:if(!("success"===(null===(o=s)||void 0===o?void 0:o.data.message))){d.next=21;break}null===a||void 0===a?void 0:a(t);l(t);return d.abrupt("return");case 21:if(!(null===(c=s)||void 0===c?void 0:c.data.message.includes("\u9ed1\u540d\u5355"))){d.next=24;break}tn["a"].info("\u60a8\u5df2\u62c9\u9ed1\u5bf9\u65b9\uff0c\u8bf7\u5148\u5728app\u7aef\u9690\u79c1\u8bbe\u7f6e\u4e2d\u53d6\u6d88\u62c9\u9ed1");return d.abrupt("return");case 24:throw new Error(null===(f=s)||void 0===f?void 0:f.message);case 27:d.prev=27;d.t0=d["catch"](5);tn["a"].info("\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5");void 0;case 31:d.prev=31;i.current=false;return d.finish(31);case 34:case"end":return d.stop()}}),e,null,[[5,27,31,34]])})));return s.apply(this,arguments)}return A.a.createElement("button",{type:"button",className:ke()("wtt-detail-subscribe",{followed:u}),onClick:f},A.a.createElement("i",null),A.a.createElement("span",null,u?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"))};var hr=br;var gr=function e(t){var n,r,a,i;var o=t.data,c=t.onClickContent;if(!o)return null;var u=o.loginUserInfo,l=o.mediaInfo,f=o.publishTime,s=o.relation,d=o.isSelf,v=o.showOrigin,m=o.seoTDK;var p=o.richContent||o.content||"";var b=o.ugcImages||[];var h=null===(n=m.title.match(/(.+?)[_-]/))||void 0===n?void 0:n[1];function g(e){e.stopPropagation();c&&c(e.target)}function _(e){var t;e.preventDefault();var n=Object(Q["b"])("/c/user/token/".concat(l.userId,"/?source=weitoutiao_detail"),{position:"detail",enter_from:(null===(t=Object(H["a"])())||void 0===t?void 0:t.enter_from)||"",section:"content_detail"});window.open(n)}return A.a.createElement("div",{className:"wtt-content"},A.a.createElement("div",{className:"wtt-meta"},A.a.createElement("div",{className:"author-info"},A.a.createElement("a",{"aria-hidden":true,tabIndex:-1,href:"/c/user/token/".concat(l.userId,"/?source=weitoutiao_detail"),className:"avatar",target:"_blank",rel:"noopener nofollow",onClick:_},A.a.createElement(dr["a"],{size:"middle",url:l.avatarUrl,authType:null===(r=l.userAuthInfo)||void 0===r?void 0:r.auth_type})),A.a.createElement("div",{className:"desc"},A.a.createElement("a",{href:"/c/user/token/".concat(l.userId,"/?source=weitoutiao_detail"),className:"name",target:"_blank",rel:"noopener nofollow",onClick:_},l.name),A.a.createElement("p",{className:"abstract"},A.a.createElement("span",{className:"time"},f),(null===(a=l.userAuthInfo)||void 0===a?void 0:a.auth_info)&&A.a.createElement(A.a.Fragment,null,A.a.createElement("span",{className:"dot"},"\xb7"),null===(i=l.userAuthInfo)||void 0===i?void 0:i.auth_info)))),!d&&A.a.createElement(hr,{userInfo:{isFollow:s.isFollowing,userSecToken:l.userId},loginUserInfo:u})),h&&A.a.createElement("h1",{style:{display:"none"}},h),A.a.createElement("article",{onClick:g},A.a.createElement("div",{className:"weitoutiao-html",dangerouslySetInnerHTML:{__html:p}}),A.a.createElement("div",{className:"image-list"},b.map((function(e,t){return A.a.createElement("img",{key:t,className:"weitoutiao-img",src:e})}))),v&&A.a.createElement(mr["a"],{commentType:o.commentType,originGroup:o.originGroup,originThread:o.originThread,originUgcVideo:o.originUgcVideo,originCommonContent:o.originCommonContent})))};var _r=gr;function yr(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)yr(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else yr(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var kr=null;var Er=function e(t){var n=Object(R["useContext"])(M["a"]);var r=n||{},a=r.articleType,i=void 0===a?"ugc":a,o=r.groupId,c=void 0===o?"":o,u=r.itemId,l=void 0===u?"":u,f=r.likeData,s=void 0===f?{count:0,userLikeStatus:0}:f,d=r.commentCount,v=void 0===d?"0":d,m=r.favorite,p=void 0===m?false:m,b=r.mediaInfo,h=r.loginUserInfo,g=r.cover,_=void 0===g?"":g,y=r.title,w=void 0===y?"":y,k=r.repostParams,E=r.identity,j=r.setCommentCount,O=r.showResearch,x=r.abtestInfo,C=r.commentType,I=r.originGroup,S=r.originThread,T=r.originUgcVideo,N=r.originCommonContent;var L=Object(R["useRef"])(null);var D=Object(R["useState"])(false),P=le()(D,2),U=P[0],V=P[1];var B=Object(R["useState"])(null),W=le()(B,2),z=W[0],q=W[1];var G=Object(R["useState"])([]),Q=le()(G,2),Y=Q[0],Z=Q[1];var J=Object(R["useState"])(false),X=le()(J,2),$=X[0],ee=X[1];var te=Object(R["useState"])(true),ne=le()(te,2),re=ne[0],ae=ne[1];var ie=Object(sr["a"])({commentType:C,originGroup:I,originThread:S,originUgcVideo:T,originCommonContent:N});var oe={content:(null===ie||void 0===ie?void 0:ie.content)||w,cover:_,user:b&&{name:b.name,uid:b.userId}};if(ie){var ce;oe={content:ie.content,cover:null===(ce=ie.coverUrls)||void 0===ce?void 0:ce[0],user:ie.userInfo&&{name:ie.userInfo.name,uid:ie.userInfo.uid}}}var ue={origin:oe,repostParams:wr(wr({fw_id:c,fw_id_type:2,fw_user_id:(null===b||void 0===b?void 0:b.unsafeUserId)||0,opt_id:c,opt_id_type:2,repost_type:212},k),{},{repost_to_comment:1,group_id:c,item_id:l}),loginUserInfo:h&&{uid:h.userId}};var fe=wr(wr({},kr),{},{page_name:F["e"][i],from_gid:c,position:"detail"});Object(R["useEffect"])((function(){kr=Object(H["a"])()||{}}),[]);var se=Object(R["useCallback"])((function(e){ee(e)}),[]);function de(e){ae(!e)}function ve(e){null===j||void 0===j?void 0:j(e)}function me(e){if(!e)return;if("img"===e.tagName.toLowerCase()&&"weitoutiao-img"===e.className){q(e);V(true);if(!Y.length)Z(Array.prototype.slice.call(document.querySelectorAll(".wtt-content .weitoutiao-img")))}}function pe(){V(false);q(null)}function be(e){var t=Object(H["a"])()||{},n=t.enter_from,r=void 0===n?"":n,a=t.channel_id,i=void 0===a?0:a,o=t.category_name,u=void 0===o?"":o;Object(K["a"])("content_section_show",{group_id:c,widget_name:e,position:"detail",category_name:u,channel_id:i,enter_from:r,section:e,is_has_following:(null===h||void 0===h?void 0:h.followingCount)?1:0})}function he(){var e;null===(e=L.current)||void 0===e?void 0:e.openCommentPanel()}return A.a.createElement("div",{role:"main",className:"wtt-detail-container"},A.a.createElement("div",{className:"left-sidebar"},A.a.createElement("div",{style:{display:re?"block":"none"}},A.a.createElement(Qn,{loginUserInfo:h,groupId:c,itemId:l,likeData:s,commentCount:v,isCollected:p,shareConfig:{default:{title:w,url:Object(Ge["b"])(Ge["a"].WTT,c),cover:_},wtt:ue},diggType:i===F["a"].ugc?F["c"].WTT:F["c"].COMMENT,logParams:t.logParams,onCommentClick:he}))),A.a.createElement("div",{className:"main"},A.a.createElement(At["a"],{inViewHandler:function e(){return be("content_detail")}},A.a.createElement(_r,{data:n,onClickContent:me})),A.a.createElement("div",{className:"action"},A.a.createElement(Qt["a"],{groupId:c,source:F["g"].WTT,webid:(null===E||void 0===E?void 0:E.web_id)||""})),A.a.createElement("div",{style:{margin:"20px 0 40px"}},A.a.createElement(Ve,{ref:L,loginUserInfo:h&&{name:h.name,uid:h.userId,avatar:h.avatarUrl},isReplyList:i===F["a"].comment,groupId:c,itemId:l,webid:(null===E||void 0===E?void 0:E.web_id)||"",previewCount:3,defaultCount:20,logParams:t.logParams,onInitEnd:ve})),A.a.createElement(Ze,{offset:437,onViewChange:de},A.a.createElement("div",{className:"divide"})),A.a.createElement(Be["a"].Provider,{value:h&&wr(wr({},h),{},{isPgc:h.isPgc?1:0})},A.a.createElement(We["a"].Provider,{value:{webid:(null===E||void 0===E?void 0:E.web_id)||"",abtestInfo:x}},A.a.createElement(At["a"],{inViewHandler:function e(){return be("detail_feed")}},A.a.createElement(ar,{groupId:c,itemId:l,logParams:fe,abtestInfo:x}))))),A.a.createElement("div",{className:"right-sidebar"},O&&A.a.createElement("div",{style:{marginBottom:28}},A.a.createElement(Ft["a"],null)),A.a.createElement(At["a"],{inViewHandler:function e(){return be("hot_spot")}},A.a.createElement(En,{fixed:$,logParams:fe})),A.a.createElement(Ze,{offset:64,onViewChange:se},A.a.createElement(At["a"],{inViewHandler:function e(){return be("hot_video")}},A.a.createElement(Ln,{logParams:fe})))),A.a.createElement(Rt,{visible:U,target:z,list:Y,logParams:{page_name:fe.page_name,group_id:c},onClose:pe}))};var jr=Er;var Or=function e(t){var n=t.articleType,r=ce()(t,["articleType"]);if(n===F["a"].ugc||n===F["a"].comment)return A.a.createElement(jr,ie()({},r));return A.a.createElement(lr,ie()({},r))};var xr=Or;function Cr(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)Cr(Object(n),true).forEach((function(t){k()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else Cr(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function Sr(e){var t=Tr();return function n(){var r=L()(e),a;if(t){var i=L()(this).constructor;a=b()(r,arguments,i)}else a=r.apply(this,arguments);return T()(this,a)}}function Tr(){if("undefined"===typeof Reflect||!b.a)return false;if(b.a.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(b()(Date,[],(function(){})));return true}catch(e){return false}}var Nr=function(e){I()(n,e);var t=Sr(n);function n(){var e;j()(this,n);e=t.apply(this,arguments);e.state={commentCount:"0",showFeedback:false};e.setCommentCount=function(t){e.setState({commentCount:Object(V["j"])(t||0)})};e.handleLogoClick=function(){Object(B["c"])("web_page_title")};e.onLogin=function(){D["a"].show()};e.onLogout=function(){D["a"].logout()};return e}x()(n,[{key:"handleFeedbackPanel",value:function e(t){this.setState({showFeedback:t})}},{key:"render",value:function e(){var t=this;var n=this.props.data||{},r=n.groupId,a=n.mediaInfo,i=n.articleType,o=n.loginUserInfo,c=n.groupSource,u=n.abtestInfo,l=n.localCityInfo,f=n.identity,s=n.logId;var d=this.state,v=d.showFeedback,m=d.commentCount;var p=Ir(Ir({},this.props.data),{},{commentCount:m,setCommentCount:this.setCommentCount});var b=Object(H["a"])();var h={category_name:(null===b||void 0===b?void 0:b.category_name)||"",enter_from:(null===b||void 0===b?void 0:b.enter_from)||"",page_name:F["e"][i],group_type:"article"===i?"tuwen":"weitoutiao",group_id:r,author_id:null===a||void 0===a?void 0:a.userId,position:"detail",group_source:c,article_type:F["b"][i]};return A.a.createElement(M["a"].Provider,{value:p},A.a.createElement(P["a"],{logParams:h,userInfo:o,abtestInfo:u,localCityInfo:l,onLogoClick:this.handleLogoClick,onLogin:this.onLogin,onLogout:this.onLogout}),A.a.createElement(xr,{articleType:i,logParams:h}),A.a.createElement(W["a"],{showHome:true,logParams:h,isFeedbackShow:v,onFeedbackClick:function e(){return t.handleFeedbackPanel(true)}}),A.a.createElement(re,{data:p}),A.a.createElement(D["a"],null),A.a.createElement(z["a"],{extraOptions:{userId:null===o||void 0===o?void 0:o.userId,webId:null===f||void 0===f?void 0:f.web_id,logId:s},visible:v,onClose:function e(){return t.handleFeedbackPanel(false)}}),A.a.createElement(q["a"],null))}}]);return n}(A.a.Component);Nr.getDerivedHeadElement=function(){var e=y()(g.a.mark((function e(t,n){var r,a;var i,o;return g.a.wrap((function e(t){while(1)switch(t.prev=t.next){case 0:i=null===n||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.pathname;o=(null===n||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.seoTDK)||{};return t.abrupt("return",{head:A.a.createElement(A.a.Fragment,null,A.a.createElement("title",null,o.title),A.a.createElement("meta",{name:"keywords",content:o.keywords}),A.a.createElement("meta",{name:"description",content:o.description}),true&&A.a.createElement("meta",{httpEquiv:"Content-Security-Policy",content:"upgrade-insecure-requests"}),A.a.createElement("link",{rel:"canonical",href:"https://www.toutiao.com".concat(i)}),A.a.createElement("link",{rel:"alternate",media:"only screen and (max-width: 640px)",href:"https://m.toutiao.com".concat(i)})),position:"before"});case 3:case"end":return t.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},d84b833f284337beaf9b:function(e,t,n){"use strict";var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);var h=n("a3a1ced60541f1b5c9f6");var g=n.n(h);var _=n("69084d01d3449fc1bc27");var y=n.n(_);var w=n("2e0796c118320b51c6e6");var k=n("a64d180a93f05247c622");var E=n.n(k);var j=n("5877b71c460e33b640ac");var O=n.n(j);var x=n("a441a1cddaa9c253f395");var C=n.n(x);var I=n("76580fe2fcfe92db6633");var S=n.n(I);var T=n("c4aa52e085c59e3d7b93");var N=n.n(T);var L=n("3330101ffc52d61bba35");var R=n.n(L);var A=n("174811872339f1d02c40");var D=n.n(A);var P=n("7c04e1c6a9d8a4a067f5");var U=n("be6323750fae7868d676");function M(e){var t=F();return function n(){var r=R()(e),a;if(t){var i=R()(this).constructor;a=E()(r,arguments,i)}else a=r.apply(this,arguments);return N()(this,a)}}function F(){if("undefined"===typeof Reflect||!E.a)return false;if(E.a.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(E()(Date,[],(function(){})));return true}catch(e){return false}}var V=function(e){S()(n,e);var t=M(n);function n(){var e;O()(this,n);e=t.apply(this,arguments);e.state={fade:false};e.toastEl=null;return e}C()(n,[{key:"componentDidMount",value:function e(){var t,n=this;var r=document.activeElement;null===(t=this.toastEl)||void 0===t?void 0:t.focus();this.timer=setTimeout((function(){n.setState({fade:true});if(Object(U["q"])(r))null===r||void 0===r?void 0:r.focus()}),2e3)}},{key:"componentWillUnmount",value:function e(){clearTimeout(this.timer)}},{key:"render",value:function e(){var t=this;var n=this.state.fade;var r=this.props,a=r.msg,i=r.className;return y.a.createElement("div",{role:"alert",tabIndex:0,"aria-label":a,"data-focus-trap-disable":true,ref:function e(n){t.toastEl=n},className:D()("toast",i,{fade:n})},a)}}]);return n}(y.a.PureComponent);function H(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)H(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else H(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}function W(e){var t=document.createElement("div");document.body.appendChild(t);function n(e){w["render"](_["createElement"](V,g()({},e)),t)}function r(){var e=w["unmountComponentAtNode"](t);if(e&&t.parentNode)t.parentNode.removeChild(t)}n(B({},e));setTimeout((function(){return r()}),3e3);return{}}function z(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)z(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else z(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}V.info=function(e,t){return W(q({msg:e},t))};var G=t["a"]=V},da718d76f9b51529dd59:function(e,t,n){},dbfda9872bd1c8d94329:function(e,t,n){},dd0427b409c46a6ca302:function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=a.a.createContext(null);t["a"]=i},e06df67fb68d40eb8959:function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("174811872339f1d02c40");var o=n.n(i);var c=n("a79cb04363dcc4858702");var u=n.n(c);var l=n("f02651e2b8a0012e1e7a");var f=n.n(l);var s=n("583766baffb257cbf38f");var d=n("62ea6c1add15eea97123");var v=n("9ab2f1ff086dee039972");var m=n("e2097d7c28f72f984fd6");var p=function e(t,n){var i=t.className,c=t.ariaLabel,l=t.title,f=t.children,p=t.visible,b=t.maskClosable,h=void 0===b?true:b,g=t.hasClose,_=void 0===g?true:g,y=t.noMask,w=void 0===y?false:y,k=t.style,E=t.xAxisResponsive,j=void 0===E?false:E,O=t.onClose,x=t.onMount;var C=Object(r["useRef"])(null);var I=Object(r["useRef"])(null);var S=Object(r["useRef"])(null);var T=Object(r["useRef"])(null);var N=Object(r["useRef"])(null);var L=Object(r["useRef"])(null);var R=Object(r["useRef"])({});var A=Object(r["useRef"])({});var D=Object(r["useRef"])(false);var P=Object(r["useRef"])(false);function U(){if(h)O()}function M(){D.current=true}function F(){if(!C.current)C.current=document.querySelector(".ttp-drawer-wrapper");return C.current}function V(){var e=Object(s["a"])();if(document.body.clientHeight>window.innerHeight){R.current=Object(d["a"])({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body);Object(d["a"])({width:"calc(100% - ".concat(e,"px)")},F())}if(I.current)Object(d["a"])(A.current,I.current)}function H(){var e=Object(s["a"])();Object(d["a"])(R.current,document.body);Object(d["a"])({width:"100%"},F());if(I.current){var t=Array.prototype.slice.call(I.current.childNodes).reduce((function(e,t){return e+t.clientHeight}),0);if(t>I.current.clientHeight)A.current=Object(d["a"])({overflowY:"hidden",width:"calc(100% - ".concat(e,"px)")},I.current)}}function B(){T.current=document.activeElement;setTimeout((function(){var e;if(!S.current)return;if(!N.current)N.current=S.current.querySelector(".first-focus-el");null===(e=N.current)||void 0===e?void 0:e.focus()}))}function W(){var e;if(D.current){D.current=false;null===(e=T.current)||void 0===e?void 0:e.focus()}}var z=Object(r["useCallback"])((function(e){if(e.keyCode===v["a"].ESC){D.current=true;O()}}),[]);var q=Object(r["useCallback"])((function(e){var t;var n=e.target;if(!S.current||!n)return;try{var r=document.querySelector(".ttp-modal-wrapper");if(16&(null===r||void 0===r?void 0:r.compareDocumentPosition(n)))return;if(n===L.current||!(16&S.current.compareDocumentPosition(n)))null===(t=N.current)||void 0===t?void 0:t.focus()}catch(a){void 0}}),[]);var G=Object(r["useCallback"])((function(){if(P.current)return;P.current=true;u()((function(){var e=window.scrollX;e=e>=0?e:0;if(S.current)S.current.style.right="".concat(e,"px");P.current=false}))}),[j]);function Q(){if(j)G()}Object(r["useImperativeHandle"])(n,(function(){return{bodyEl:I}}));Object(r["useEffect"])((function(){if(p){window.addEventListener("keydown",z);j&&window.addEventListener("scroll",G);B()}else{window.removeEventListener("keydown",z);window.removeEventListener("focus",q,true);window.removeEventListener("scroll",G);W()}return function(){window.removeEventListener("keydown",z);window.removeEventListener("focus",q,true);window.removeEventListener("scroll",G)}}),[p]);return a.a.createElement(m["a"],{className:o()("ttp-drawer-wrapper",i,{"no-mask":w}),visible:p,closeTimeout:300,onMount:x,onEnter:Q},a.a.createElement(a.a.Fragment,null,!w&&a.a.createElement("div",{className:"mask",onClick:U}),a.a.createElement("div",{role:"dialog","aria-modal":true,"aria-label":c,className:"ttp-drawer",style:k,ref:S,onMouseEnter:V,onMouseLeave:H},a.a.createElement("div",{tabIndex:0,className:"header first-focus-el"},l,_&&a.a.createElement("button",{"aria-label":"\u5173\u95ed",className:"close-btn",onClick:O,onKeyDown:M})),a.a.createElement("div",{className:"body",ref:I},f),a.a.createElement("div",{tabIndex:0,ref:L}))))};t["a"]=Object(r["forwardRef"])(p)},e0e7afec53e5c6f0976a:function(e,t,n){},e101535ac9d197332c92:function(e,t,n){},e2077f1c42c64000df64:function(e,t,n){},e2097d7c28f72f984fd6:function(e,t,n){"use strict";var r=n("d2cc329ce222e2406492");var a=n.n(r);var i=n("352fe4c99a6fff2f363c");var o=n.n(i);var c=n("056606c89293aa5bef85");var u=n.n(c);var l=n("f9c528707353f5b6df95");var f=n.n(l);var s=n("fa2a44115ff2bd1a0d71");var d=n.n(s);var v=n("514e048378a284fc2dcd");var m=n.n(v);var p=n("4fa4ba9dede71d4f591e");var b=n.n(p);var h=n("a2b92cfef2eaa695ad2f");var g=n.n(h);var _=n("69084d01d3449fc1bc27");var y=n.n(_);var w=n("2e0796c118320b51c6e6");var k=n.n(w);var E=n("174811872339f1d02c40");var j=n.n(E);function O(e,t){return T(e)||S(e,t)||C(e,t)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}function I(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function T(e){if(Array.isArray(e))return e}function N(e){return null===e||void 0===e?void 0:e.clientWidth}var L=function e(t){var n=t.children,r=t.onMount;Object(_["useEffect"])((function(){r&&r()}),[]);return k.a.createPortal(n,document.body)};var R=function e(t){var n=t.visible,r=t.className,a=t.closeTimeout,i=void 0===a?200:a,o=t.children,c=t.onEnter;var u=Object(_["useState"])(n),l=O(u,2),f=l[0],s=l[1];var d=Object(_["useRef"])(null);function v(){if(d.current){d.current.classList.add("ttp-portal-show");d.current.classList.remove("ttp-portal-hide");N(d.current);d.current.classList.add("ttp-portal-anime-show");d.current.classList.remove("ttp-portal-anime-hide");null===c||void 0===c?void 0:c()}}function m(){if(d.current){d.current.classList.add("ttp-portal-anime-hide");d.current.classList.remove("ttp-portal-anime-show")}setTimeout((function(){var e,t;null===(e=d.current)||void 0===e?void 0:e.classList.add("ttp-portal-hide");null===(t=d.current)||void 0===t?void 0:t.classList.remove("ttp-portal-show")}),i)}Object(_["useEffect"])((function(){if(n){s(true);if(d.current)v()}else m()}),[n]);function p(){var e;null===(e=t.onMount)||void 0===e?void 0:e.call(t);v()}if(f)return y.a.createElement(L,{onMount:p},y.a.createElement("div",{className:j()("ttp-portal-wrapper",r),ref:d},o));return null};t["a"]=R},e21f3ef9e0e4c7ac448b:function(e,t,n){},e397fe60ec3cfbf24fa9:function(e,t,n){},e485e9e29daf75cab9e8:function(e,t,n){},e51434d8d152e1ba8c58:function(e,t,n){},e6c0fa9948fe7e0bc082:function(e,t,n){},e7201fa908046c02f513:function(e,t,n){},e763df33e8176fe29b0e:function(e,t,n){"use strict";var r=n("a3a1ced60541f1b5c9f6");var a=n.n(r);var i=n("0d95bde6a93458823cd2");var o=n.n(i);var c=n("69084d01d3449fc1bc27");var u=n.n(c);var l=n("20c6f2e62cf94b7db59c");var f=function e(t){var n=t.href,r=t.logInfo,i=o()(t,["href","logInfo"]);function c(e){if(n&&r){e.preventDefault();var t=Object(l["b"])(n,r);window.open(t)}}return u.a.createElement("a",a()({},i,{href:n,target:"_blank",rel:"noopener nofollow","origin-target":"true",onClick:c}),t.children)};t["a"]=f},ea597a565c1eb87a3414:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("195c70dfe6078b3eff76");var a=n.n(r);function i(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},ecc80ba510baa97c03b0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));function r(){if("undefined"===typeof window)return;if(false);Promise.all([n.e(17),n.e(0)]).then(n.t.bind(null,"9b6650a046270e743bbd",7)).then((function(e){var t=e.TtWid;var n=new t({aid:24,service:"www.toutiao.com",region:"cn",union:true,needFid:false});try{n.checkWebId()}catch(r){void 0}}))}},ed0e645fb10944a4fb8f:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));n.d(t,"g",(function(){return I}));n.d(t,"f",(function(){return S}));n.d(t,"k",(function(){return T}));n.d(t,"i",(function(){return N}));n.d(t,"j",(function(){return L}));n.d(t,"c",(function(){return U}));n.d(t,"m",(function(){return M}));n.d(t,"l",(function(){return F}));n.d(t,"e",(function(){return V}));n.d(t,"d",(function(){return H}));n.d(t,"n",(function(){return B}));n.d(t,"o",(function(){return W}));n.d(t,"b",(function(){return z}));n.d(t,"h",(function(){return q}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);var h=n("d91e41a1fd752d4cc7b7");var g=n.n(h);var _=n("be6323750fae7868d676");var y=n("acff6c447f863638e55f");var w=n("1b69c40e39893f89b5f5");var k=n("10130cfc2ba27a09b7e5");function E(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)E(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else E(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var O={ARTICLE:"article",WTT:"wtt",VIDEO:"video",REFRESH:"refresh"};var x=[48,102];function C(e){var t=e.cell_type;if(e.is_stick)return O.ARTICLE;if(0===t){if(e.has_video)return O.VIDEO;return O.ARTICLE}if([32,56].indexOf(t)>-1)return O.WTT;if(48===t)return O.VIDEO;return O.ARTICLE}function I(e,t){if(165===e.group_source)return e.open_url;if((e.is_stick||4===e.stick_style)&&e.article_type>0&&e.article_url)return e.article_url;if(O.WTT===t)return Object(y["b"])(y["a"].WTT,e.thread_id_str||e.id_str);else if(O.VIDEO===t)return Object(y["b"])(y["a"].SELF_VIDEO,e.group_id);return Object(y["b"])(y["a"].ARTICLE,e.group_id)}function S(e){var t=[];if(e.thumb_image_list)t=e.thumb_image_list;else if(e.large_image_list)t=e.large_image_list;else if(e.image_list)t=e.image_list;else if(e.middle_image)t=[].concat(e.middle_image);return t.map((function(e){var t;return null===(t=e.url)||void 0===t?void 0:t.replace(/^http:/,"")})).filter(Boolean)}function T(e){var t=e.user_info||e.user;if(56===e.cell_type){var n;var r=null===(n=e.comment_base)||void 0===n?void 0:n.user;return{name:r.info.name,userSecToken:r.info.user_id,userAuthInfo:Object(_["t"])(r.info.user_auth_info||"{}"),avatarUrl:r.info.avatar_url,isFollow:!!r.relation.is_following,schema:r.info.schema}}if(t)return{name:t.name,userSecToken:t.user_id,userAuthInfo:Object(_["t"])(t.user_auth_info||"{}"),avatarUrl:t.avatar_url,isFollow:!!((null===t||void 0===t?void 0:t.follow)||(null===t||void 0===t?void 0:t.is_following)),schema:t.schema};return null}function N(e){if(e.media_info)return{name:e.media_info.name,userId:e.media_info.user_id};return null}function L(e){if(!e)return"";var t=String(e.userSecToken);if(!e.schema)return t;return Object(_["n"])("uid",e.schema.split("?")[1])||t}function R(e){var t;return e.group_source||(null===(t=e.comment_base)||void 0===t?void 0:t.group_source)||0}function A(e,t){var n=new g.a;t.forEach((function(e){return n.add(e.group_id)}));return e.filter((function(e){return!n.has(e.group_id)}))}function D(e){return e.map((function(e){var t=e.group_id||e.id;var n=e.item_id||e.id;if(x.includes(e.cell_type)){var r=Math.random().toString(16).substr(2);t=r;n=r}return j(j({},e),{},{group_id:t,item_id:n})}))}function P(e,t){return e.map((function(e,n){var r=C(e);var a=j(j({},e),{},{title:e.feed_title||e.title,__channel_id:t,__channel_info:Object(k["c"])(t),__type:r,__detail_url:I(e,r),__cover_urls:S(e),__user_info:T(e),__group_source:R(e)});if(4===e.stick_style)a.is_stick=true;if(a.__type===O.WTT){var i;a.__show_subscribe=!(null===(i=a.user)||void 0===i?void 0:i.is_following)}if(a.is_stick)a.__stick_index=n;return a}))}function U(e){return e.map((function(e,t){return j(j({},e),{},{__log_show_rank:t+1})}))}function M(e,t,n,r){var a=t.filter((function(e){if(e.is_stick)return false;return true}));var i=A(D(e),a);var o=P(i,n);if("after"===r)return U(a.concat(o));if("prepend"===r)return U(o.concat(a));return U(o)}function F(e,t,n){var r=A(D(e),t);var a=P(r,n);return U(t.concat(a))}function V(e,t){return U(t.filter((function(t){return t.group_id!==e})))}function H(e,t){var n;var r=null===(n=e.__user_info)||void 0===n?void 0:n.userSecToken;return U(t.filter((function(e){var t;return(null===(t=e.__user_info)||void 0===t?void 0:t.userSecToken)!==r})))}function B(e,t,n){return n.map((function(n){if(n.__type===O.WTT)if(n.user.id===t.user.id)return j(j({},n),{},{user:j(j({},n.user),{},{is_following:e})});return n}))}function W(e,t,n){return n.map((function(n){if(n.group_id===e.group_id){if(56===e.cell_type){var r;var a=null===(r=e.comment_base)||void 0===r?void 0:r.action;var i=n;if(a)i.comment_base.action=j(j({},a),{},{digg_count:1===t?++a.digg_count:--a.digg_count,user_digg:t});return i}return j(j({},n),{},{digg_count:1===t?++n.digg_count:--n.digg_count,user_digg:t})}return n}))}function z(e,t){return e.map((function(e){return j(j({},e),t)}))}function q(e,t){if(e)return e===k["a"].get().follow.key?e:"";if(t){if(t===w["a"].fav.key)return"";if(t===w["a"].video.key)return t;return w["a"].all.key}return""}},ed8d16f3f8c4d22e1fe9:function(e,t,n){},edc2b76b5d9ea09775b6:function(e,t,n){"use strict";var r=n("4fa4ba9dede71d4f591e");var a=n("f9c528707353f5b6df95");var i=n("0193be145c15b0751246");var o=n("f4095745be08d782d539");var c=n("fa2a44115ff2bd1a0d71");var u=n("93d7a148460d9069f5a3");var l=n("2810e53ad7174f3c046d");var f=n("a2b92cfef2eaa695ad2f");var s=n("69084d01d3449fc1bc27");var d=n.n(s);var v=n("e397fe60ec3cfbf24fa9");var m=n("bd8ea4fd9e1bc4efca14");var p=n("80163d0657a0dbb02e68");var b=n("abbf799a026c91d8612e");var h={DEFAULT:"\u767b\u5f55\u540e\u5185\u5bb9\u66f4\u7cbe\u5f69",OTHER:"\u767b\u5f55\u89e3\u9501\u5b8c\u6574\u529f\u80fd"};var g="session_aweme_code";var _=function e(){try{window.sessionStorage.setItem("testSessionStorage","1");window.sessionStorage.getItem("testSessionStorage");window.sessionStorage.removeItem("testSessionStorage");return true}catch(t){return false}};var y=function e(t){if(!_())return false;return window.sessionStorage.getItem(g)===t};var w=function e(){var t=Object(m["b"])(),n=t.code,r=t.from_aweme;if(r&&n){var a=y(n);if(!a)return true}return false};var k=function e(){return d.a.createElement("div",{className:"scan-code-desc"},d.a.createElement("div",null,"\u4f7f\u7528  ",d.a.createElement("i",null,"\u4eca\u65e5\u5934\u6761APP")),d.a.createElement("div",null,"\u5728\u201c\u6211\u7684\u201d\u754c\u9762\u5de6\u4e0a\u89d2\u70b9\u51fb\u626b\u4e00\u626b\u767b\u5f55",d.a.createElement("i",null)),d.a.createElement("div",{className:"scan-preview"},d.a.createElement("i",null)))};var E=k;var j=n("fc44cefe38e5ec0c2fd4");function O(e){"@babel/helpers - typeof";if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator)O=function e(t){return typeof t};else O=function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return O(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function I(e,t,n){if(t)C(e.prototype,t);if(n)C(e,n);return e}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)T(e,t)}function T(e,t){T=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return T(e,t)}function N(e){var t=A();return function n(){var r=D(e),a;if(t){var i=D(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return L(this,a)}}function L(e,t){if(t&&("object"===O(t)||"function"===typeof t))return t;return R(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function D(e){D=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return D(e)}function P(e,t,n,r,a,i,o){try{var c=e[i](o);var u=c.value}catch(l){n(l);return}if(c.done)t(u);else Promise.resolve(u).then(r,a)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){P(i,r,a,o,c,"next",e)}function c(e){P(i,r,a,o,c,"throw",e)}o(void 0)}))}}var M=void 0&&(void 0).__rest||function(e,t){var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)n[r]=e[r];if(null!=e&&"function"===typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)if(t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a]))n[r[a]]=e[r[a]];return n};var F=24;function V(e){return H.apply(this,arguments)}function H(){H=U(regeneratorRuntime.mark((function e(t){var r,a,i,o,c,u,l,f,s,d,v;return regeneratorRuntime.wrap((function e(b){while(1)switch(b.prev=b.next){case 0:r=t||{},a=r.onAuthLogin,i=r.redirectUrl,o=r.success;c=i||window.location.href;u="https://sso.toutiao.com";if(w()){l=Object(m["b"])(),f=l.code,s=M(l,["code"]);c=Object(m["c"])(window.location.origin,Object.assign({},s))}if(p["c"])u="";if(p["a"])u="https://sso-boe.toutiao.com";b.next=8;return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"4408fc98eff9db0c7783"));case 8:d=b.sent.default;v=new d({aid:F,scope:"sso",isOversea:false,region:"cn",next:c,isBoe:!!(p["a"]||p["c"]),host:u,loginType:["LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"],isStopCheckWhenHide:true,globalMobileSupport:true,unionLoginPanel:true,defaultCheck:true,ele:document.getElementById("login_modal_ele"),accountType:["mobile","email"],phoneSeparate:true,confirm:[{text:"\u300a\u7528\u6237\u534f\u8bae\u300b",url:"https://www.toutiao.com/user_agreement/"},{text:"\u300a\u9690\u79c1\u653f\u7b56\u300b",url:"https://www.toutiao.com/privacy_protection/"}],textConfig:{mobileCodeLoginText:{title:"\u624b\u673a\u767b\u5f55",mobilePlaceholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",confirmInfoBeforeText:"\u767b\u5f55\u5373\u540c\u610f"},accountPwdLoginText:{confirmInfoBeforeText:"\u767b\u5f55\u5373\u540c\u610f"},scanCodeLoginText:{refreshCode:"\u70b9\u51fb\u5237\u65b0",getCodeFailed:"\u70b9\u51fb\u5237\u65b0",loginSuccess:"\u626b\u7801\u6210\u529f"},extraText:{otherLoginText:"\u5176\u4ed6\u767b\u5f55",switchToLogin:"\u8fd4\u56de\u767b\u5f55"}},otherMethod:[{key:"aweme",type:"auth",authConfig:{clientKey:"awggm9lb4j3epp3d",scope:"user_info",platformAppId:2115}},{key:"qzone_sns",type:"auth",authConfig:{platformAppId:5}},{key:"weixin",type:"auth",authConfig:{platformAppId:43}},{key:"account_pwd",type:"page",clickToPage:"LOGIN_ACCOUNT_PWD",existOn:["LOGIN_MOBILE_CODE","LOGIN_SCAN_CODE"]},{key:"mobile_code",type:"page",clickToPage:"LOGIN_MOBILE_CODE",existOn:["LOGIN_ACCOUNT_PWD","LOGIN_SCAN_CODE"]}],ScanCodeDescription:E,teaConfig:{appId:F,config:{evtParams:{url:window.location.href}}},success:o,onAuthLogin:a});return b.abrupt("return",v);case 11:case"end":return b.stop()}}),e)})));return H.apply(this,arguments)}var B=function(e){S(n,e);var t=N(n);function n(){var e;x(this,n);e=t.apply(this,arguments);e.state={show:false,title:h.DEFAULT};e.loginEl=null;e.destroy=null;e.sdkRef=null;e.onLogin=function(t){if(null===t||void 0===t?void 0:t.title)e.setState({title:h[t.title]||t.title});e.initModel()};e.onClose=function(){e.setState({show:false});setTimeout((function(){var t;null===(t=e.destroy)||void 0===t?void 0:t.call(R(e))}),200)};e.onSuccess=function(){var e=U(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(t.redirect_url){n.next=2;break}return n.abrupt("return");case 2:n.prev=2;n.next=5;return b["a"].login.getLogin(t.redirect_url);case 5:window.location.reload();n.next=11;break;case 8:n.prev=8;n.t0=n["catch"](2);window.Slardar&&window.Slardar("emit","counter",{name:"login-callback-error",value:1});case 11:case"end":return n.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();e.loadSDK=U(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function t(a){while(1)switch(a.prev=a.next){case 0:a.prev=0;n=e.props.redirectUrl;a.next=4;return V(Object.assign(Object.assign({},n?{redirectUrl:n}:{}),{success:e.onSuccess}));case 4:r=a.sent;e.sdkRef=r;window.WebLogin=Object.assign(Object.assign({},r),{show:e.onLogin});a.next=12;break;case 9:a.prev=9;a.t0=a["catch"](0);void 0;case 12:case"end":return a.stop()}}),t,null,[[0,9]])})));e.initModel=function(){var t;e.destroy=null===(t=e.sdkRef)||void 0===t?void 0:t.init(e.loginEl);var n=null===document||void 0===document?void 0:document.querySelector(".web-login-normal-input__input");null===n||void 0===n?void 0:n.classList.add("first-focus-el");e.setState({show:true})};return e}I(n,[{key:"componentDidMount",value:function e(){this.loadSDK();var t=w();if(t)this.initModel()}},{key:"render",value:function e(){var t=this;var n=this.state,r=n.title,a=n.show;return d.a.createElement(j["a"],{className:"ttp-login-modal",title:r,visible:a,maskClosable:false,onClose:this.onClose,footer:d.a.createElement(d.a.Fragment,null),init:true,limitFocusArea:false},d.a.createElement("div",{id:"login_modal_ele",ref:function e(n){t.loginEl=n}}))}}],[{key:"checkLogin",value:function(){var e=U(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function e(n){while(1)switch(n.prev=n.next){case 0:if(window.WebLogin){n.next=2;break}return n.abrupt("return",false);case 2:n.next=4;return window.WebLogin.checkLogin();case 4:t=n.sent;if(t.has_login){n.next=8;break}this.show();return n.abrupt("return",false);case 8:return n.abrupt("return",t.has_login);case 9:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]);return n}(d.a.Component);B.show=function(e){var t,n;null===(n=null===(t=window.WebLogin)||void 0===t?void 0:t.show)||void 0===n?void 0:n.call(t,e)};B.logout=function(){var e,t;null===(t=null===(e=window.WebLogin)||void 0===e?void 0:e.logout)||void 0===t?void 0:t.call(e)};var W=t["a"]=B},f02651e2b8a0012e1e7a:function(e,t,n){},f379d8630b54b982148d:function(e,t,n){"use strict";var r=n("69084d01d3449fc1bc27");var a=n.n(r);var i=n("174811872339f1d02c40");var o=n.n(i);var c=n("4459376f7bcc25f5262b");var u=n.n(c);var l=function e(t){var n=t.size,r=t.className,i=t.url,c=t.authType;return a.a.createElement("div",{className:o()("ttp-avatar","auth-".concat(c||"none"),r,n,{auth:c})},i&&a.a.createElement("img",{src:i,alt:""}))};t["a"]=l},f663fadc4eb5841c48bb:function(e,t,n){"use strict";n.r(t);n.d(t,"cancelRequest",(function(){return o}));n.d(t,"isCancel",(function(){return c}));n.d(t,"getSearchSug",(function(){return u}));var r=n("214eccfc06814c553a3c");var a=n.n(r);var i=n("c1c90d8f2436b65746ff");var o=null;var c=function e(t){return a.a.isCancel(t)};function u(e){return i["a"].get("/2/article/search_sug/",{params:{keyword:e,ps_type:"sug",aid:4916},cancelToken:new a.a.CancelToken((function(e){o=e}))})}},f888a5b741084f046b7a:function(e,t,n){},f916861225cf3448ecd3:function(e,t,n){},f9711afae4ca86286b3f:function(e,t,n){"use strict";var r=n("a3a1ced60541f1b5c9f6");var a=n.n(r);var i=n("69084d01d3449fc1bc27");var o=n.n(i);var c=n("2e0796c118320b51c6e6");var u=n.n(c);var l=n("7ecc01cf6c85b1ef1c34");var f=function e(t){var n=t.urls;if(!n||!n.length)return null;return u.a.createPortal(o.a.createElement(o.a.Fragment,null,n.map((function(e,t){return o.a.createElement("link",{key:t,rel:"prefetch",as:"document",href:e})}))),document.head)};t["a"]=function(e){return o.a.createElement(l["a"],null,o.a.createElement(f,a()({},e)))}},f9e7ab430b1eaeaf2713:function(e,t,n){"use strict";var r=n("a64d180a93f05247c622");var a=n.n(r);var i=n("5877b71c460e33b640ac");var o=n.n(i);var c=n("a441a1cddaa9c253f395");var u=n.n(c);var l=n("76580fe2fcfe92db6633");var f=n.n(l);var s=n("c4aa52e085c59e3d7b93");var d=n.n(s);var v=n("3330101ffc52d61bba35");var m=n.n(v);var p=n("69084d01d3449fc1bc27");var b=n.n(p);var h=n("54b2d6dda1f17486c719");var g=n("be6323750fae7868d676");var _=n("c3cdc631e8328a3bec0b");var y=n("e2077f1c42c64000df64");var w=function e(){return b.a.createElement("div",{className:"feed-m-loading"},b.a.createElement("span",{className:"text"},"\u6b63\u5728\u83b7\u53d6\u66f4\u591a\u5185\u5bb9"))};var k=w;function E(e){var t=j();return function n(){var r=m()(e),i;if(t){var o=m()(this).constructor;i=a()(r,arguments,o)}else i=r.apply(this,arguments);return d()(this,i)}}function j(){if("undefined"===typeof Reflect||!a.a)return false;if(a.a.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(a()(Date,[],(function(){})));return true}catch(e){return false}}var O=function(e){f()(n,e);var t=E(n);function n(){var e;o()(this,n);e=t.apply(this,arguments);e.containerEl=null;e.handleScroll=Object(g["u"])((function(){if(e.props.disable)return;if(!e.containerEl)return;if(e.props.loading||e.props.refresh||!e.props.hasMore)return;var t=e.containerEl.getBoundingClientRect();var n=t.top+e.containerEl.clientHeight-window.innerHeight;if(n<=600)e.props.onLoadMore()}),300);e.handleEEScrollToTop=function(){var t,n,r;var a=(null===(t=e.containerEl)||void 0===t?void 0:t.getBoundingClientRect().top)||0;var i=e.props.toTopOffset||-16;var o=a+Object(_["c"])()+i;window.scrollTo(0,o);null===(n=(r=e.props).onScrollToTop)||void 0===n?void 0:n.call(r,o)};return e}u()(n,[{key:"componentDidMount",value:function e(){window.addEventListener("scroll",this.handleScroll);h["a"].on.scrollToTop(this.handleEEScrollToTop)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("scroll",this.handleScroll);h["a"].off.scrollToTop(this.handleEEScrollToTop)}},{key:"render",value:function e(){var t=this;var n=this.props,r=n.children,a=n.loading;return b.a.createElement("div",{ref:function e(n){return t.containerEl=n}},r,a&&b.a.createElement(k,null))}}]);return n}(b.a.Component);var x=t["a"]=O},fb622297466e7a637f99:function(e,t,n){"use strict";n.d(t,"j",(function(){return O}));n.d(t,"k",(function(){return x}));n.d(t,"i",(function(){return C}));n.d(t,"h",(function(){return I}));n.d(t,"l",(function(){return S}));n.d(t,"w",(function(){return N}));n.d(t,"v",(function(){return L}));n.d(t,"d",(function(){return A}));n.d(t,"n",(function(){return D}));n.d(t,"q",(function(){return P}));n.d(t,"o",(function(){return U}));n.d(t,"r",(function(){return M}));n.d(t,"p",(function(){return F}));n.d(t,"m",(function(){return V}));n.d(t,"f",(function(){return H}));n.d(t,"t",(function(){return B}));n.d(t,"b",(function(){return W}));n.d(t,"g",(function(){return z}));n.d(t,"u",(function(){return q}));n.d(t,"a",(function(){return G}));n.d(t,"c",(function(){return K}));n.d(t,"e",(function(){return Y}));n.d(t,"s",(function(){return J}));n.d(t,"x",(function(){return X}));var r=n("1fbd449e565d9fe73e34");var a=n.n(r);var i=n("59c079e31d780aa10ab3");var o=n.n(i);var c=n("17182ec21c9e45f48693");var u=n.n(c);var l=n("4da96d66510db0326cde");var f=n.n(l);var s=n("62ff606f30425beb0057");var d=n.n(s);var v=n("6af3fb42e7368ad6a775");var m=n.n(v);var p=n("9f4f4b9798be7ce1394c");var b=n.n(p);var h=n("6cf195ddfada1b0033e1");var g=n("ed0e645fb10944a4fb8f");var _,y;function w(e,t){var n=m()(e);if(d.a){var r=d()(e);if(t)r=r.filter((function(t){return f()(e,t).enumerable}));n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};if(t%2)w(Object(n),true).forEach((function(t){b()(e,t,n[t])}));else if(u.a)o()(e,u()(n));else w(Object(n)).forEach((function(t){a()(e,t,f()(n,t))}))}return e}var E=(_={},b()(_,g["a"].ARTICLE,"tuwen"),b()(_,g["a"].VIDEO,"video"),b()(_,g["a"].WTT,"weitoutiao"),_);var j=(y={},b()(y,g["a"].ARTICLE,"text"),b()(y,g["a"].VIDEO,"video"),b()(y,g["a"].WTT,"wtt"),y);function O(e){var t="";if(!e)t="no_picture";else if(e>3)t="4_picture";else t="1_picture";return t}function x(e){return e.__log_impr_type||(0===e.__channel_id?"__pc_feed__":"__pc_channel")}function C(e){return e.__log_enter_from||(0===e.__channel_id?"click_headline":"click_category")}function I(e){var t;return e.__log_category_name||(null===(t=e.__channel_info)||void 0===t?void 0:t.category)}function S(e){Object(h["a"])("go_detail",k(k({},e),{},{log_pb:k({},e)}))}function T(e,t,n){var r,a;var i=(null===(r=t.__cover_urls)||void 0===r?void 0:r.length)||0;var o=k(k(k({},t.log_pb),{},{impr_type:x(t),group_id:t.group_id,group_source:t.group_source,group_type:O(i),group_format:E[t.__type],category_name:null===(a=t.__channel_info)||void 0===a?void 0:a.category,enter_from:C(t)},n),{},{url:window.location.href});Object(h["a"])("stay_page",k(k({},o),{},{stay_time:e,log_pb:o}))}function N(e,t){var n;var r=k(k({},e.log_pb),{},{impr_type:x(e),group_id:e.group_id,group_source:e.group_source,category_name:null===(n=e.__channel_info)||void 0===n?void 0:n.category},t);Object(h["a"])("video_play",k(k({},r),{},{page_type:"toutiao_feed",log_pb:r}))}function L(e,t){var n;var r=k(k({},e.log_pb),{},{impr_type:x(e),group_id:e.group_id,group_source:e.group_source,category_name:null===(n=e.__channel_info)||void 0===n?void 0:n.category},t);Object(h["a"])("video_over",k(k({},r),{},{page_type:"toutiao_feed"}))}function R(e){var t,n;var r=(null===(t=e.__cover_urls)||void 0===t?void 0:t.length)||0;Object(h["a"])("client_show",k(k({},e.log_pb),{},{impr_type:x(e),enter_from:C(e),category_name:I(e),group_id:e.group_id,group_source:e.group_source,group_type:O(r),group_format:E[e.__type],cell_type:e.cell_type,article_type:j[e.__type],section:e.__log_section||"feed",position:"related"===e.__log_category_name?"detail":"list",is_top_content:e.is_stick?"1":"0",show_rank:e.__log_show_rank,is_following:(null===(n=e.__user_info||e.userInfo)||void 0===n?void 0:n.isFollow)?"1":"0",key_name:"tt_pc_feed"}))}var A=function(){var e=[];var t=null;function n(){while(e.length)R(e.shift())}function r(){clearTimeout(t);t=setInterval((function(){n()}),6e4)}if("undefined"!==typeof window){r();window.addEventListener("visibilitychange",(function(){if("visible"===document.visibilityState)r();else{clearTimeout(t);n()}}));window.addEventListener("beforeunload",(function(){clearTimeout(t);n()}))}return function(t){e=e.concat(t)}}();function D(e,t){Object(h["a"])("follow_user",{enter_from:C(e),category_name:I(e),position:"list",to_user_id:null===t||void 0===t?void 0:t.userId,user_id:e.__user_info.userSecToken,author_id:e.__user_info.userSecToken,follow_type:"from_group",group_id:e.group_id,article_type:"weitoutiao"})}function P(e,t){Object(h["a"])("unfollow_user",{enter_from:C(e),category_name:I(e),position:"list",to_user_id:null===t||void 0===t?void 0:t.userId,user_id:e.__user_info.userSecToken,author_id:e.__user_info.userSecToken,follow_type:"from_group",group_id:e.group_id,article_type:"weitoutiao"})}function U(e,t,n){var r;Object(h["a"])("rt_like",k({enter_from:C(e),category_name:I(e),to_user_id:null===t||void 0===t?void 0:t.userId,user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.group_source,is_following:(null===(r=e.user)||void 0===r?void 0:r.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:"list"===n.position?"feed":"detail_feed"},n))}function M(e,t,n){var r;Object(h["a"])("rt_unlike",k({enter_from:C(e),category_name:I(e),to_user_id:null===t||void 0===t?void 0:t.userId,user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.group_source,is_following:(null===(r=e.user)||void 0===r?void 0:r.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:"list"===n.position?"feed":"detail_feed"},n))}function F(e,t,n){var r;Object(h["a"])("rt_share_to_platform",k({enter_from:C(e),category_name:I(e),to_user_id:null===t||void 0===t?void 0:t.userId,user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.group_source,is_following:(null===(r=e.user)||void 0===r?void 0:r.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:"list"===n.position?"feed":"detail_feed"},n))}function V(e,t){Object(h["a"])("rt_dislike",k({enter_from:C(e),category_name:I(e),group_id:e.group_id,group_source:e.group_source,show_rank:e.__log_show_rank,section:"list"===t.position?"feed":"detail_feed"},t))}function H(e,t){Object(h["a"])("dislike_click",k({enter_from:C(e),category_name:I(e),group_id:e.group_id,group_source:e.group_source,show_rank:e.__log_show_rank,section:"list"===t.position?"feed":"detail_feed"},t))}function B(e){Object(h["a"])("channel_show",k({},e))}function W(e){Object(h["a"])("category_click",k({},e))}function z(e){Object(h["a"])("enter_category",k({},e))}function q(e){Object(h["a"])("stay_category",k({},e))}function G(e){Object(h["a"])("category_refresh",k({},e))}function Q(e){Object(h["a"])("category_refresh",k({},e))}function K(e){Object(h["a"])("content_click",k({},e))}function Y(e){Object(h["a"])("content_show_more_click",{position:"list",enter_from:C(e),category_name:I(e),show_rank:e.__log_show_rank,author_id:e.__user_info.userSecToken})}function Z(e,t){var n;return{enter_from:C(e),category_name:I(e),user_id:e.__user_info.userSecToken,group_id:e.group_id,group_source:e.__group_source,is_following:(null===(n=e.user)||void 0===n?void 0:n.is_following)||"0",is_top_content:"0",show_rank:e.__log_show_rank,section:"list"===t.position?"feed":"detail_feed"}}function J(e,t){if("hover"===t.action_type)return;Object(h["a"])("share_button",k(k({},Z(e,t)),t))}function X(e,t){Object(h["a"])("repost_publish_done",k(k({},Z(e,t)),t))}},fc2cfd1b6b52d60a2681:function(e,t,n){},fc44cefe38e5ec0c2fd4:function(e,t,n){"use strict";var r=n("93d7a148460d9069f5a3");var a=n("69084d01d3449fc1bc27");var i=n.n(a);var o=n("9f6594acd74878e4062f");var c=n("583766baffb257cbf38f");var u=n("62ea6c1add15eea97123");var l=n("9ab2f1ff086dee039972");var f=n("d2cc329ce222e2406492");var s=n("352fe4c99a6fff2f363c");var d=n("056606c89293aa5bef85");var v=n("f9c528707353f5b6df95");var m=n("fa2a44115ff2bd1a0d71");var p=n("514e048378a284fc2dcd");var b=n("4fa4ba9dede71d4f591e");var h=n("a2b92cfef2eaa695ad2f");var g=n("2e0796c118320b51c6e6");var _=n.n(g);var y=n("174811872339f1d02c40");var w=n.n(y);function k(e,t){return C(e)||x(e,t)||j(e,t)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor)n=e.constructor.name;if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}function O(e,t){if(null==t||t>e.length)t=e.length;for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[];var r=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),c;!(r=(c=o.next()).done);r=true){n.push(c.value);if(t&&n.length===t)break}}catch(u){a=true;i=u}finally{try{if(!r&&null!=o["return"])o["return"]()}finally{if(a)throw i}}return n}function C(e){if(Array.isArray(e))return e}function I(e){return null===e||void 0===e?void 0:e.clientWidth}var S=function e(t){var n=t.children,r=t.onMount;Object(a["useEffect"])((function(){r&&r()}),[]);return _.a.createPortal(n,document.body)};var T=function e(t){var n=t.visible,r=t.className,o=t.closeTimeout,c=void 0===o?200:o,u=t.children,l=t.init;var f=Object(a["useState"])(n),s=k(f,2),d=s[0],v=s[1];var m=Object(a["useRef"])(null);function p(){if(m.current){m.current.classList.add("modal-show");m.current.classList.remove("modal-hide");I(m.current);m.current.classList.add("modal-anime-show");m.current.classList.remove("modal-anime-hide")}}function b(){if(m.current){m.current.classList.add("modal-anime-hide");m.current.classList.remove("modal-anime-show")}setTimeout((function(){var e,t;null===(e=m.current)||void 0===e?void 0:e.classList.add("modal-hide");null===(t=m.current)||void 0===t?void 0:t.classList.remove("modal-show")}),c)}Object(a["useEffect"])((function(){if(n){v(true);if(m.current)p()}else b()}),[n]);if(l||d)return i.a.createElement(S,{onMount:function e(){return!l&&p()}},i.a.createElement("div",{className:w()("ttp-modal-wrapper",r,{"modal-hide":l}),ref:m},u));return null};var N=T;var L=n("0193be145c15b0751246");function R(e){"@babel/helpers - typeof";if("function"===typeof Symbol&&"symbol"===typeof Symbol.iterator)R=function e(t){return typeof t};else R=function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return R(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function P(e,t,n){if(t)D(e.prototype,t);if(n)D(e,n);return e}function U(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)M(e,t)}function M(e,t){M=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return M(e,t)}function F(e){var t=B();return function n(){var r=W(e),a;if(t){var i=W(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return V(this,a)}}function V(e,t){if(t&&("object"===R(t)||"function"===typeof t))return t;return H(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function W(e){W=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return W(e)}var z=function(e){U(n,e);var t=F(n);function n(){var e;A(this,n);e=t.apply(this,arguments);e.state={mounted:false};return e}P(n,[{key:"componentDidMount",value:function e(){this.setState({mounted:true})}},{key:"render",value:function e(){var t=this.props.children;var n=this.state.mounted;if(n)return t;return null}}]);return n}(i.a.Component);var q=".first-focus-el";var G=".initial-focus-el";var Q=function e(t){var n=t.className,r=t.title,o=t.visible,f=t.maskClosable,s=void 0===f?true:f,d=t.onClose,v=t.onOk,m=t.children,p=t.footer,b=t.init,h=t.limitFocusArea,g=void 0===h?true:h;var _=Object(a["useRef"])({});var y=Object(a["useRef"])(null);var w=Object(a["useRef"])(null);var k=Object(a["useRef"])(null);var E=Object(a["useRef"])(null);function j(){d()}function O(){v&&v()}function x(){if(s)j()}function C(){w.current=document.activeElement;setTimeout((function(){var e,t,n;if(!y.current)return;k.current=y.current.querySelector(q);if(!k.current)k.current=y.current.querySelector(".ttp-modal-close-btn");var r=y.current.querySelector(G);if(r)null===(t=(e=r).focus)||void 0===t?void 0:t.call(e);else null===(n=k.current)||void 0===n?void 0:n.focus()}))}function I(){var e;null===(e=w.current)||void 0===e?void 0:e.focus()}var S=Object(a["useCallback"])((function(e){if(e.keyCode===l["a"].ESC)j()}),[]);var T=Object(a["useCallback"])((function(e){var t;var n=e.target;if(!y.current||!n)return;try{if(n===E.current||!(16&y.current.compareDocumentPosition(n)))null===(t=k.current)||void 0===t?void 0:t.focus()}catch(r){void 0}}),[]);Object(a["useEffect"])((function(){if(o){if(document.body.clientHeight>window.innerHeight){var e=Object(c["a"])();_.current=Object(u["a"])({overflow:"hidden",width:"calc(100% - ".concat(e,"px)")},document.body)}window.addEventListener("keydown",S);g&&window.addEventListener("focus",T,true);C()}else{Object(u["a"])(_.current,document.body);window.removeEventListener("keydown",S);window.removeEventListener("focus",T,true);I()}return function(){window.removeEventListener("keydown",S);window.removeEventListener("focus",T,true)}}),[o,S,T]);return i.a.createElement(N,{visible:o,className:n,init:b},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"ttp-modal-mask",onClick:x}),i.a.createElement("div",{role:"dialog","aria-modal":true,"aria-label":r,className:"ttp-modal",ref:y},i.a.createElement("div",{className:"ttp-modal-header"},i.a.createElement("span",{className:"ttp-modal-title"},r),i.a.createElement("button",{type:"button","aria-label":"\u5173\u95ed\u5f39\u7a97",className:"ttp-modal-close-btn",onClick:j},i.a.createElement("i",null))),i.a.createElement("div",{className:"ttp-modal-body"},m),i.a.createElement("div",{className:"ttp-modal-footer"},void 0!==p?p:i.a.createElement("div",{className:"ttp-modal-footer-btn"},i.a.createElement("button",{type:"button",className:"btn-cancel",onClick:j},"\u53d6\u6d88"),i.a.createElement("button",{type:"button",className:"btn-ok",onClick:O},"\u786e\u8ba4"))),i.a.createElement("div",{tabIndex:0,ref:E}))))};var K=t["a"]=function(e){return i.a.createElement(z,null,i.a.createElement(Q,Object.assign({},e)))}}});
//# sourceMappingURL=index.3e3c16d7.js.map